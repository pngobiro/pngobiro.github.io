
<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Examination - Comprehensive Guide to Electrocardiography</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles/main.css">

    <style>
        /* --- Exam Portal Specific Styles & Animations --- */
        .exam-body { background-color: var(--color-bg-secondary); }

        /* Keyframes */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translate3d(0, 30px, 0); }
            to { opacity: 1; transform: translate3d(0, 0, 0); }
        }

        /* Realistic Heartbeat Pulse (Lub-Dub) */
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.05); } /* Lub */
            30% { transform: scale(1); }
            45% { transform: scale(1.08); } /* Dub */
            60% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        /* ECG Line Moving Animation */
        @keyframes ecgMove {
            0% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Hero Styling */
        .exam-hero {
            background: var(--gradient-primary);
            color: white;
            padding: var(--space-12) var(--space-6) var(--space-16);
            text-align: center;
            position: relative;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%);
            margin-bottom: -4rem;
            animation: fadeInUp 0.8s ease-out;
            overflow: hidden; /* Keep animation inside */
        }

        /* The ECG Trace Background */
        .ecg-background-strip {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.15;
            /* SVG Data URI for a seamless ECG wave */
            background-image: url("data:image/svg+xml,%3Csvg width='300' height='150' viewBox='0 0 300 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 75 L30 75 L40 75 L45 65 L50 85 L55 75 L65 75 L70 50 L80 110 L90 20 L100 75 L120 75 L130 75 L140 60 L150 90 L160 75 L190 75 L200 75 L205 65 L210 85 L215 75 L225 75 L230 50 L240 110 L250 20 L260 75 L280 75 L300 75' stroke='white' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: repeat-x;
            background-size: 600px 100%; /* Adjust width for speed perception */
            background-position: center;
            animation: ecgMove 6s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        .exam-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: radial-gradient(circle at 20% 150%, rgba(255,255,255,0.1) 0%, transparent 50%),
                              radial-gradient(circle at 80% -50%, rgba(255,255,255,0.15) 0%, transparent 50%);
            z-index: 0;
        }

        .exam-hero-content { 
            position: relative; 
            z-index: 1; 
            max-width: 800px; 
            margin: 0 auto;
        }

        .exam-badge-lg {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            border-radius: var(--radius-full);
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: var(--space-6);
            /* Heartbeat animation */
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        .exam-title-lg {
            font-family: var(--font-family-sans);
            font-size: 3rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: var(--space-4);
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.2s forwards;
        }

        .exam-subtitle-lg { 
            font-size: 1.25rem; 
            opacity: 0; 
            font-weight: 400; 
            animation: fadeInUp 0.8s ease-out 0.4s forwards;
        }

        /* Dashboard Cards Animation */
        .exam-dashboard {
            max-width: 1000px;
            margin: 0 auto var(--space-12);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: var(--space-6);
            padding: 0 var(--space-6);
            position: relative;
            z-index: 2;
        }

        .dashboard-card {
            background: var(--color-surface);
            padding: var(--space-6);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            text-align: center;
            border: 1px solid var(--color-border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .dashboard-card:nth-child(1) { animation-delay: 0.5s; }
        .dashboard-card:nth-child(2) { animation-delay: 0.6s; }
        .dashboard-card:nth-child(3) { animation-delay: 0.7s; }
        .dashboard-card:nth-child(4) { animation-delay: 0.8s; }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .dash-icon {
            width: 48px;
            height: 48px;
            background: var(--color-bg-tertiary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto var(--space-3);
            color: var(--color-primary);
        }

        .dash-value {
            display: block;
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-text-primary);
            line-height: 1;
            margin-bottom: var(--space-1);
        }

        .dash-label {
            font-size: 0.875rem;
            color: var(--color-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Syllabus Section */
        .syllabus-section { max-width: 900px; margin: 0 auto var(--space-12); padding: 0 var(--space-6); }

        .section-label {
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--color-text-tertiary);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-4);
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.9s forwards;
        }
        
        .section-label::before, .section-label::after { content: ''; height: 1px; width: 40px; background: var(--color-border); }

        .topics-grid-visual { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-4); }

        .topic-pill {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            background: var(--color-surface);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
            font-weight: 500;
            color: var(--color-text-secondary);
            opacity: 0;
            animation: slideInRight 0.5s ease-out forwards;
            transition: all 0.2s ease;
        }

        .topic-pill:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
            background: var(--color-bg-tertiary);
            transform: translateX(5px);
        }

        /* Staggered animation for topics */
        .topic-pill:nth-child(1) { animation-delay: 1.0s; }
        .topic-pill:nth-child(2) { animation-delay: 1.05s; }
        .topic-pill:nth-child(3) { animation-delay: 1.1s; }
        .topic-pill:nth-child(4) { animation-delay: 1.15s; }
        .topic-pill:nth-child(5) { animation-delay: 1.2s; }
        .topic-pill:nth-child(6) { animation-delay: 1.25s; }
        .topic-pill:nth-child(7) { animation-delay: 1.3s; }
        .topic-pill:nth-child(8) { animation-delay: 1.35s; }
        .topic-pill:nth-child(9) { animation-delay: 1.4s; }
        .topic-pill:nth-child(10) { animation-delay: 1.45s; }
        .topic-pill:nth-child(11) { animation-delay: 1.5s; }

        .topic-pill-icon {
            width: 32px;
            height: 32px;
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        /* Main Arena */
        .exam-arena { max-width: 800px; margin: 0 auto; padding: 0 var(--space-6) var(--space-12); }

        .instructions-card {
            background: #fffbeb;
            border: 1px solid #fcd34d;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-8);
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 1.6s forwards;
        }
        
        [data-theme="dark"] .instructions-card {
            background: rgba(245, 158, 11, 0.1);
            border-color: rgba(245, 158, 11, 0.3);
        }

        .instructions-title {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 700;
            color: #92400e;
            margin-bottom: var(--space-4);
        }
        
        [data-theme="dark"] .instructions-title { color: #fbbf24; }

        .instruction-steps { list-style: none; padding: 0; display: grid; gap: var(--space-3); }

        .instruction-step { display: flex; gap: var(--space-3); align-items: flex-start; font-size: 0.95rem; color: var(--color-text-secondary); }

        .step-marker {
            min-width: 24px;
            height: 24px;
            background: rgba(245, 158, 11, 0.2);
            color: #d97706;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 2px;
        }

        /* Quiz Container Styling */
        .quiz-section {
            box-shadow: var(--shadow-2xl);
            border: 1px solid var(--color-border-focus);
            position: relative;
            overflow: hidden;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 1.8s forwards;
        }
        
        .quiz-section::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 6px;
            background: var(--gradient-primary);
        }
    </style>
</head>

<body class="exam-body">
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">‚òÄÔ∏è</span>
        <span class="theme-toggle-icon dark-icon">üåô</span>
    </button>

    <div class="page-wrapper">
        <div style="width: 100%;">
            
            <!-- Animated Hero with ECG Trace -->
            <header class="exam-hero">
                <!-- Moving ECG Line -->
                <div class="ecg-background-strip"></div>

                <div class="exam-hero-content">
                    <div class="exam-badge-lg">
                        <span>üéì</span>
                        <span>Final Assessment</span>
                    </div>
                    <h1 class="exam-title-lg">ECG Master Certification</h1>
                    <p class="exam-subtitle-lg">Nairobi West Hospital College Of Health Sciences</p>
                </div>
            </header>

            <!-- Stats Dashboard -->
            <section class="exam-dashboard">
                <div class="dashboard-card">
                    <div class="dash-icon">üìö</div>
                    <span class="dash-value">11</span>
                    <span class="dash-label">Topics Covered</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">‚ùì</div>
                    <span class="dash-value">25</span>
                    <span class="dash-label">Questions</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">‚è±Ô∏è</div>
                    <span class="dash-value">30</span>
                    <span class="dash-label">Minutes (Est)</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">üéØ</div>
                    <span class="dash-value">80%</span>
                    <span class="dash-label">Pass Mark</span>
                </div>
            </section>

            <main id="main-content" class="exam-arena">

                <!-- Syllabus Pills -->
                <div class="syllabus-section">
                    <div class="section-label">Assessment Syllabus</div>
                    <div class="topics-grid-visual">
                        <div class="topic-pill"><span class="topic-pill-icon">üìã</span><span>Introduction</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">‚öôÔ∏è</span><span>Procedures</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">‚ö°</span><span>Electrophysiology</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üìê</span><span>Leads & Axis</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üìè</span><span>Calibration/Rate</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">„Ä∞Ô∏è</span><span>P Wave/PR</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üìâ</span><span>QRS Complex</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">‚è±Ô∏è</span><span>ST, T & QT</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üíî</span><span>Myocardial Infarction</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üíì</span><span>Tachycardias</span></div>
                        <div class="topic-pill"><span class="topic-pill-icon">üöë</span><span>Ventricular Arrhythmias</span></div>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="instructions-card">
                    <div class="instructions-title">
                        <span>‚ö†Ô∏è</span> Important Instructions
                    </div>
                    <ul class="instruction-steps">
                        <li class="instruction-step">
                            <span class="step-marker">1</span>
                            <span>This exam covers material from all 11 topics in the course.</span>
                        </li>
                        <li class="instruction-step">
                            <span class="step-marker">2</span>
                            <span>Questions are shuffled each time you start the exam.</span>
                        </li>
                        <li class="instruction-step">
                            <span class="step-marker">3</span>
                            <span>Review your answers carefully. You must achieve 80% to pass.</span>
                        </li>
                    </ul>
                </div>

                <!-- Exam Quiz Container -->
                <section class="quiz-section" id="exam-quiz">
                    <div class="quiz-container" data-quiz-id="comprehensive-exam"
                        data-quiz-js="quizzes/comprehensive-exam.js">
                        <div class="quiz-loading">
                            <div class="quiz-spinner"></div>
                            <p>Initializing exam environment...</p>
                        </div>
                        <div class="quiz-content" hidden></div>
                        <div class="quiz-results" hidden></div>
                    </div>
                </section>

                <nav style="margin-top: var(--space-8); display: flex; justify-content: center; gap: var(--space-4);">
                    <a href="quiz-hub.html" class="nav-button nav-button--secondary">
                        <span class="nav-icon">‚Üê</span>
                        <span class="nav-text">Back to Quiz Hub</span>
                    </a>
                    <a href="index.html" class="nav-button nav-button--secondary">
                        <span class="nav-icon">üè†</span>
                        <span class="nav-text">Home</span>
                    </a>
                </nav>

            </main>
        </div>
    </div>

    <script src="js/theme.js"></script>
    <script src="js/quiz.js"></script>
</body>

</html>