(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{646:e=>{e.exports={"promo-app-banner":"PromoAppBanner_promo-app-banner__h_bRt",promoAppBanner:"PromoAppBanner_promo-app-banner__h_bRt","fade-in":"PromoAppBanner_fade-in__k4X3m",fadeIn:"PromoAppBanner_fade-in__k4X3m",link:"PromoAppBanner_link__bJiPz",content:"PromoAppBanner_content__dKMsn","close-button":"PromoAppBanner_close-button__OjhVO",closeButton:"PromoAppBanner_close-button__OjhVO","button-wrapper":"PromoAppBanner_button-wrapper___zpv8",buttonWrapper:"PromoAppBanner_button-wrapper___zpv8","button-addon":"PromoAppBanner_button-addon__mIp21",buttonAddon:"PromoAppBanner_button-addon__mIp21",illustration:"PromoAppBanner_illustration__trMhY"}},1800:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,T:()=>r});var r=function(e){return e.CHANGE_SUBSCRIPTION_PLAN="change-subscription-plan",e.INFO_MODAL="info-modal",e.REACHED_LIMIT="reached-limit",e.RESUME_SUBSCRIPTION="resume-subscription",e.START_SUBSCRIPTION="start-subscription",e.TIER_UPGRADE="tier-upgrade",e.WAIT_FOR_PAYMENT_TO_COMPLETE="wait-for-payment-to-complete",e}({});let i={CHANGE_SUBSCRIPTION_PLAN:"Change Subscription Plan",LIMIT_REACHED:"Limit Reached",PAY_FOCUS:"Pay Focus",PAYMENT_PROCESSING:"Payment Processing",RESUME_SUBSCRIPTION:"Resume Subscription",START_SUBSCRIPTION:"Start Subscription",TIER_UPGRADE_PAID:"Tier Upgrade (Paid)",TIER_UPGRADE_TRIAL:"Tier Upgrade (Trial)",UPLOAD_FOCUS:"Upload Focus"}},1928:e=>{e.exports={"rating-section-standard":"RatingSection_rating-section-standard__NxxvU",ratingSectionStandard:"RatingSection_rating-section-standard__NxxvU"}},2901:(e,t,n)=>{"use strict";n.d(t,{PD:()=>u,sF:()=>c});var r=n(52229),i=n(55729),o=n(66100),a=n(47768),s=n(35661);let l="searchQueryId",c=()=>{let[e,t]=(0,i.useState)("");return(0,o.M)(l,e=>{let{detail:{queryID:n}}=e;t(n)},(0,a.oc)()?window:null),{queryID:e}},u=()=>{let e=(0,r.useSearchParams)(),t=e?.get("queryID");(0,i.useEffect)(()=>{t&&(window.dispatchEvent(new CustomEvent(l,{detail:{queryID:t}})),(0,s.b7)("queryID"))},[t])}},4215:e=>{e.exports={header:"DocumentRecommendations_header__HVf47",wrapper:"DocumentRecommendations_wrapper__XUQ6W"}},4296:e=>{e.exports={"about-document-title-wrapper":"AboutDocumentTitle_about-document-title-wrapper__lmKm_",aboutDocumentTitleWrapper:"AboutDocumentTitle_about-document-title-wrapper__lmKm_",title:"AboutDocumentTitle_title__srKgH"}},4426:(e,t,n)=>{"use strict";n.d(t,{$u:()=>o,TU:()=>a,yT:()=>s});var r=n(18429),i=n(10686);let o=()=>r.g.getItem(i.r.PAYMENT_CLICK_ORIGIN)??null,a=e=>r.g.setItem(i.r.PAYMENT_CLICK_ORIGIN,e,r.K),s=()=>a(null)},5247:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,w:()=>r});let r=(e,t)=>isNaN(+e)?e:`${t}: ${+e}`,i=(e,t)=>[e,t].filter(Boolean).join(" â€¢ ")},5884:e=>{e.exports={"register-button":"SaveDocumentModal_register-button__O34y8",registerButton:"SaveDocumentModal_register-button__O34y8",footer:"SaveDocumentModal_footer__3iDGf","spinner-wrapper":"SaveDocumentModal_spinner-wrapper__zFRjt",spinnerWrapper:"SaveDocumentModal_spinner-wrapper__zFRjt"}},6967:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,C:()=>s});var r=n(78969),i=n(11065),o=n(93349);function a(){let{session:e}=(0,o.K)(),t=e.user?.id??0,n=Math.round(Date.now()/1e3);return`${t}${n}`}function s(e,t){let n=e.slice(0,-10),o=e.slice(-10),a=(0,r.getCookie)("ajs_anonymous_id")??"",s=Number(o);return{formattedDateTime:(0,i.NC)(s,t),userId:"0"===n?a:n}}},7018:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(47768),i=n(93349),o=n(2901),a=n(34337);function s(){let{meta:{algolia:e}}=(0,i.K)(),{queryID:t}=(0,o.sF)();if((0,r.fL)())return()=>Promise.resolve();let n=e?.indices?.document??"";return n&&t?(e,r)=>e?((e,t)=>{let{index:n,objectID:r,queryID:i}=t;return i?Promise.resolve((0,a.Ay)("convertedObjectIDsAfterSearch",{eventName:e,index:n,objectIDs:[r],queryID:i})):Promise.reject()})(r,{index:n,objectID:`Document::${e}`,queryID:t}):Promise.resolve():()=>Promise.resolve()}},7334:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(6029),i=n(32988),o=n.n(i),a=n(55729),s=n(51097),l=n(35661),c=n(50470),u=n(59795),d=n(93349),A=n(14759),m=n.n(A);let p=(0,a.memo)(function(e){let{classAddOn:t,direction:n="vertical",documents:i,initialShownDocumentsNumber:a,listItemTestSelector:A,origin:p,testSelector:_,thumbnailPreferredSize:h="small",useCompressedImage:g=!1}=e,w=(0,u.H)(),{ab:C,config:{isCrawler:b}}=(0,d.K)();if((0,s.Im)(i)||!i?.length)return null;let f=a??i?.length??0,x=C.find(e=>{let{test:t}=e;return"testShowPremiumLabelEverywhereToEveryone"===t}),R=x?.variant==="Test",v=i.slice(0,f);return(0,r.jsx)("ul",{className:o()(m().thumbnailsList,t,{[m().vertical]:"vertical"===n}),children:v.map((e,t)=>(0,r.jsx)("li",{className:m().documentWrapper,children:(0,r.jsx)(c.A,{alignment:"horizontal",categoryId:e.categoryId,documentDetail:e.course?.name,isTestShowPremiumLabelEverywhereToEveryone:R,listItemTestSelector:`${A}-${t}`,negativeRating:e.rating.negative,pages:e.numberOfPages,positiveRating:e.rating.positive,testSelector:_,thumbnailSize:h,thumbnails:e.thumbnails,title:e.title,url:(0,l.cA)(w.document(e),`${p}-${t+1}`,b),useCompressedImage:g})},e.id))})})},8858:e=>{e.exports={"heading-wrapper":"IllustrationBanner_heading-wrapper__1gEcg",headingWrapper:"IllustrationBanner_heading-wrapper__1gEcg",caption:"IllustrationBanner_caption__K56sh","button-wrapper":"IllustrationBanner_button-wrapper__qaOS6",buttonWrapper:"IllustrationBanner_button-wrapper__qaOS6","illustration-banner-wrapper":"IllustrationBanner_illustration-banner-wrapper__EjLJg",illustrationBannerWrapper:"IllustrationBanner_illustration-banner-wrapper__EjLJg",interactive:"IllustrationBanner_interactive__5b_pQ","inline-illustration-left":"IllustrationBanner_inline-illustration-left__e_Gx6",inlineIllustrationLeft:"IllustrationBanner_inline-illustration-left__e_Gx6","inline-illustration-right":"IllustrationBanner_inline-illustration-right__xZCBO",inlineIllustrationRight:"IllustrationBanner_inline-illustration-right__xZCBO",horizontal:"IllustrationBanner_horizontal___rnJw",vertical:"IllustrationBanner_vertical__bOc9y",illustration:"IllustrationBanner_illustration__G5hyj","illustration-inline-illustration-right":"IllustrationBanner_illustration-inline-illustration-right___Ynvq",illustrationInlineIllustrationRight:"IllustrationBanner_illustration-inline-illustration-right___Ynvq","illustration-inline-illustration-left":"IllustrationBanner_illustration-inline-illustration-left__JbTgA",illustrationInlineIllustrationLeft:"IllustrationBanner_illustration-inline-illustration-left__JbTgA","illustration-horizontal":"IllustrationBanner_illustration-horizontal__ctYW5",illustrationHorizontal:"IllustrationBanner_illustration-horizontal__ctYW5","illustration-vertical":"IllustrationBanner_illustration-vertical__CkyIE",illustrationVertical:"IllustrationBanner_illustration-vertical__CkyIE"}},10108:e=>{e.exports={"subtitle-container":"RateDiscoveryModal_subtitle-container__GIM9W",subtitleContainer:"RateDiscoveryModal_subtitle-container__GIM9W",description:"RateDiscoveryModal_description__azPoQ","check-icon":"RateDiscoveryModal_check-icon__iHHaQ",checkIcon:"RateDiscoveryModal_check-icon__iHHaQ"}},10385:e=>{e.exports={"rating-tooltip-content":"RatingTooltip_rating-tooltip-content__KNdHE",ratingTooltipContent:"RatingTooltip_rating-tooltip-content__KNdHE","rating-tooltip-description-wrapper":"RatingTooltip_rating-tooltip-description-wrapper__Prt_O",ratingTooltipDescriptionWrapper:"RatingTooltip_rating-tooltip-description-wrapper__Prt_O"}},10849:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(55729),i=n(66100),o=n(47768),a=n(65059);function s(){let[e,t]=(0,r.useState)(1);return(0,i.M)(a.q7,e=>{e.detail>0&&t(e.detail)},(0,o.oc)()?window:null),{currentPage:e}}},10937:e=>{e.exports={"additional-info-wrapper":"UploaderBannerAdditionalInfo_additional-info-wrapper__h4BXM",additionalInfoWrapper:"UploaderBannerAdditionalInfo_additional-info-wrapper__h4BXM","institution-icon":"UploaderBannerAdditionalInfo_institution-icon__hiFSC",institutionIcon:"UploaderBannerAdditionalInfo_institution-icon__hiFSC","institution-link":"UploaderBannerAdditionalInfo_institution-link__0tj8u",institutionLink:"UploaderBannerAdditionalInfo_institution-link__0tj8u"}},12133:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(14454),i=n(93349);let o=()=>{let{ab:e}=(0,i.K)();return(0,r.d)(e,"testPaddle7dayTrial","Test")?7:30}},12533:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(86747),i=n(11065),o=n(51097),a=n(8650),s=n(43106),l=n(73230),c=n(95433);function u(e,t,n){if(!e)return{};let u=(0,l.P)(t?.institution),d=(0,l.P)(e.institution);return{"Academic Year":e.additionalDetails.academicYear,"Category ID":e.categoryId,"Category Name":(0,s.lm)(e.categoryId),"Document ID":e.id,"Last Download Attempt Document ID":e.id,Premium:e.isPremium,Rating:e.rating,Title:e.title,"Upload Date":e.createdAt?(0,i.aG)(e.createdAt).toISOString():"",...e.course?.code&&{"Course Code":e.course.code},...e.course?.id&&{"Course ID":e.course.id},...e.course?.name&&{"Course Name":e.course.name},...t?.country?.id&&{"User Country ID":t.country.id},...t?.country?.name&&{"User Country Name":t.country.name},...t?.degree?.id&&{"User Degree ID":t.degree.id},...t?.degree?.name&&{"User Degree Name":t.degree.name},...t?.degree?.shortName&&{"User Degree Short Name":t.degree.shortName},...t?.degree?.stage&&{"User Degree Stage":t.degree.stage},...t?.id&&{"User ID":t.id},...t?.isVerifiedStudent!==void 0&&{"User Is Verified Student":t.isVerifiedStudent},...t?.language&&{"User Language":t.language.code},...t?.hasActivatedPrimaryEmail!==void 0&&{"User Primary Email Is Activated":t.hasActivatedPrimaryEmail},...t?.studyYear&&{"User Start Year":t.studyYear},...t?.institution?.country?.id&&{"User University Country ID":t.institution.country.id},...t?.institution?.country?.name&&{"User University Country Name":t.institution.country.name},...t?.institution?.id&&{"User University ID":t.institution.id},...!(0,o.b0)(u)&&{"User University Level":u},...t?.institution?.name&&{"User University Name":t.institution.name},...t?.institution?.stage&&{"User University Stage":t.institution.stage},...t?.region?.code&&{"User Url Region":t.region.code},...t?.userPremiumTier&&{"User Premium Tier":(0,a.aL)(t.userPremiumTier.replaceAll("-"," "))},...t?.userPremiumTier===r.q.light&&{"Modal Type":"Subscription Tier Upgrade"},...e.institution&&{"University ID":e.institution.id,"University Name":e.institution.name,...e.institution.country&&{"University Country ID":e.institution.country.id,"University Country Name":(0,c.A)(e.institution.country.id)},"University Stage":e.institution.stage,...!(0,o.b0)(d)&&{"University Level":d}},...n&&{"Download Modal Type":n}}}},12998:e=>{e.exports={"top-floating-component":"TopFloatingComponent_top-floating-component__I7ZCm",topFloatingComponent:"TopFloatingComponent_top-floating-component__I7ZCm","level-2":"TopFloatingComponent_level-2__z4DKO",level2:"TopFloatingComponent_level-2__z4DKO","level-3":"TopFloatingComponent_level-3__vloZO",level3:"TopFloatingComponent_level-3__vloZO"}},14049:e=>{e.exports={"input-wrapper":"Checkbox_input-wrapper__Fn771",inputWrapper:"Checkbox_input-wrapper__Fn771",checkbox:"Checkbox_checkbox__80NVy","has-error":"Checkbox_has-error__MUK0S",hasError:"Checkbox_has-error__MUK0S",icon:"Checkbox_icon__4zgJ4",input:"Checkbox_input__SK_i_"}},14309:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});let r={AUTHENTICATE_SAVE_DOCUMENT:"authenticateSaveDocument",EXIT_VIEWER_POPUP:"exitViewerPopup",PAYMENT_MODAL:"paymentModal",REPORT:"report",SAVE:"save",SHARE:"share"}},14488:e=>{e.exports={"page-navigator":"PageNavigator_page-navigator__qke_A",pageNavigator:"PageNavigator_page-navigator__qke_A","page-navigator-indicator-wrapper":"PageNavigator_page-navigator-indicator-wrapper__3A5O0",pageNavigatorIndicatorWrapper:"PageNavigator_page-navigator-indicator-wrapper__3A5O0","page-navigator-menu-wrapper":"PageNavigator_page-navigator-menu-wrapper__hodEU",pageNavigatorMenuWrapper:"PageNavigator_page-navigator-menu-wrapper__hodEU"}},14722:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(14454),i=n(93349);let o=()=>{let{ab:e}=(0,i.K)();return(0,r.d)(e,"testSubscribeToNotSeeAds","Test")}},14759:e=>{e.exports={"document-wrapper":"ThumbnailsList_document-wrapper__SxeLl",documentWrapper:"ThumbnailsList_document-wrapper__SxeLl","thumbnails-list":"ThumbnailsList_thumbnails-list__gxniE",thumbnailsList:"ThumbnailsList_thumbnails-list__gxniE",vertical:"ThumbnailsList_vertical__8Dqz_"}},15405:e=>{e.exports={"title-wrapper":"TopbarTitle_title-wrapper__EfWKQ",titleWrapper:"TopbarTitle_title-wrapper__EfWKQ","title-inline-wrapper":"TopbarTitle_title-inline-wrapper__YFCok",titleInlineWrapper:"TopbarTitle_title-inline-wrapper__YFCok","course-link-wrapper":"TopbarTitle_course-link-wrapper__s3Aus",courseLinkWrapper:"TopbarTitle_course-link-wrapper__s3Aus","no-wrap":"TopbarTitle_no-wrap__o7NbI",noWrap:"TopbarTitle_no-wrap__o7NbI","truncated-course-link":"TopbarTitle_truncated-course-link__kAjKa",truncatedCourseLink:"TopbarTitle_truncated-course-link__kAjKa"}},15909:e=>{e.exports={popupMaxHeight:"512px",popupMinHeight:"284px",popupWidth:"360px",popup:"AnswerPopup_popup__CeqTl","popup-enter":"AnswerPopup_popup-enter__EZJjX",popupEnter:"AnswerPopup_popup-enter__EZJjX",header:"AnswerPopup_header__Nrs2U","header-right-section":"AnswerPopup_header-right-section__bxAVC",headerRightSection:"AnswerPopup_header-right-section__bxAVC","title-container":"AnswerPopup_title-container__fqkvF",titleContainer:"AnswerPopup_title-container__fqkvF","title-icon":"AnswerPopup_title-icon__rBtkw",titleIcon:"AnswerPopup_title-icon__rBtkw",title:"AnswerPopup_title__IrrS_",content:"AnswerPopup_content__WKz3j","question-container":"AnswerPopup_question-container__1XMVI",questionContainer:"AnswerPopup_question-container__1XMVI","answer-subtitle":"AnswerPopup_answer-subtitle__5aDdS",answerSubtitle:"AnswerPopup_answer-subtitle__5aDdS","answer-section":"AnswerPopup_answer-section__cbV7U",answerSection:"AnswerPopup_answer-section__cbV7U",answer:"AnswerPopup_answer__wVBBX"}},16191:e=>{e.exports={button:"SaveDocumentButton_button__SEjGd","with-min-width":"SaveDocumentButton_with-min-width__VKcQY",withMinWidth:"SaveDocumentButton_with-min-width__VKcQY","save-button-container":"SaveDocumentButton_save-button-container__X9Xb0",saveButtonContainer:"SaveDocumentButton_save-button-container__X9Xb0"}},16966:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(55729),i=n(48939);let o=()=>{let e=(0,i.u)(),t=(0,r.useCallback)(t=>((e,t)=>{let n=((e,t)=>{if(t&&"object"==typeof t){let n=[t?.response?.data,t?.response?.data?.error,t?.error?.message].find(e=>"string"==typeof e);return n||(t?.response?.data?.error?.message??[e.get("error_generic")])}return[e.get("error_generic")]})(e,t);return"string"==typeof n?[n]:Object.values(n).flat()})(e,t),[e]);return(0,r.useMemo)(()=>({parseResponseErrorMessages:t}),[t])}},17474:e=>{e.exports={"rating-buttons-compact":"RatingButtons_rating-buttons-compact__cWXmQ",ratingButtonsCompact:"RatingButtons_rating-buttons-compact__cWXmQ","rating-buttons-standard":"RatingButtons_rating-buttons-standard__qM9ra",ratingButtonsStandard:"RatingButtons_rating-buttons-standard__qM9ra","thumbs-up-container":"RatingButtons_thumbs-up-container__wKUEl",thumbsUpContainer:"RatingButtons_thumbs-up-container__wKUEl"}},18573:e=>{e.exports={"degree-grade-wrapper":"DegreeAndGradeInfo_degree-grade-wrapper__FYgIP",degreeGradeWrapper:"DegreeAndGradeInfo_degree-grade-wrapper__FYgIP",subtitle:"DegreeAndGradeInfo_subtitle__PGkWT",icon:"DegreeAndGradeInfo_icon__wLPmq","links-wrapper":"DegreeAndGradeInfo_links-wrapper__4OLIv",linksWrapper:"DegreeAndGradeInfo_links-wrapper__4OLIv","degree-link":"DegreeAndGradeInfo_degree-link__c8vwS",degreeLink:"DegreeAndGradeInfo_degree-link__c8vwS"}},20007:e=>{e.exports={wrapper:"Layout_wrapper__hyU9C","page-content-wrapper":"Layout_page-content-wrapper__zhKJ6",pageContentWrapper:"Layout_page-content-wrapper__zhKJ6"}},20113:e=>{e.exports={"top-report-button":"ReportButton_top-report-button__iXoAL",topReportButton:"ReportButton_top-report-button__iXoAL"}},20140:e=>{e.exports={"save-discovery-header":"AuthenticationSaveDocumentModal_save-discovery-header__bPjS9",saveDiscoveryHeader:"AuthenticationSaveDocumentModal_save-discovery-header__bPjS9","subtitle-container":"AuthenticationSaveDocumentModal_subtitle-container__HcW4O",subtitleContainer:"AuthenticationSaveDocumentModal_subtitle-container__HcW4O","save-discovery-sub-title":"AuthenticationSaveDocumentModal_save-discovery-sub-title__vMous",saveDiscoverySubTitle:"AuthenticationSaveDocumentModal_save-discovery-sub-title__vMous",description:"AuthenticationSaveDocumentModal_description__nkc5S",item:"AuthenticationSaveDocumentModal_item__S6jEQ"}},21934:(e,t,n)=>{"use strict";n.d(t,{P:()=>h,o:()=>_});var r=n(97737),i=n(17115),o=n(70177),a=n(76651),s=n(25083),l=n(11065),c=n(51097),u=n(85695),d=n(43106),A=n(47079),m=n(41316),p=n(89522);let _=(e,t)=>({"Document ID":e.id,Premium:+!!e.isPremium,...e.rating&&{Rating:e.rating.total},Title:e.title,"Upload Date":(0,l.aG)(e.createdAt).toISOString(),...e.course&&e.course.institution&&e.course.code&&{"Course Code":e.course.code,"Course ID":e.course.id,"Course Name":e.course.name,...(0,A.g)(e.course.institution)},...!(0,c.gD)(t)&&{"Document Source":t.source,Downloads:t.downloads},...e.categoryId&&{"Category ID":e.categoryId,"Category Name":(0,d.lm)(e.categoryId)}}),h=e=>{let t=(0,u.jt)(),n=(0,m.A)();return async l=>{let c={"Report Reason ID":l};switch(l){case o.A.OTHER:c={...c,"Report Reason":"Other"};break;case a.m.WRONG_COURSE:c={...c,"Report Reason":"Wrong Course"};break;case s.a.WRONG_METADATA:c={...c,"Report Reason":"Title/Description"};break;case r.W.BAD_CONTENT:c={...c,"Report Reason":"Quality"};break;case i.Y.CANT_READ:c={...c,"Report Reason":"Readability"}}let u=await n({documentId:e.id});t(p.q.REPORT_SUBMITTED,{..._(e,u),...c})}}},22105:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(55729),i=n(89576),o=n(35661),a=n(8650),s=n(3493),l=n(71755),c=n(36948),u=n(85695);let d=e=>{let{additionalParameters:t,clickOrigin:n,documentId:d,trackAndRedirect:A=!1}=e,{route:m}=(0,s.Y)(),p=(0,u.jt)(),_=(0,c.A)((0,l.A)((()=>{let e=m("documentUpload"),n={...t||{}};return d&&(n.originDocumentId=d,n.originPlatform="Next.js"),Object.keys(n).length>0&&(e=(0,o.Mz)(e,n)),e})(),n));return{onClick:(0,r.useCallback)(e=>{let t={"Click Origin":(0,a.aL)(n.replaceAll("-"," ")),...d&&{"Document ID":d}};return A?(0,i.Dc)(e,()=>p("Upload Clicked",t),_):p("Upload Clicked",t)},[n,d,A,p,_]),uploaderRouteWithOrigin:_}}},23664:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8650);function i(e,t,n){if(!(void 0===e||isNaN(e))&&void 0!==t&&""!==t)return(0,r.$g)(e,t,n)}},24663:e=>{e.exports={container:"DocumentCategory_container__CewNf","label-section":"DocumentCategory_label-section__KGzo9",labelSection:"DocumentCategory_label-section__KGzo9",label:"DocumentCategory_label__ivSsW","category-info":"DocumentCategory_category-info__G7yrP",categoryInfo:"DocumentCategory_category-info__G7yrP",category:"DocumentCategory_category__W4Mzj",icon:"DocumentCategory_icon__DR4YQ"}},25680:e=>{e.exports={skeleton:"AnswerSkeleton_skeleton___XLsH",row:"AnswerSkeleton_row__8hEdc",medium:"AnswerSkeleton_medium___P_gw",large:"AnswerSkeleton_large__wWg8P",item:"AnswerSkeleton_item__Z3MOZ",default:"AnswerSkeleton_default__JCZtD",overlay:"AnswerSkeleton_overlay__iwuQx",shimmer:"AnswerSkeleton_shimmer__Bg8jh",light:"AnswerSkeleton_light__BaoY4"}},26677:e=>{e.exports={"header-wrapper":"StudylistSuggestionsBanner_header-wrapper__QgnZQ",headerWrapper:"StudylistSuggestionsBanner_header-wrapper__QgnZQ","banner-wrapper":"StudylistSuggestionsBanner_banner-wrapper__aXMQR",bannerWrapper:"StudylistSuggestionsBanner_banner-wrapper__aXMQR","studylist-link":"StudylistSuggestionsBanner_studylist-link__JCT5f",studylistLink:"StudylistSuggestionsBanner_studylist-link__JCT5f","user-link":"StudylistSuggestionsBanner_user-link__1Z5nz",userLink:"StudylistSuggestionsBanner_user-link__1Z5nz"}},28670:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var r=n(55729);let i={BrowserApi:"n",Discord:"g",Facebook:"k",Messenger:"y",Reddit:"t",ShortLink:"u",Signal:"e",Telegram:"h",TikTok:"d",Twitter:"r",WhatsApp:"z"};var o=n(3493),a=n(6967),s=n(93349);let l=(e,t)=>{let{config:{appConfigKey:n,appDomains:l},meta:c}=(0,s.K)(),u=(0,o.Y)(),d=(0,a.A)(),A=i[t],m=l[n].url;return(0,r.useMemo)(()=>m+u.route("documentViewShortlink",{documentId:e,shareType:A,sid:d,...A===i.Facebook?{utm_campaign:"Document_Referral_CONVERT",utm_content:`${c.formatLanguage}_shared_document`,utm_medium:"social",utm_source:"facebook"}:{}}),[u,e,c.formatLanguage,m,A,d])}},29483:e=>{e.exports={"preview-banner":"PremiumBannerBlobWrapper_preview-banner__WD5rf",previewBanner:"PremiumBannerBlobWrapper_preview-banner__WD5rf","in-viewer":"PremiumBannerBlobWrapper_in-viewer__AUDBA",inViewer:"PremiumBannerBlobWrapper_in-viewer__AUDBA",benefit:"PremiumBannerBlobWrapper_benefit__DD1L2","overflow-wrapper":"PremiumBannerBlobWrapper_overflow-wrapper__xsaS8",overflowWrapper:"PremiumBannerBlobWrapper_overflow-wrapper__xsaS8","blob-container":"PremiumBannerBlobWrapper_blob-container__nkxOo",blobContainer:"PremiumBannerBlobWrapper_blob-container__nkxOo","blob-outside":"PremiumBannerBlobWrapper_blob-outside__2GSSo",blobOutside:"PremiumBannerBlobWrapper_blob-outside__2GSSo","first-blob":"PremiumBannerBlobWrapper_first-blob__2ShMG",firstBlob:"PremiumBannerBlobWrapper_first-blob__2ShMG","second-blob":"PremiumBannerBlobWrapper_second-blob__iswBR",secondBlob:"PremiumBannerBlobWrapper_second-blob__iswBR","third-blob":"PremiumBannerBlobWrapper_third-blob__1pNQm",thirdBlob:"PremiumBannerBlobWrapper_third-blob__1pNQm","fourth-blob":"PremiumBannerBlobWrapper_fourth-blob__LlCv_",fourthBlob:"PremiumBannerBlobWrapper_fourth-blob__LlCv_","wide-variant":"PremiumBannerBlobWrapper_wide-variant__s4uh_",wideVariant:"PremiumBannerBlobWrapper_wide-variant__s4uh_"}},29484:e=>{e.exports={"meta-info":"MetaInfo_meta-info__dE_bY",metaInfo:"MetaInfo_meta-info__dE_bY"}},30302:(e,t,n)=>{"use strict";n.d(t,{V:()=>l,z:()=>s});var r=n(33242),i=n(55729),o=n(93349);let a=["googleOneTapState"],s={DOWNLOAD_MODAL_DISMISSED:"Download Modal Dismissed",HIDDEN:"Hidden",LAST_PAGE_REACHED:"Last Page Reached",SHARE_MODAL_CLOSED:"Share Modal Closed",SHARED_DOCUMENT_LINK:"Shared Document Link",THIRD_DOCUMENT_VIEWED:"Third Document Viewed",UNKNOWN:"Unknown"};function l(){let e=(0,r.useQueryClient)(),{session:{user:t}}=(0,o.K)(),{data:n={shouldShow:!1,trigger:s.UNKNOWN}}=(0,r.useQuery)({initialData:{shouldShow:!1,trigger:s.UNKNOWN},queryFn:()=>e.getQueryData(a)??{shouldShow:!1,trigger:s.UNKNOWN},queryKey:a,staleTime:1/0}),{mutate:l}=(0,r.useMutation)({mutationFn:async t=>{let{shouldShow:n,trigger:r}=t,i={shouldShow:n,trigger:r};return e.setQueryData(a,i),i}}),c=(0,i.useCallback)(e=>{l({shouldShow:!0,trigger:e})},[l]);return{hideGoogleOneTap:(0,i.useCallback)(()=>{l({shouldShow:!1,trigger:s.HIDDEN})},[l]),shouldShow:n.shouldShow&&!t,showGoogleOneTap:c,trigger:n.trigger}}},31573:e=>{e.exports={"premium-banner-buttons":"PremiumBannerButtons_premium-banner-buttons__spe7G",premiumBannerButtons:"PremiumBannerButtons_premium-banner-buttons__spe7G","wide-variant":"PremiumBannerButtons_wide-variant__hQsmC",wideVariant:"PremiumBannerButtons_wide-variant__hQsmC","option-button":"PremiumBannerButtons_option-button__BupYd",optionButton:"PremiumBannerButtons_option-button__BupYd","banner-button":"PremiumBannerButtons_banner-button__lfnJl",bannerButton:"PremiumBannerButtons_banner-button__lfnJl","resume-subscription-button":"PremiumBannerButtons_resume-subscription-button__gD9E2",resumeSubscriptionButton:"PremiumBannerButtons_resume-subscription-button__gD9E2","resume-subscription-button-text":"PremiumBannerButtons_resume-subscription-button-text__UFzlg",resumeSubscriptionButtonText:"PremiumBannerButtons_resume-subscription-button-text__UFzlg"}},32244:e=>{e.exports={"course-link":"CourseIllustrationBanner_course-link__1Lfqc",courseLink:"CourseIllustrationBanner_course-link__1Lfqc"}},32276:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(15299);let i=(e,t)=>r.er?.[e]?.[0]??t??r.er[r.O.USA][0]},32798:e=>{e.exports={"mobile-actions-container":"MobileSelectionActions_mobile-actions-container__nfjGV",mobileActionsContainer:"MobileSelectionActions_mobile-actions-container__nfjGV"}},33509:e=>{e.exports={"blurred-image-wrapper":"DocumentPage_blurred-image-wrapper__Y1nzI",blurredImageWrapper:"DocumentPage_blurred-image-wrapper__Y1nzI"}},34635:(e,t,n)=>{"use strict";function r(e,t){let n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}n.d(t,{w:()=>r})},34643:e=>{e.exports={"outer-wrapper":"BannerContainer_outer-wrapper__7hktP",outerWrapper:"BannerContainer_outer-wrapper__7hktP",bottom:"BannerContainer_bottom__YzdId","outside-viewer":"BannerContainer_outside-viewer__tFXUa",outsideViewer:"BannerContainer_outside-viewer__tFXUa",banner:"BannerContainer_banner__FhZT6"}},35374:e=>{e.exports={"green-surface":"IllustrationBannerColors_green-surface__yqFTX",greenSurface:"IllustrationBannerColors_green-surface__yqFTX",green:"IllustrationBannerColors_green__xHfs1",gray:"IllustrationBannerColors_gray__3d9W7",blue:"IllustrationBannerColors_blue__KpsT8","blue-surface":"IllustrationBannerColors_blue-surface__COXWe",blueSurface:"IllustrationBannerColors_blue-surface__COXWe",pink:"IllustrationBannerColors_pink__tArOo",tangerine:"IllustrationBannerColors_tangerine__1wHLK","tangerine-surface":"IllustrationBannerColors_tangerine-surface__G5He9",tangerineSurface:"IllustrationBannerColors_tangerine-surface__G5He9",purple:"IllustrationBannerColors_purple__M68oF"}},37624:e=>{e.exports={"metadata-section":"InfoModeMetadata_metadata-section__n_T7m",metadataSection:"InfoModeMetadata_metadata-section__n_T7m"}},40568:(e,t,n)=>{"use strict";n.d(t,{Sc:()=>_});var r=n(6029),i=n(32988),o=n.n(i),a=n(55729),s=n(53303),l=n(24165),c=n(1468),u=n(44976),d=n(70835);let A=e=>{let{className:t,color:n,testSelector:i}=e;return(0,r.jsx)("svg",{className:t,fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("rect",{fill:n??"currentColor",height:"4",rx:"2",width:"12",x:"2",y:"6"})})};var m=n(14049),p=n.n(m);let _=(0,a.forwardRef)(function(e,t){let{checked:n,error:i,hotjarModifiers:m,id:_,isIndeterminate:h,testSelector:g,...w}=e,{focusProps:C,isFocusVisible:b}=(0,s.o)(),{addModifier:f}=(0,c.A)(m),x=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=x?.current;e&&(e.indeterminate=!!h)},[h,x]);let R=(0,u.S)(t,x);return(0,r.jsxs)("div",{className:o()(p().inputWrapper),...f("IgnoreDynamicAttributes","SuppressRecording"),children:[(0,r.jsx)("input",{checked:n,className:p().input,id:_,ref:R,type:"checkbox",...(0,l.v)(C,w)}),(0,r.jsx)("span",{className:o()(p().checkbox,{[p().hasError]:!!i}),"data-focus-visible":b,children:h?(0,r.jsx)(A,{testSelector:"indeterminate-icon"}):(0,r.jsx)(d.J,{className:p().icon,testSelector:"checked-icon"})})]})})},40850:e=>{e.exports={"actions-wrapper":"TopbarActions_actions-wrapper__blVJ_",actionsWrapper:"TopbarActions_actions-wrapper__blVJ_",compact:"TopbarActions_compact__WIvrY","main-actions-wrapper":"TopbarActions_main-actions-wrapper__14VzX",mainActionsWrapper:"TopbarActions_main-actions-wrapper__14VzX","secondary-actions-wrapper":"TopbarActions_secondary-actions-wrapper__4u75_",secondaryActionsWrapper:"TopbarActions_secondary-actions-wrapper__4u75_","rating-buttons-wrapper":"TopbarActions_rating-buttons-wrapper__pOGRn",ratingButtonsWrapper:"TopbarActions_rating-buttons-wrapper__pOGRn","rating-buttons-compact":"TopbarActions_rating-buttons-compact__dOrEx",ratingButtonsCompact:"TopbarActions_rating-buttons-compact__dOrEx"}},41237:e=>{e.exports={"premium-banner-content":"PremiumBannerButtonContent_premium-banner-content__Q0Le0",premiumBannerContent:"PremiumBannerButtonContent_premium-banner-content__Q0Le0",icon:"PremiumBannerButtonContent_icon__Nmb2N","icon-text":"PremiumBannerButtonContent_icon-text__Ox9Yx",iconText:"PremiumBannerButtonContent_icon-text__Ox9Yx","icon-header-text":"PremiumBannerButtonContent_icon-header-text__d_ghW",iconHeaderText:"PremiumBannerButtonContent_icon-header-text__d_ghW","icon-paragraph-text":"PremiumBannerButtonContent_icon-paragraph-text__s_Vep",iconParagraphText:"PremiumBannerButtonContent_icon-paragraph-text__s_Vep"}},44080:e=>{e.exports={loader:"GoogleOneTapLoading_loader__C0FsZ",container:"GoogleOneTapLoading_container__nTn_x",visible:"GoogleOneTapLoading_visible__GCHnl","fade-in":"GoogleOneTapLoading_fade-in__mq4J8",fadeIn:"GoogleOneTapLoading_fade-in__mq4J8",hidden:"GoogleOneTapLoading_hidden__Qdbhh","fade-out":"GoogleOneTapLoading_fade-out__s967g",fadeOut:"GoogleOneTapLoading_fade-out__s967g"}},45447:e=>{e.exports={"chevron-icon-wrapper":"TopbarInfoButton_chevron-icon-wrapper__Zr0yU",chevronIconWrapper:"TopbarInfoButton_chevron-icon-wrapper__Zr0yU"}},45563:e=>{e.exports={container:"PremiumMobileBannerButton_container__xMSQN"}},49527:e=>{e.exports={"header-course-link-wrapper":"CourseSuggestionsBanner_header-course-link-wrapper__JRpjl",headerCourseLinkWrapper:"CourseSuggestionsBanner_header-course-link-wrapper__JRpjl","header-course-link":"CourseSuggestionsBanner_header-course-link__xosFv",headerCourseLink:"CourseSuggestionsBanner_header-course-link__xosFv","banner-wrapper":"CourseSuggestionsBanner_banner-wrapper___knlN",bannerWrapper:"CourseSuggestionsBanner_banner-wrapper___knlN"}},50551:e=>{e.exports={"document-info-item":"InstitutionInfo_document-info-item___GHK4",documentInfoItem:"InstitutionInfo_document-info-item___GHK4",vertical:"InstitutionInfo_vertical__6hGHx",caption:"InstitutionInfo_caption__xGobL","caption-icon":"InstitutionInfo_caption-icon__YCeVu",captionIcon:"InstitutionInfo_caption-icon__YCeVu",link:"InstitutionInfo_link__BB27s","caption-text":"InstitutionInfo_caption-text__73MGN",captionText:"InstitutionInfo_caption-text__73MGN"}},50562:(e,t,n)=>{"use strict";n.d(t,{B0:()=>f,nV:()=>b,x$:()=>v,Tp:()=>R,FI:()=>D,Lt:()=>x});var r=n(50712),i=n(79539),o=n(61299),a=n(98287),s=n(58949),l=n(14454),c=n(32003),u=n(59795),d=n(36699),A=n(48939),m=n(3493),p=n(93349),_=n(85695),h=n(59834),g=n(79967);async function w(e){let{EasyRoute:t,document:n,documentShortURL:r,downloadOrigin:i,headers:a,locale:s}=e,{origin:l}=window.location,u=new URLSearchParams({courseQS:l+t.course(n.course),documentId:n.id.toString(),documentQS:l+t.document(n),documentShortUrlQS:l+r,downloadOrigin:i,filename:(0,o.V)(n.title),landingQS:`${l}/${s}`}),d=new URL(`${l}/next-api/document-download?${u}`);try{if(!window.open(d.toString(),"_blank")){let e={courseURL:l+t.course(n.course),documentShortURL:l+r,documentURL:l+t.document(n),landingURL:`${l}/${s}`},i=await R(n.id,e,a),o=v(i);return await D(o,n.title),{isDownloadSuccessful:!0,sameWindow:!0}}return}catch(t){let e=new b("DownloadError: Failed to open document download window",f.UNKNOWN_ERROR,t);return(0,h.w)(e,c.n.LOW,{"Test Document Download via Route":"Test",downloadOrigin:i}),{errorCode:e.code,isDownloadSuccessful:!1}}}let C={DOWNLOAD_DOCUMENT:"Document Download FE",DOWNLOAD_DOCUMENT_ERROR:"Document Download Error"};class b extends Error{constructor(e,t,n){super(e,{cause:n}),(0,r._)(this,"code",void 0),this.code=t,this.name="DownloadError"}}let f={API_ERROR:"api_error",API_TRACKING_ERROR:"api_tracking_error",BLOB_CREATION_ERROR:"blob_creation_error",DOWNLOAD_LINK_ERROR:"download_link_error",PARAM_EXTRACTION_ERROR:"param_extraction_error",POPUP_WINDOW_ERROR:"popup_window_error",UNKNOWN_ERROR:"unknown_error"},x=e=>{let t=(0,u.H)(),n=(0,_.jt)(),r=(0,A.u)(),i=(0,d.i)(),o=(0,m.Y)(),{ab:a,config:{isMobile:s},meta:{locale:c},session:{user:h}}=(0,p.K)(),C=o.route("documentGetURL",{id:e.id}),b=r.get("preparing_your_download"),f=(0,l._)(a,"testDocumentDownloadViaRoute");return async o=>{let a;if("Test"===f){if(!(a=await w({EasyRoute:t,document:e,documentShortURL:C,downloadOrigin:o,headers:i,locale:c})))return}else{let{errorCode:n,isDownloadSuccessful:r,sameWindow:s=!1}=await E({EasyRoute:t,document:e,documentShortURL:C,downloadOrigin:o,downloadingPlaceholder:b,headers:i});a={errorCode:n,isDownloadSuccessful:r,sameWindow:s}}let{errorCode:l,isDownloadSuccessful:u,sameWindow:d=!1}=a;u?await B(e.id,n,o,d,s,f,h?.id?.toString()):(await y(e.id,n,o,s,l,f,h?.id?.toString()),(0,g.$U)({message:r.get("error_generic"),type:"error"}))}};async function R(e,t,n){try{return await (0,i.E)(e,t,n,{headers:{Accept:"application/pdf"}})}catch(e){throw new b("DownloadError: API call to download document failed",e instanceof a.fk?e?.response?.error?.code||`${f.API_ERROR}_${e.statusCode}`:f.API_ERROR,e)}}function v(e){try{return URL.createObjectURL(e)}catch(e){throw new b("DownloadError: Failed to create blob URL from downloaded document",f.BLOB_CREATION_ERROR,e)}}async function D(e,t){try{let n=window.document.createElement("a");n.href=e,n.download=`${(0,o.V)(t)}.pdf`,n.click(),await (0,s.cb)(1e3)}catch(e){throw new b("DownloadError: Failed to trigger fallback download link",f.DOWNLOAD_LINK_ERROR,e)}}async function E(e){let{EasyRoute:t,document:n,documentShortURL:r,downloadOrigin:i,downloadingPlaceholder:o,headers:a}=e,{origin:s}=window.location,l=null;try{(l=window.open("about:blank"))&&(l.document.body.innerHTML=`<p style="font-size: 24px; font-weight: 600;">${o}</p>`)}catch{l=null}let u={courseURL:s+t.course(n.course),documentShortURL:s+r,documentURL:s+t.document(n),landingURL:`${s}/${window.location.pathname.split("/")[1]}`};try{let e=await R(n.id,u,a),t=v(e);if(l){var d=l;try{d.location.href=t,d.focus()}catch(e){throw new b("DownloadError: Failed to set new window location to blob URL",f.POPUP_WINDOW_ERROR,e)}return{isDownloadSuccessful:!0,sameWindow:!1}}return await D(t,n.title),{isDownloadSuccessful:!0,sameWindow:!0}}catch(n){l?.close();let{errorCode:e}=n instanceof b?{errorCode:n.code}:{errorCode:f.UNKNOWN_ERROR},t=Error("Error downloading a document",{cause:n});return(0,h.w)(t,e===f.API_ERROR?c.n.CRITICAL:c.n.LOW,{"Test Document Download via Route":"Control",downloadOrigin:i,errorCode:e}),{errorCode:e,isDownloadSuccessful:!1}}}async function B(e,t,n,r,i,o,a){try{await t(C.DOWNLOAD_DOCUMENT,{"Document ID":e,"Download Origin":n,"Is Mobile Device":i,"Same Window":r,...a&&{"User ID":a},...o&&{"Test Document Download via Route":o}})}catch(t){let e=Error("Error tracking a document download.",{cause:t});(0,h.w)(e,c.n.LOW,{downloadOrigin:n})}}async function y(e,t,n,r,i,o,a){await t(C.DOWNLOAD_DOCUMENT_ERROR,{"Document ID":e,"Download Origin":n,...a&&{"User ID":a},...i&&{"Error Code":i},"Is Mobile Device":r,...o&&{"Test Document Download via Route":o}})}},52079:(e,t,n)=>{"use strict";n.d(t,{MV:()=>r,h7:()=>i});let r={ClickOrigin:"Click Origin",Content:"Content",ConversationID:"Conversation ID",FirstMessage:"First Message",Length:"Length",Message:"Message",MessageID:"Message ID",MessageLength:"Message Length",Position:"Position",SourceCount:"Source Count",SourceID:"Source ID",SourceIDs:"Source IDs",SourcePosition:"Source Position",SourceType:"Source Type",Suggestion:"Suggestion",Type:"Type"},i={Conversation_Header:"Conversation Header",Direct:"Direct",DocumentViewer:"Documentviewer - AI tools",Previous_Conversations:"Previous Conversations"}},52867:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(6029),i=n(12464),o=n(71024),a=n.n(o),s=n(43755),l=n(75715),c=n(90512),u=n(18429),d=n(10686),A=n(38251),m=n(48939),p=n(93349),_=n(10849),h=n(73172),g=n(69120),w=n(86747),C=n(98524),b=n(1800),f=n(55729),x=n(89576),R=n(3493),v=n(83965),D=n(50562),E=n(12533),B=n(82670);let y=a()(()=>n.e(3780).then(n.bind(n,83780)),{loadableGenerated:{webpack:()=>[83780]}}),I=function(e){let{activeSubscription:t,document:n,documentAbilities:o,onDownloadClick:a,origin:I,showTextOnMobile:S=!0,upgradePaymentPlan:k,userStage:j}=e,T=(0,m.u)(),{currentPage:M}=(0,_.a)(),{session:{user:N}}=(0,p.K)(),Q=function(e){let{activeSubscription:t,documentAbilities:n,isPremium:r,userPremiumTier:i}=e;if(!n)return b.T.INFO_MODAL;if(t?.status===C.rA.end_scheduled&&t?.paymentPlan?.premiumTier===w.q.light)return b.T.CHANGE_SUBSCRIPTION_PLAN;if(t?.pause&&t?.id&&t.paymentMethod?.brandCode)return b.T.RESUME_SUBSCRIPTION;let{canDownloadReason:o}=n;return o===g.M$.HOURLY_LIMIT_REACHED||o===g.M$.DAILY_LIMIT_REACHED||o===g.M$.MONTHLY_LIMIT_REACHED?i===w.q.light?b.T.TIER_UPGRADE:b.T.REACHED_LIMIT:!n.canDownload&&!t?.id&&r&&i?b.T.WAIT_FOR_PAYMENT_TO_COMPLETE:o===g.M$.USER_IS_IN_TRIAL&&t?.id?b.T.START_SUBSCRIPTION:b.T.INFO_MODAL}({activeSubscription:t,documentAbilities:o,isPremium:N?.isPremium??!1,userPremiumTier:N?.userPremiumTier??null}),{disabled:U,handleRedirect:P,isLoading:O,setIsDownloading:F,shouldShowDownloadModal:V,trackDownloadClicked:L}=function(e){let{activeSubscription:t,document:n,documentAbilities:r,modalVariant:i,user:o,userStage:a}=e,s=(0,R.Y)(),[l,c]=(0,f.useState)(!1),u=(0,D.Lt)(n),d=function(e,t,n){if(e)switch(e){case b.T.CHANGE_SUBSCRIPTION_PLAN:return b.B.CHANGE_SUBSCRIPTION_PLAN;case b.T.RESUME_SUBSCRIPTION:return b.B.RESUME_SUBSCRIPTION;case b.T.REACHED_LIMIT:return b.B.LIMIT_REACHED;case b.T.TIER_UPGRADE:return t?.paymentPlan?.isTrial?b.B.TIER_UPGRADE_TRIAL:b.B.TIER_UPGRADE_PAID;case b.T.WAIT_FOR_PAYMENT_TO_COMPLETE:return b.B.PAYMENT_PROCESSING;case b.T.START_SUBSCRIPTION:return b.B.START_SUBSCRIPTION;case b.T.INFO_MODAL:if(n)return"Pay"===(0,B.r)(n)?b.B.PAY_FOCUS:b.B.UPLOAD_FOCUS;return b.B.UPLOAD_FOCUS;default:return}}(i,t,a),A=(0,E.t)(n,o,d),m=(0,v.V)(n.id,A),p=function(e){let{handleDownloadDocument:t,isDownloadAuthorized:n,trackDownloadClicked:r,uploaderUrl:i}=e;return(e,o,a)=>n?(r(o,a),t("Download Button")):(0,x.Dc)(e,()=>r(o,a),i)}({handleDownloadDocument:u,isDownloadAuthorized:r?.canDownload??!1,trackDownloadClicked:m,uploaderUrl:s.route("documentUpload",{origin:"download-button"})});return{disabled:!r,handleRedirect:p,isLoading:!r||l,setIsDownloading:c,shouldShowDownloadModal:!r?.canDownload,trackDownloadClicked:m}}({activeSubscription:t,document:n,documentAbilities:o,modalVariant:Q,user:N,userStage:j}),{hideAndRemoveModal:G,isRenderingModal:H,isShowingModal:z,renderAndShowModal:W}=(0,A.A)(),Y=async e=>{if(u.g.setItem(d.r.MOST_RECENTLY_VIEWED_DOCUMENT,window.location.href,u.K),a?.(),V)return void(W(),L(I,M));F(!0),await P(e,I,M),F(!1)},J={addon:(0,r.jsx)(s.I,{icon:i.uqk,testSelector:"download-icon-toolbar"}),"aria-label":T.get("download"),color:"green",disabled:U,loading:O,onClick:Y,size:"medium",variant:"primary"};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:(0,l.R)("on-mobile"),children:(0,r.jsx)(c.$,{...J,testSelector:"download-button",children:(0,r.jsx)(h.A,{id:"download"})})}),(0,r.jsx)("div",{className:(0,l.R)("from-tablet"),children:(0,r.jsx)(c.$,{...J,testSelector:"download-button-mobile",children:S&&(0,r.jsx)(h.A,{id:"download"})})}),H&&(0,r.jsx)(y,{activeSubscription:t,canDownloadReason:o?.canDownloadReason,document:n,modalVariant:Q,onHide:()=>{G()},setIsDownloading:F,show:z,upgradePaymentPlan:k,userStage:j})]})}},53069:e=>{e.exports={"sub-header":"PremiumBannerSubHeader_sub-header__dpslr",subHeader:"PremiumBannerSubHeader_sub-header__dpslr"}},55365:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(85695);let i=()=>{let e=(0,r.jt)();return t=>{let{contentType:n,...r}=t;return e("Share Button Clicked",{"Content Type":n,...r})}}},55628:e=>{e.exports={"original-title-wrapper":"OriginalTitle_original-title-wrapper__52uG5",originalTitleWrapper:"OriginalTitle_original-title-wrapper__52uG5"}},55997:(e,t,n)=>{"use strict";n.d(t,{X:()=>d});var r=n(6029),i=n(17226),o=n(32988),a=n.n(o),s=n(55729),l=n(97761),c=n(58475),u=n.n(c);let d=e=>{let{as:t="li",children:n,className:o,label:c,onClick:d,role:A="menuitem",...m}=e,{activeIndex:p,closeOnSelect:_,getItemProps:h,setIsOpen:g}=(0,l.C)(),{index:w,ref:C}=(0,i.rm)({label:c}),b=(0,s.useCallback)(e=>{d?.(e,w),_&&g(!1)},[_,w,d,g]);if((0,s.isValidElement)(n))return(0,r.jsx)(t,{className:o,onClick:b,role:A,children:(0,s.cloneElement)(n,{...h({...m,...n.props,className:a()(u().option,n.props.className),ref:C,tabIndex:p===w?0:-1})})})}},56023:e=>{e.exports={"bottom-banner-header":"SuggestionsBanner_bottom-banner-header__LSyzp",bottomBannerHeader:"SuggestionsBanner_bottom-banner-header__LSyzp","bottom-banner-text":"SuggestionsBanner_bottom-banner-text__RBKnB",bottomBannerText:"SuggestionsBanner_bottom-banner-text__RBKnB","header-link":"SuggestionsBanner_header-link__DuCBs",headerLink:"SuggestionsBanner_header-link__DuCBs","thumbnails-list-wrapper":"SuggestionsBanner_thumbnails-list-wrapper__Rgt4l",thumbnailsListWrapper:"SuggestionsBanner_thumbnails-list-wrapper__Rgt4l","thumbnails-list":"SuggestionsBanner_thumbnails-list__gsu5l",thumbnailsList:"SuggestionsBanner_thumbnails-list__gsu5l","documents-carousel":"SuggestionsBanner_documents-carousel__7w_zp",documentsCarousel:"SuggestionsBanner_documents-carousel__7w_zp"}},56466:e=>{e.exports={link:"RelatedDocumentsLi_link__oFByX",icon:"RelatedDocumentsLi_icon__5DOyF",title:"RelatedDocumentsLi_title__GLy3y","premium-label":"RelatedDocumentsLi_premium-label__uWQko",premiumLabel:"RelatedDocumentsLi_premium-label__uWQko"}},56869:e=>{e.exports={"ad-bottom-container":"AdsContainer_ad-bottom-container__eD7MR",adBottomContainer:"AdsContainer_ad-bottom-container__eD7MR","close-button-wrapper":"AdsContainer_close-button-wrapper__K_ggk",closeButtonWrapper:"AdsContainer_close-button-wrapper__K_ggk"}},56990:e=>{e.exports={defaultDocumentWidth:"1024px",viewerWrapperTopOffset:"24px","page-container":"Viewer_page-container__shmQ1",pageContainer:"Viewer_page-container__shmQ1","viewer-wrapper":"Viewer_viewer-wrapper__O8ZL7",viewerWrapper:"Viewer_viewer-wrapper__O8ZL7","selection-active":"Viewer_selection-active__XxYd3",selectionActive:"Viewer_selection-active__XxYd3","document-wrapper":"Viewer_document-wrapper__JPBWQ",documentWrapper:"Viewer_document-wrapper__JPBWQ",h1:"Viewer_h1__kzblq",h2:"Viewer_h2__Snek0",h3:"Viewer_h3__0X4Kb",h4:"Viewer_h4__TZrL3",h5:"Viewer_h5__Kyza2",h6:"Viewer_h6__PtzBr",descaler:"Viewer_descaler__rUszn"}},58455:e=>{e.exports={"sign-in":"PremiumBannerSignInCTA_sign-in__5wCnS",signIn:"PremiumBannerSignInCTA_sign-in__5wCnS",button:"PremiumBannerSignInCTA_button__aidzC"}},61875:e=>{e.exports={topBarHeightVarName:"--top-bar-height",topBarClosedHeightVarName:"--top-bar-closed-height","topbar-wrapper":"NewViewerTopbar_topbar-wrapper__V9sTV",topbarWrapper:"NewViewerTopbar_topbar-wrapper__V9sTV","report-section":"NewViewerTopbar_report-section__qUA1A",reportSection:"NewViewerTopbar_report-section__qUA1A",topbar:"NewViewerTopbar_topbar__Xrfah",open:"NewViewerTopbar_open__BC7X4",compact:"NewViewerTopbar_compact__RDCaz","metadata-wrapper":"NewViewerTopbar_metadata-wrapper__T_Jq7",metadataWrapper:"NewViewerTopbar_metadata-wrapper__T_Jq7",metadata:"NewViewerTopbar_metadata__LjAGl","document-description":"NewViewerTopbar_document-description__0_O9E",documentDescription:"NewViewerTopbar_document-description__0_O9E","document-ai-summary-wrapper":"NewViewerTopbar_document-ai-summary-wrapper__2vuRZ",documentAiSummaryWrapper:"NewViewerTopbar_document-ai-summary-wrapper__2vuRZ"}},61928:e=>{e.exports={"user-link":"UploaderIllustrationBanner_user-link__5SIRO",userLink:"UploaderIllustrationBanner_user-link__5SIRO"}},63002:e=>{e.exports={"with-icon":"DegreeGradeLinks_with-icon__Ejc_u",withIcon:"DegreeGradeLinks_with-icon__Ejc_u",text:"DegreeGradeLinks_text__Rb_vl"}},63058:e=>{e.exports={heading:"IllustrationBannerHeading_heading__zm0gf",subheading:"IllustrationBannerHeading_subheading__z7IIf","inline-heading":"IllustrationBannerHeading_inline-heading__t8uQP",inlineHeading:"IllustrationBannerHeading_inline-heading__t8uQP","inline-heading-for-mobile":"IllustrationBannerHeading_inline-heading-for-mobile__VHir2",inlineHeadingForMobile:"IllustrationBannerHeading_inline-heading-for-mobile__VHir2"}},64442:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});var r=n(55729),i=n(93349),o=n(28670),a=n(68416),s=n(7018),l=n(89522),c=n(51097),u=n(55365);let d=()=>{let e=(0,u.R)();return(0,r.useCallback)((t,n,r)=>e({"Click Origin":t,"Document ID":n,contentType:"Document",...(0,c.hj)(r)&&{"Current Document Page":r}}),[e])};var A=n(84965);let m=(e,t)=>{let{config:n}=(0,i.K)(),c=(e=>{let t=d(),n=(0,s.A)(),i=(0,a.k)(),c=(0,o.b)(e,"BrowserApi");return(0,r.useCallback)((r,o)=>Promise.all([t(r,e,o),navigator.share({title:document.title,url:c}).then(()=>(n(e,l.q.DOCUMENT_SHARED),i({contentType:"Document",platform:"Native"}))).catch(e=>e)]),[e,n,c,i,t])})(e),u=(()=>{let e=d();return(0,r.useCallback)((t,n,r)=>{e(t,n,r),(0,A.fj)({additionalData:{currentPage:r},modalType:"share"})},[e])})();return(0,r.useCallback)(async r=>{n.isMobile&&"share"in navigator?await c(t,r):u(t,e,r)},[n.isMobile,e,t,c,u])}},65059:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,Y4:()=>s,bn:()=>i,iL:()=>r,q7:()=>a});let r="top-bar-wrapper",i="visible-content-bottom-section",o="layoutchanged",a="currentDocumentPageNumberChanged",s="mobile-bottom-sheet-portal"},65163:e=>{e.exports={header:"PremiumBannerHeader_header__W_5H4"}},65464:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/document/[[...params]]",function(){return n(99339)}])},65548:e=>{e.exports={"page-content-wrapper":"ViewerContainer_page-content-wrapper__dIkzT",pageContentWrapper:"ViewerContainer_page-content-wrapper__dIkzT","premium-banner-wrapper":"ViewerContainer_premium-banner-wrapper__yKdY6",premiumBannerWrapper:"ViewerContainer_premium-banner-wrapper__yKdY6","page-content-with-bottom-section-wrapper":"ViewerContainer_page-content-with-bottom-section-wrapper__AmJEV",pageContentWithBottomSectionWrapper:"ViewerContainer_page-content-with-bottom-section-wrapper__AmJEV","visible-content-bottom-section":"ViewerContainer_visible-content-bottom-section__Oj_4c",visibleContentBottomSection:"ViewerContainer_visible-content-bottom-section__Oj_4c"}},68416:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(85695);let i=()=>{let e=(0,r.jt)();return t=>{let{contentType:n,platform:r,...i}=t;return e("Share Platform Clicked",{"Content Type":n,Platform:r,...i})}}},68763:e=>{e.exports={icon:"CourseLink_icon__DF7qJ"}},69263:e=>{e.exports={footer:"PremiumBanner_footer__qHR7B","is-floating":"PremiumBanner_is-floating__wX9aG",isFloating:"PremiumBanner_is-floating__wX9aG"}},69767:e=>{e.exports={container:"CourseInfo_container__95qhR",icon:"CourseInfo_icon__WdNCU","info-section-header":"CourseInfo_info-section-header__XyjDx",infoSectionHeader:"CourseInfo_info-section-header__XyjDx",link:"CourseInfo_link__F3_3w"}},70133:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,d:()=>a});var r=n(33242),i=n(55729);let o="userReportedDocument",a=e=>{let t=(0,r.useQueryClient)(),{data:n}=(0,r.useQuery)({initialData:e,queryFn:()=>e,queryKey:[o]});return(0,i.useEffect)(()=>{t.setQueryData([o],e)},[e,t]),n}},70835:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(6029);let i=e=>{let{className:t,color:n,testSelector:i}=e;return(0,r.jsx)("svg",{className:t,fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{clipRule:"evenodd",d:"M14.4 4.953c0 .21-.082.42-.231.572l-7.102 7.24a.793.793 0 0 1-.562.235.793.793 0 0 1-.561-.236L1.83 8.572a.824.824 0 0 1 0-1.144l1.123-1.145a.793.793 0 0 1 .562-.236c.206 0 .413.084.562.236l2.427 2.483 5.418-5.53A.793.793 0 0 1 12.484 3c.207 0 .413.084.562.236l1.123 1.144a.825.825 0 0 1 .231.573Z",fill:n??"currentColor",fillRule:"evenodd"})})}},71640:e=>{e.exports={"bottom-floating-component":"BottomFloatingComponent_bottom-floating-component__OtVQh",bottomFloatingComponent:"BottomFloatingComponent_bottom-floating-component__OtVQh","nav-bar-spacer":"BottomFloatingComponent_nav-bar-spacer__Ispm_",navBarSpacer:"BottomFloatingComponent_nav-bar-spacer__Ispm_","bottom-spacer":"BottomFloatingComponent_bottom-spacer__3Txav",bottomSpacer:"BottomFloatingComponent_bottom-spacer__3Txav","content-wrapper":"BottomFloatingComponent_content-wrapper__YEpFl",contentWrapper:"BottomFloatingComponent_content-wrapper__YEpFl"}},72526:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>h,Bp:()=>d,DG:()=>s,DQ:()=>o,Lg:()=>C,O$:()=>g,QX:()=>m,WQ:()=>c,Yo:()=>b,aM:()=>l,cF:()=>u,gJ:()=>A,h:()=>f,nD:()=>a,sq:()=>_,xc:()=>p,z9:()=>w});var r=n(56990),i=n.n(r);let o=.25,a=4,s=.25,l=1.25,c=parseInt(i().defaultDocumentWidth,10),u=parseInt(i().viewerWrapperTopOffset,10),d=22,A=34,m="banner-wrapper",p=1,_="page-container",h="page-container-wrapper",g=3,w=6,C=6,b=2,f=300},73351:e=>{e.exports={"banner-button":"PremiumBannerButton_banner-button__Bjm4_",bannerButton:"PremiumBannerButton_banner-button__Bjm4_","secondary-button":"PremiumBannerButton_secondary-button__08fn7",secondaryButton:"PremiumBannerButton_secondary-button__08fn7"}},76095:e=>{e.exports={"academic-year-section-wrapper":"AcademicYearWithIcon_academic-year-section-wrapper__SqbC0",academicYearSectionWrapper:"AcademicYearWithIcon_academic-year-section-wrapper__SqbC0","without-caption":"AcademicYearWithIcon_without-caption__jMiOS",withoutCaption:"AcademicYearWithIcon_without-caption__jMiOS","icon-and-caption-section":"AcademicYearWithIcon_icon-and-caption-section__lpIvx",iconAndCaptionSection:"AcademicYearWithIcon_icon-and-caption-section__lpIvx","caption-label":"AcademicYearWithIcon_caption-label__FtaDl",captionLabel:"AcademicYearWithIcon_caption-label__FtaDl","academic-year-info":"AcademicYearWithIcon_academic-year-info__al7xI",academicYearInfo:"AcademicYearWithIcon_academic-year-info__al7xI"}},76199:e=>{e.exports={"related-documents-wrapper":"RelatedDocuments_related-documents-wrapper__6z__7",relatedDocumentsWrapper:"RelatedDocuments_related-documents-wrapper__6z__7",list:"RelatedDocuments_list__TV3ee"}},76364:e=>{e.exports={"popover-content":"CropFab_popover-content__XyF5D",popoverContent:"CropFab_popover-content__XyF5D","fab-container":"CropFab_fab-container__qtekQ",fabContainer:"CropFab_fab-container__qtekQ"}},77255:e=>{e.exports={headerHeight:"72px","header-wrapper":"HeaderWrapper_header-wrapper__mCmf3",headerWrapper:"HeaderWrapper_header-wrapper__mCmf3","is-centered":"HeaderWrapper_is-centered__4DHZk",isCentered:"HeaderWrapper_is-centered__4DHZk"}},77925:e=>{e.exports={"additional-info-wrapper":"CourseBannerAdditionalInfo_additional-info-wrapper__rcE_r",additionalInfoWrapper:"CourseBannerAdditionalInfo_additional-info-wrapper__rcE_r","high-school-info":"CourseBannerAdditionalInfo_high-school-info__vKoha",highSchoolInfo:"CourseBannerAdditionalInfo_high-school-info__vKoha","additional-link-wrapper":"CourseBannerAdditionalInfo_additional-link-wrapper__RNWiv",additionalLinkWrapper:"CourseBannerAdditionalInfo_additional-link-wrapper__RNWiv",link:"CourseBannerAdditionalInfo_link__i4jWW","course-documents-tag-wrapper":"CourseBannerAdditionalInfo_course-documents-tag-wrapper__26qOJ",courseDocumentsTagWrapper:"CourseBannerAdditionalInfo_course-documents-tag-wrapper__26qOJ"}},79143:e=>{e.exports={"benefits-list":"PremiumBannerBenefitsList_benefits-list__ZOdxB",benefitsList:"PremiumBannerBenefitsList_benefits-list__ZOdxB","wide-variant":"PremiumBannerBenefitsList_wide-variant__WD499",wideVariant:"PremiumBannerBenefitsList_wide-variant__WD499","in-viewer":"PremiumBannerBenefitsList_in-viewer__kek7I",inViewer:"PremiumBannerBenefitsList_in-viewer__kek7I",benefit:"PremiumBannerBenefitsList_benefit__gpfQP","benefit-text":"PremiumBannerBenefitsList_benefit-text__wqyUg",benefitText:"PremiumBannerBenefitsList_benefit-text__wqyUg"}},79495:e=>{e.exports={"ai-summary-container-wrapper":"AiSummaryContainer_ai-summary-container-wrapper__PP7Qa",aiSummaryContainerWrapper:"AiSummaryContainer_ai-summary-container-wrapper__PP7Qa","ai-summary-container":"AiSummaryContainer_ai-summary-container__5ZYUO",aiSummaryContainer:"AiSummaryContainer_ai-summary-container__5ZYUO","expandable-summary-wrapper":"AiSummaryContainer_expandable-summary-wrapper__E_1En",expandableSummaryWrapper:"AiSummaryContainer_expandable-summary-wrapper__E_1En",expanded:"AiSummaryContainer_expanded__74Phz","summary-wrapper":"AiSummaryContainer_summary-wrapper__2FprU",summaryWrapper:"AiSummaryContainer_summary-wrapper__2FprU","summary-expanded":"AiSummaryContainer_summary-expanded__wNw7R",summaryExpanded:"AiSummaryContainer_summary-expanded__wNw7R","key-concepts-list":"AiSummaryContainer_key-concepts-list__uOXyY",keyConceptsList:"AiSummaryContainer_key-concepts-list__uOXyY",hidden:"AiSummaryContainer_hidden__jDAaR","more-button-wrapper":"AiSummaryContainer_more-button-wrapper__v3Ltx",moreButtonWrapper:"AiSummaryContainer_more-button-wrapper__v3Ltx","see-less-button":"AiSummaryContainer_see-less-button__IuiQq",seeLessButton:"AiSummaryContainer_see-less-button__IuiQq"}},79977:e=>{e.exports={indicator:"PageNavigatorIndicator_indicator__kDeUh",item:"PageNavigatorIndicator_item__RvcKO","long-item":"PageNavigatorIndicator_long-item__RduDv",longItem:"PageNavigatorIndicator_long-item__RduDv","short-item":"PageNavigatorIndicator_short-item__aEhEK",shortItem:"PageNavigatorIndicator_short-item__aEhEK","highlighted-item":"PageNavigatorIndicator_highlighted-item__ySJAG",highlightedItem:"PageNavigatorIndicator_highlighted-item__ySJAG"}},82113:e=>{e.exports={"actions-container":"SelectionActions_actions-container__60rnM",actionsContainer:"SelectionActions_actions-container__60rnM"}},82267:e=>{e.exports={"button-content-wrapper":"AIToolsDropdownButton_button-content-wrapper__jCXel",buttonContentWrapper:"AIToolsDropdownButton_button-content-wrapper__jCXel","arrow-icon-wrapper":"AIToolsDropdownButton_arrow-icon-wrapper__Tyk2r",arrowIconWrapper:"AIToolsDropdownButton_arrow-icon-wrapper__Tyk2r"}},82974:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(6029),i=n(17226),o=n(97761);let a=e=>{let{as:t="ul",children:n,role:a="menu",...s}=e,{elementsRef:l,labelsRef:c}=(0,o.C)();return(0,r.jsx)(t,{...s,role:a,children:(0,r.jsx)(i.ph,{elementsRef:l,labelsRef:c,children:n})})}},83965:(e,t,n)=>{"use strict";n.d(t,{V:()=>A});var r=n(33242),i=n(55729),o=n(51097),a=n(7018),s=n(37967),l=n(3493),c=n(93349),u=n(85695);let d="Document Download Clicked";function A(e,t){let n=(0,u.jt)(),{ab:A}=(0,c.K)(),m=(0,l.Y)(),p=(0,a.A)(),_=A.find(e=>{let{test:t}=e;return"testTieredPremium"===t})?.variant,h=A.find(e=>{let{test:t}=e;return"testTieredPremiumCoreMarket"===t})?.variant,g=A.find(e=>{let{test:t}=e;return"testTieredPremiumRow"===t})?.variant,w=(0,r.useMutation)({mutationFn:e=>{let{documentId:t}=e;return fetch(m.route("api.metrics.downloadclicks.store",{documentId:t}),{headers:(0,s.M)(),method:"POST"})}});return(0,i.useCallback)((r,i)=>Promise.all([w.mutateAsync({documentId:e}),n(d,{...t,...(0,o.hj)(i)&&{"Current Document Page":i},Origin:r,..._&&{"Test Tiered Premium":_},...h&&{"Test Tiered Premium Core Market":h},...g&&{"Test Tiered Premium Row":g}}),p(e,d)]),[e,p,t,w,h,g,_,n])}},84635:e=>{e.exports={"ai-quiz-tooltip":"AIQuizTooltip_ai-quiz-tooltip__bBJo5",aiQuizTooltip:"AIQuizTooltip_ai-quiz-tooltip__bBJo5","ai-quiz-tooltip-bg-img":"AIQuizTooltip_ai-quiz-tooltip-bg-img__sd6rq",aiQuizTooltipBgImg:"AIQuizTooltip_ai-quiz-tooltip-bg-img__sd6rq","ai-quiz-tooltip-img":"AIQuizTooltip_ai-quiz-tooltip-img__rZxUZ",aiQuizTooltipImg:"AIQuizTooltip_ai-quiz-tooltip-img__rZxUZ","ai-quiz-tooltip-text":"AIQuizTooltip_ai-quiz-tooltip-text__SJB2h",aiQuizTooltipText:"AIQuizTooltip_ai-quiz-tooltip-text__SJB2h"}},84965:(e,t,n)=>{"use strict";n.d(t,{Y0:()=>A,b_:()=>u,fj:()=>c});var r=n(55729),i=n(47768),o=n(51097),a=n(66100),s=n(14309);let l={CLOSE:"doc-modal-close",OPEN:"doc-modal-open"},c=e=>document.dispatchEvent(new CustomEvent(l.OPEN,{detail:e})),u=e=>document.dispatchEvent(new CustomEvent(l.CLOSE,{detail:e})),d=Object.values(s.j).reduce((e,t)=>({...e,[t]:{show:!1}}),{}),A=()=>{let[e,t]=(0,r.useState)(d),n=(0,i.oc)()?document:null;return(0,a.M)(l.OPEN,e=>{let{additionalData:n,modalType:r}=e.detail;if((0,o.Im)(r))throw Error("Modal type doesn't exist");t(e=>({...e,[r]:{show:!0,...n}}))},n),(0,a.M)(l.CLOSE,e=>{let n=e.detail;if((0,o.Im)(n))throw Error("Modal type doesn't exist");t(e=>({...e,[n]:{show:!1}}))},n),{modalState:e}}},85524:e=>{e.exports={"end-of-document-indicator":"DocumentEndIndicator_end-of-document-indicator__AaGEk",endOfDocumentIndicator:"DocumentEndIndicator_end-of-document-indicator__AaGEk",line:"DocumentEndIndicator_line__4GMKe"}},86054:e=>{e.exports={studylists:"SaveDocumentModalBody_studylists__TbeQk"}},86281:e=>{e.exports={"selection-overlay":"MobileSelectionTool_selection-overlay__wcdlv",selectionOverlay:"MobileSelectionTool_selection-overlay__wcdlv","selection-rect":"MobileSelectionTool_selection-rect__EupCv",selectionRect:"MobileSelectionTool_selection-rect__EupCv",dashed:"MobileSelectionTool_dashed__VM4TW",solid:"MobileSelectionTool_solid__MG4S8",handle:"MobileSelectionTool_handle__F85q6","handle-top-left":"MobileSelectionTool_handle-top-left__912Ls",handleTopLeft:"MobileSelectionTool_handle-top-left__912Ls","handle-top-right":"MobileSelectionTool_handle-top-right__RmU5K",handleTopRight:"MobileSelectionTool_handle-top-right__RmU5K","handle-bottom-left":"MobileSelectionTool_handle-bottom-left__4y4vY",handleBottomLeft:"MobileSelectionTool_handle-bottom-left__4y4vY","handle-bottom-right":"MobileSelectionTool_handle-bottom-right__vS4Bb",handleBottomRight:"MobileSelectionTool_handle-bottom-right__vS4Bb","handle-top":"MobileSelectionTool_handle-top__mC_I4",handleTop:"MobileSelectionTool_handle-top__mC_I4","handle-bottom":"MobileSelectionTool_handle-bottom__jVV0e",handleBottom:"MobileSelectionTool_handle-bottom__jVV0e","handle-left":"MobileSelectionTool_handle-left__YuHx7",handleLeft:"MobileSelectionTool_handle-left__YuHx7","handle-right":"MobileSelectionTool_handle-right__d_HZC",handleRight:"MobileSelectionTool_handle-right__d_HZC","close-button-wrapper":"MobileSelectionTool_close-button-wrapper__MUgb8",closeButtonWrapper:"MobileSelectionTool_close-button-wrapper__MUgb8","actions-wrapper":"MobileSelectionTool_actions-wrapper__yY6i3",actionsWrapper:"MobileSelectionTool_actions-wrapper__yY6i3","actions-fixed":"MobileSelectionTool_actions-fixed__4Jwd7",actionsFixed:"MobileSelectionTool_actions-fixed__4Jwd7","actions-last-page":"MobileSelectionTool_actions-last-page__of6Up",actionsLastPage:"MobileSelectionTool_actions-last-page__of6Up","answer-popup":"MobileSelectionTool_answer-popup__ZyHbQ",answerPopup:"MobileSelectionTool_answer-popup__ZyHbQ"}},86698:e=>{e.exports={"studylist-link":"StudylistIllustrationBanner_studylist-link__Z20Yo",studylistLink:"StudylistIllustrationBanner_studylist-link__Z20Yo",by:"StudylistIllustrationBanner_by__mbKxx","user-link":"StudylistIllustrationBanner_user-link__Nry_p",userLink:"StudylistIllustrationBanner_user-link__Nry_p","additional-info":"StudylistIllustrationBanner_additional-info__qJMF_",additionalInfo:"StudylistIllustrationBanner_additional-info__qJMF_",meta:"StudylistIllustrationBanner_meta__0ukgP",illustration:"StudylistIllustrationBanner_illustration__GXwhR"}},87670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(6029),i=n(32988),o=n.n(i),a=n(55729),s=n(17038),l=n(3832),c=n(75715),u=n(51097),d=n(73172),A=n(28113),m=n(48939),p=n(97482),_=n(7334),h=n(56023),g=n.n(h);let w=(0,a.memo)(function(e){let{bannerRef:t,clickOrigin:n,documents:i,listItemsAmount:h,renderFirstElement:w,renderHeaderLink:C,testSelector:b}=e,f=(0,m.u)(),x=(0,a.useMemo)(()=>h?i?.slice(0,h):i,[i,h]),R=(0,a.useMemo)(()=>w?.(!0),[w]),v=(0,a.useMemo)(()=>(0,r.jsx)(s.yq,{itemWidth:"large",testSelector:"thumbnails-carousel-item",visibleItemsAmount:5,children:w?.(!1)}),[w]);return(0,u.Im)(i)||!i?.length?null:(0,r.jsxs)(p.A,{bannerRef:t,testSelector:b,variant:"bottom",children:[C&&(0,r.jsxs)("h3",{className:g().bottomBannerHeader,children:[(0,r.jsx)(l.E,{as:"span",color:"subtle",textWrap:"nowrap",variant:"title-medium",children:(0,r.jsx)(d.A,{id:"more_from"})}),C(g().headerLink)]}),(0,r.jsxs)("div",{className:o()((0,c.R)("from-tablet"),g().thumbnailsListWrapper),children:[R,(0,r.jsx)(_.A,{classAddOn:g().thumbnailsList,direction:"horizontal",documents:x,origin:n,thumbnailPreferredSize:"medium",useCompressedImage:!0})]}),(0,r.jsx)("div",{"aria-label":f.get("suggestions"),className:o()((0,c.R)("on-mobile"),g().documentsCarousel),children:(0,r.jsx)(A.A,{documentTileWidth:"small",documents:i,firstCarouselItem:v,origin:n,thumbnailPreferredSize:"large",useCompressedImage:!0,visibleThumbnailsAmount:5,whiteGradient:!0})})]})})},87750:e=>{e.exports={"bottom-sheet":"MobileAnswerBottomSheet_bottom-sheet__oKHLm",bottomSheet:"MobileAnswerBottomSheet_bottom-sheet__oKHLm","slide-up-entrance":"MobileAnswerBottomSheet_slide-up-entrance__HRZPU",slideUpEntrance:"MobileAnswerBottomSheet_slide-up-entrance__HRZPU",loading:"MobileAnswerBottomSheet_loading__eDYKf",expanded:"MobileAnswerBottomSheet_expanded__aADnE",header:"MobileAnswerBottomSheet_header__BUxat","fade-in":"MobileAnswerBottomSheet_fade-in__cZekO",fadeIn:"MobileAnswerBottomSheet_fade-in__cZekO","header-left":"MobileAnswerBottomSheet_header-left__JUtDV",headerLeft:"MobileAnswerBottomSheet_header-left__JUtDV","header-right":"MobileAnswerBottomSheet_header-right__gtQbP",headerRight:"MobileAnswerBottomSheet_header-right__gtQbP","title-icon":"MobileAnswerBottomSheet_title-icon__jeP5s",titleIcon:"MobileAnswerBottomSheet_title-icon__jeP5s",content:"MobileAnswerBottomSheet_content__PuGBY","question-container":"MobileAnswerBottomSheet_question-container__78fal",questionContainer:"MobileAnswerBottomSheet_question-container__78fal","slide-in-up":"MobileAnswerBottomSheet_slide-in-up__z_a4B",slideInUp:"MobileAnswerBottomSheet_slide-in-up__z_a4B","answer-section":"MobileAnswerBottomSheet_answer-section__47d80",answerSection:"MobileAnswerBottomSheet_answer-section__47d80","answer-subtitle":"MobileAnswerBottomSheet_answer-subtitle__62FR6",answerSubtitle:"MobileAnswerBottomSheet_answer-subtitle__62FR6",answer:"MobileAnswerBottomSheet_answer__ePbnF","loading-container":"MobileAnswerBottomSheet_loading-container__ksODT",loadingContainer:"MobileAnswerBottomSheet_loading-container__ksODT"}},87829:e=>{e.exports={menu:"PageNavigatorMenu_menu__dcWfb","menu-item-wrapper":"PageNavigatorMenu_menu-item-wrapper__TUZkv",menuItemWrapper:"PageNavigatorMenu_menu-item-wrapper__TUZkv","menu-item":"PageNavigatorMenu_menu-item__42OjP",menuItem:"PageNavigatorMenu_menu-item__42OjP","highlighted-item":"PageNavigatorMenu_highlighted-item__PaJcz",highlightedItem:"PageNavigatorMenu_highlighted-item__PaJcz",subitem:"PageNavigatorMenu_subitem__117Kg"}},88066:e=>{e.exports={"promo-app-interstitial":"PromoAppInterstitial_promo-app-interstitial__3WA1H",promoAppInterstitial:"PromoAppInterstitial_promo-app-interstitial__3WA1H",illustration:"PromoAppInterstitial_illustration__E9xTS",content:"PromoAppInterstitial_content__0yM3X","qr-code":"PromoAppInterstitial_qr-code__oOUK5",qrCode:"PromoAppInterstitial_qr-code__oOUK5"}},88763:e=>{e.exports={list:"AIToolsDropdown_list__qGYlM","dropdown-item":"AIToolsDropdown_dropdown-item__etMQp",dropdownItem:"AIToolsDropdown_dropdown-item__etMQp","dropdown-list-item":"AIToolsDropdown_dropdown-list-item__1up0N",dropdownListItem:"AIToolsDropdown_dropdown-list-item__1up0N"}},89074:e=>{e.exports={"start-metadata":"StartModeMetadata_start-metadata__9APam",startMetadata:"StartModeMetadata_start-metadata__9APam","desktop-first-line-wrapper":"StartModeMetadata_desktop-first-line-wrapper__rOXaQ",desktopFirstLineWrapper:"StartModeMetadata_desktop-first-line-wrapper__rOXaQ","document-author-visible":"StartModeMetadata_document-author-visible__d21cm",documentAuthorVisible:"StartModeMetadata_document-author-visible__d21cm","degree-grade-metadata":"StartModeMetadata_degree-grade-metadata__ElOBu",degreeGradeMetadata:"StartModeMetadata_degree-grade-metadata__ElOBu","course-metadata":"StartModeMetadata_course-metadata__L_odb",courseMetadata:"StartModeMetadata_course-metadata__L_odb","institution-metadata":"StartModeMetadata_institution-metadata__oLx_I",institutionMetadata:"StartModeMetadata_institution-metadata__oLx_I","uploader-section":"StartModeMetadata_uploader-section__FKRwd",uploaderSection:"StartModeMetadata_uploader-section__FKRwd","with-academic-year":"StartModeMetadata_with-academic-year__Feh7q",withAcademicYear:"StartModeMetadata_with-academic-year__Feh7q","academic-year-section":"StartModeMetadata_academic-year-section__kdmtM",academicYearSection:"StartModeMetadata_academic-year-section__kdmtM"}},89991:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(57428),i=n(96490);function o(){let{width:e}=(0,r.G)();return(0,i.e)(e)}},90196:e=>{e.exports={"selection-overlay":"SelectionTool_selection-overlay__hpAF3",selectionOverlay:"SelectionTool_selection-overlay__hpAF3","selection-rect":"SelectionTool_selection-rect__N5zc6",selectionRect:"SelectionTool_selection-rect__N5zc6",dashed:"SelectionTool_dashed__1K1bi",solid:"SelectionTool_solid__zpT7G",handle:"SelectionTool_handle__CJwcH","handle-top-left":"SelectionTool_handle-top-left__oi1NQ",handleTopLeft:"SelectionTool_handle-top-left__oi1NQ","handle-top-right":"SelectionTool_handle-top-right__aJnBH",handleTopRight:"SelectionTool_handle-top-right__aJnBH","handle-bottom-left":"SelectionTool_handle-bottom-left__das8l",handleBottomLeft:"SelectionTool_handle-bottom-left__das8l","handle-bottom-right":"SelectionTool_handle-bottom-right__Z737m",handleBottomRight:"SelectionTool_handle-bottom-right__Z737m","handle-top":"SelectionTool_handle-top__N2Vq_",handleTop:"SelectionTool_handle-top__N2Vq_","handle-bottom":"SelectionTool_handle-bottom__uET8Y",handleBottom:"SelectionTool_handle-bottom__uET8Y","handle-left":"SelectionTool_handle-left__O3zFi",handleLeft:"SelectionTool_handle-left__O3zFi","handle-right":"SelectionTool_handle-right__XWDSR",handleRight:"SelectionTool_handle-right__XWDSR","close-button-wrapper":"SelectionTool_close-button-wrapper__XfWfb",closeButtonWrapper:"SelectionTool_close-button-wrapper__XfWfb","actions-wrapper":"SelectionTool_actions-wrapper__aPB2L",actionsWrapper:"SelectionTool_actions-wrapper__aPB2L","answer-popup":"SelectionTool_answer-popup__s6k6B",answerPopup:"SelectionTool_answer-popup__s6k6B"}},90468:e=>{e.exports={"bottom-section-wrapper":"DocumentBottomSection_bottom-section-wrapper__Rs1GI",bottomSectionWrapper:"DocumentBottomSection_bottom-section-wrapper__Rs1GI"}},90888:e=>{e.exports={"floating-components-wrapper":"FloatingComponentsWrapper_floating-components-wrapper__ChJtH",floatingComponentsWrapper:"FloatingComponentsWrapper_floating-components-wrapper__ChJtH","align-center":"FloatingComponentsWrapper_align-center__yEVWR",alignCenter:"FloatingComponentsWrapper_align-center__yEVWR","align-right":"FloatingComponentsWrapper_align-right__akBy1",alignRight:"FloatingComponentsWrapper_align-right__akBy1"}},95433:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(15299);let i=e=>r.w4[e]},96331:e=>{e.exports={"overlay-container":"SelectionOverlayMask_overlay-container__JUJ4M",overlayContainer:"SelectionOverlayMask_overlay-container__JUJ4M","overlay-mask":"SelectionOverlayMask_overlay-mask__1QB7l",overlayMask:"SelectionOverlayMask_overlay-mask__1QB7l","top-mask":"SelectionOverlayMask_top-mask__RslJ9",topMask:"SelectionOverlayMask_top-mask__RslJ9","left-mask":"SelectionOverlayMask_left-mask__PvYp9",leftMask:"SelectionOverlayMask_left-mask__PvYp9","right-mask":"SelectionOverlayMask_right-mask__O5Ka6",rightMask:"SelectionOverlayMask_right-mask__O5Ka6","bottom-mask":"SelectionOverlayMask_bottom-mask__nExUQ",bottomMask:"SelectionOverlayMask_bottom-mask__nExUQ","selection-area":"SelectionOverlayMask_selection-area__4uScs",selectionArea:"SelectionOverlayMask_selection-area__4uScs"}},96490:(e,t,n)=>{"use strict";function r(e){return"number"!=typeof e||isNaN(e)?null:e<768?"phone":e<1200?"tablet":"desktop"}n.d(t,{e:()=>r})},97482:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(6029),i=n(32988),o=n.n(i),a=n(34643),s=n.n(a);let l=function(e){let{bannerRef:t,children:n,className:i,testSelector:a,variant:l}=e;return(0,r.jsx)("div",{className:o()(s().outerWrapper,i,s()[l]),ref:t,children:(0,r.jsx)("div",{className:s().banner,children:n})})}},97844:e=>{e.exports={"impact-wrapper":"UploaderBannerImpact_impact-wrapper__amgOI",impactWrapper:"UploaderBannerImpact_impact-wrapper__amgOI"}},98239:e=>{e.exports={wrapper:"CourseDocumentsTag_wrapper__DYccv",tooltip:"CourseDocumentsTag_tooltip__Oks3n",content:"CourseDocumentsTag_content__vPE29","popover-content":"CourseDocumentsTag_popover-content__hORTA",popoverContent:"CourseDocumentsTag_popover-content__hORTA"}},98900:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(55729);let i=e=>{let t=(0,r.useRef)(!1),n=(0,r.useCallback)(()=>{e(),t.current=!1},[e]);return(0,r.useCallback)(()=>{t.current||(t.current=!0,requestAnimationFrame(n))},[n])}},99339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__N_SSP:()=>cL,default:()=>cG});var r=n(6029),i=n(55729),o=n(6772),a=n.n(o);let s=()=>(0,r.jsx)(a(),{dangerouslySetInnerHTML:{__html:"if ('scrollRestoration' in window.history) {window.history.scrollRestoration = 'manual';}"},defer:!0,id:"scroll-restoration",type:"text/javascript"});var l=n(93349),c=n(79559),u=n(58155),d=n(51097);let A=e=>{let{lapTime:t,onTimerReachLap:n=d.lQ,repeat:r}=e,o=(0,i.useRef)(void 0),a=(0,i.useRef)(0),s=(0,i.useMemo)(()=>(0,d.cy)(t)?t:[t],[t]);return(0,i.useEffect)(()=>(o.current=window.setInterval(()=>{!document.hidden&&(a.current+=1,s.includes(a.current)&&n(a.current),Math.max(...s)<=a.current&&(r?a.current=0:window.clearInterval(o?.current)))},1e3),()=>{window.clearInterval(o?.current)}),[n,t,r,s]),null};var m=n(17064),p=n(23098),_=n(85695);let h={},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=(()=>{let e=(0,i.useRef)(h);return{clearEventTime(){e.current=h},getEventTime:t=>e.current[t],setEventTime(t,n){e.current={[t]:n}}}})(),o=`studocu_page_view_timer:${e}`,a=(0,_.jt)(),s=(0,i.useMemo)(()=>(0,d.b0)(n)||Math.random()<n,[n]);(0,i.useEffect)(()=>{if(!s)return;let{startTimer:n,stopTimer:i}={startTimer(){let e=performance.now();r.setEventTime(o,e)},stopTimer(){let e=performance.now(),t=r.getEventTime(o);if(r.clearEventTime(),void 0!==t)return e-t;throw Error("Start time not found. Check if persistence key is defined and the timer was started.")}};return n(),document.onvisibilitychange=()=>{if("hidden"===document.visibilityState)try{a(p.aZ.PageViewDuration,{Duration:i(),"Page Name":e,...t})}catch{return}finally{document.onvisibilitychange=null}},()=>{document.onvisibilitychange=null}},[])};var w=n(7018),C=n(73230),b=n(97139);let f=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^\s*#{1,6}\s*/gm," ")).replace(/```[\s\S]*?```/g," ")).replace(/(\*\*|__)(.*?)\1/g,"$2")).replace(/(\*|_)(.*?)\1/g,"$2")).replace(/~~(.*?)~~/g,"$1")).replace(/`([^`]+)`/g,"$1")).replace(/\[([^\]]+)\]\([^)]+\)/g,"$1")).replace(/!\[([^\]]*)\]\([^)]+\)/g,"$1")).replace(/^\s*[-*+]\s+/gm," ")).replace(/^\s*\d+\.\s+/gm," ")).replace(/^\s*>+\s?/gm," ")).replace(/^\s*[-*_]{3,}\s*$/gm," ")).replace(/\$\$([\s\S]*?)\$\$/g,"$1")).replace(/\n{2,}/g,"\n\n")).replace(/^\s+|\s+$/g,"")).replace(/\s{2,}/g," "),(0,b.sanitize)(e.trim())};var x=n(51652),R=n(8650),v=n(14454),D=n(95669),E=n.n(D);let B=function(e){let{aboutName:t,authorName:n,authorProfileUrl:i,datePublished:o,description:a,educationalLevel:s,headline:l,image:c,inLanguage:u,mainEntityOfPageId:d}=e,A={"@context":"https://schema.org","@type":"Article",about:{"@type":"Thing",name:t},audience:{"@type":"Audience",audienceType:"Students"},...i&&n&&{author:{"@type":"Person",name:n,url:i}},datePublished:o,description:a,educationalLevel:s,headline:l,...c&&{image:c},inLanguage:u,...d&&{mainEntityOfPage:{"@id":d,"@type":"WebPage"}}};return(0,r.jsx)(E(),{children:(0,r.jsx)("script",{type:"application/ld+json",children:JSON.stringify(A)})})};var y=n(59795),I=n(48939),S=n(48459);let k=e=>{let{aiDescription:t,author:n,courseNameAndCode:i,description:o,documentDatePublished:a,documentInstitutionType:s,previewText:c,ratingNegative:u,ratingPositive:d,seoData:A,title:m}=e;(0,I.u)();let p=(0,y.H)(),{ab:_,config:{appName:h},meta:{currentLanguage:g}}=(0,l.K)(),w=d+u,C=(5*d+u)/w,b=t||o,f=n&&!n?.isAnonymous?p.userProfile(n):null,D=(0,v.d)(_,"testAppGenericBannerInMobileDocViewerV2",["Test 1","Test 2"]),E=t||c||o;return(0,r.jsxs)(r.Fragment,{children:[!!A&&(0,r.jsx)(x.bV,{additionalMetaTags:[D?{content:"",name:"apple-itunes-app"}:{}],canonical:A.canonical,description:t||A.description,nofollow:A.nofollow,noindex:A.noindex,openGraph:{description:(0,R.T4)(E,160),images:A.openGraph.images,siteName:h,title:m,url:A.openGraph.url},title:A.title??m}),C>0&&(0,r.jsx)(x.wc,{productName:m,...""!==b?{description:b.substring(0,500)}:void 0,aggregateRating:{ratingValue:C,reviewCount:w}}),!!A&&(0,r.jsx)(x.gk,{itemListElements:A?.breadcrumbsItemListElement??[]}),!!A&&(0,r.jsx)(B,{aboutName:i,authorName:n?.isAnonymous?null:`${n?.firstName} ${n?.lastName}`,authorProfileUrl:f,datePublished:a,description:t||A.description,educationalLevel:"UNIVERSITY"===s?"University":"High School",headline:m,image:A.images[0]?.url,inLanguage:g??S.A.defaultLocale,mainEntityOfPageId:A?.canonical})]})};var j=n(2901),T=n(78969),M=n(11065),N=n(7076),Q=n(29708),U=n(52229),P=n(55605);let O=()=>{let{session:{user:e}}=(0,l.K)(),t=(0,U.useSearchParams)();return!e?.institution&&[P.L.PAYMENT_SUCCESS,P.L.PAYMENT_FAILURE].some(e=>t?.has("floatingElement",e))};var F=n(30346),V=n(43106),L=n(33381),G=n(56686);let H=()=>(e=>{if(!e)return null;let t=parseInt(e,10);return isNaN(t)||t<=0?null:t})((0,T.getCookie)(G.AF.FIRST_DOCUMENT_IN_SESSION_ID));var z=n(95433),W=n(89522);let Y=(e,t)=>"OnlyRestoreCookie"===t?"OnlyRestoreCookie":e===t?"Same":(0,d.b0)(e)?"NextjsGuest":(0,d.b0)(t)?"LegacyGuest":"DifferentIds",J={a:"App",f:"Facebook",w:"Whatsapp",m:"Messenger",n:"Native Share",s:"URL",x:"Facebook",l:"URL",k:"Facebook",u:"URL",y:"Messenger",z:"Whatsapp",r:"Twitter",h:"Telegram",d:"TikTok",t:"Reddit",e:"Signal",g:"Discord"};var Z=n(6967);function K(){let e={method:null},t=(0,U.useSearchParams)(),n=t?.get("shared"),r=t?.get("sid"),{meta:{currentLanguage:i}}=(0,l.K)();if(!n||!r)return;let o=String(n),a=String(r);Number.parseInt(o,10)&&(e.method="URL"),J[o]&&(e.method=J[o]);let{formattedDateTime:s,userId:c}=(0,Z.C)(a,i);return e.sharerDateTime=s,e.sharerId=c,{"Share Date":e.sharerDateTime??"","Shared Document":e.method??"","Shared ID":e.sharerId??0}}let q=(0,d.Oo)(e=>e());var $=n(47079),X=n(45832),ee=n(98658),et=n(32003),en=n(36699),er=n(28775),ei=n(83748),eo=n(59834),ea=n(65059);n(3399);var es=n(83510),el=n(2407);let ec={canDownload:!1,canDownloadReason:null,canRate:!1,shouldShowAIChat:!1,shouldShowAIQuiz:!1};var eu=n(32988),ed=n.n(eu),eA=n(90888),em=n.n(eA);function ep(e){let{align:t="center",children:n}=e;return(0,r.jsx)("div",{className:ed()(em().floatingComponentsWrapper,em()[`align-${t}`]),children:n})}var e_=n(71640),eh=n.n(e_);function eg(e){let{children:t}=e;return(0,r.jsx)(ep,{children:(0,r.jsxs)("div",{className:eh().bottomFloatingComponent,children:[(0,r.jsx)("div",{className:eh().navBarSpacer}),(0,r.jsx)("div",{className:eh().bottomSpacer}),(0,r.jsx)("div",{className:eh().contentWrapper,children:t})]})})}var ew=n(71024),eC=n.n(ew),eb=n(42026),ef=n(73172),ex=n(85524),eR=n.n(ex);let ev=()=>(0,r.jsxs)("section",{className:eR().endOfDocumentIndicator,children:[(0,r.jsx)("hr",{"aria-hidden":"true",className:eR().line}),(0,r.jsx)(eb.Z,{as:"span",color:"medium-gray",size:"normal",children:(0,r.jsx)(ef.A,{id:"document_end_indicator"})}),(0,r.jsx)("hr",{"aria-hidden":"true",className:eR().line})]});var eD=n(75451),eE=n(3832),eB=n(66100),ey=n(47768),eI=n(37272),eS=n(35054),ek=n(23376),ej=n(43755),eT=n(33730),eM=n(10108),eN=n.n(eM);let eQ=function(e){let{onHide:t}=e;return(0,r.jsx)(eT.default,{modalHeader:(0,r.jsx)(ef.A,{id:"login_to_continue_rating"}),onHide:t,origin:ek.C.RatingDiscoveryModal,show:!0,size:"medium",subtitle:(0,r.jsxs)("div",{className:eN().subtitleContainer,children:[(0,r.jsx)(eb.Z,{color:"default",size:"normal",weight:"bold",children:(0,r.jsx)(ef.A,{id:"you_need_login_to_rate_document"})}),(0,r.jsxs)("div",{className:eN().description,children:[(0,r.jsx)(ej.I,{className:eN().checkIcon,icon:eS.QRE}),(0,r.jsx)(eb.Z,{color:"default",size:"small",weight:"normal",children:(0,r.jsx)(ef.A,{id:"rate_documents_to_get_recomendations"})})]})]}),variant:"register"})};var eU=n(12464),eP=n(90512),eO=n(28604);let eF={bookmark:"data:;base64,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",thumbsUp:"data:;base64,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"},eV=e=>{let{animationName:t,autoplay:n=!0,inputName:r,stateMachineName:o,value:a}=e,{RiveComponent:s,rive:l}=(0,eO.useRive)({autoplay:n,src:eF[t],stateMachines:o}),c=(0,eO.useStateMachineInput)(l,o,r,a);return(0,i.useEffect)(()=>{c&&(c.value=a)},[a,c]),{RiveComponent:s}},eL={BOTTOM_SECTION:"Bottom section",DOCUMENT_DOWNLOAD_AUTOMATIC:"Document Download Automatic",DOCUMENT_SAVE_AUTOMATIC:"Document Save Automatic",DOCUMENT_SHARE_AUTOMATIC:"Document Share Automatic",OVERLAY:"Overlay",TOP_BAR:"Top bar"},eG={NEGATIVE:-1,POSITIVE:1},eH={CONTROL:"Control",ONLY_LESS_THAN_80:"Only less than 80%",ONLY_ZERO:"Only 0"},ez={LOW_POSITIVE_RATING:.8},eW={COMPACT:"compact",STANDARD:"standard"},eY={[eW.COMPACT]:{buttonSize:"small",buttonVariant:"tertiary",showHelpText:!1},[eW.STANDARD]:{buttonSize:"medium",buttonVariant:"secondary",showHelpText:!0}},eJ={DISPLAY:"Display",HIDE_ALL:"Hide All",HIDE_NEGATIVE:"Hide Negative",HIDE_NEUTRAL:"Hide Neutral"};var eZ=n(17474),eK=n.n(eZ);let eq={height:20,width:24},e$=function(e){let{isButtonEnabled:t,onRateNegative:n,onRatePositive:i,ratings:o,readOnly:a,testHideRatingNumberVariant:s,userRating:l,variant:c=eW.COMPACT}=e,u=(0,I.u)(),d=l>0,A=l<0,m=eY[c],p=c===eW.COMPACT?eK().ratingButtonsCompact:eK().ratingButtonsStandard,{showNegative:_,showPositive:h}=function(e,t){switch(e){case eJ.HIDE_ALL:return{showNegative:!1,showPositive:!1};case eJ.HIDE_NEGATIVE:return{showNegative:!1,showPositive:!0};case eJ.HIDE_NEUTRAL:return{showNegative:!1,showPositive:t>0};case eJ.DISPLAY:default:return{showNegative:!0,showPositive:!0}}}(s,o.positive),{RiveComponent:g}=eV({animationName:"thumbsUp",inputName:"Rated",stateMachineName:"thumbsUpMachine",value:d});return(0,r.jsxs)("section",{className:p,children:[(0,r.jsx)(eP.$,{addon:(0,r.jsx)(g,{style:eq}),"aria-label":u.get("upvote"),color:d?"green":"gray",disabled:a||!t,onClick:()=>{i()},size:m.buttonSize,type:"button",variant:m.buttonVariant,children:h?o.positive:""}),(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{color:"red-70",icon:A?eU.lS9:eS.lS9,size:"1.5x"}),"aria-label":u.get("downvote"),color:A?"red":"gray",disabled:a||!t,onClick:n,size:m.buttonSize,type:"button",variant:m.buttonVariant,children:_?o.negative:""})]})};var eX=n(54781),e0=n(76185),e1=n(64507),e2=n(8982),e5=n(97761);let e3=e=>{let{setDescriptionId:t}=(0,e5.C)(),n=(0,e1.Bi)(e.id);return(0,e2.E)(()=>(t(n),()=>t(void 0)),[n,t]),(0,r.jsx)("div",{...e,id:n,children:e.children})};function e4(e){let{renderer:t}=e,{setIsOpen:n}=(0,e5.C)();return t({setIsOpen:n})}var e6=n(35048),e7=n(66322),e9=n(10385),e8=n.n(e9);let te=function(e){let{isButtonEnabled:t,onDismiss:n,onRate:i,ratings:o,readOnly:a,userRating:s,variant:l}=e,c=(0,I.u)();return(0,r.jsxs)(eX.A,{backgroundColor:"white",initialOpen:!0,placement:"bottom",role:"tooltip",showArrow:!0,triggerType:"click",children:[(0,r.jsxs)(e0.h,{className:e8().ratingTooltipContent,children:[(0,r.jsxs)("div",{className:e8().ratingTooltipDescriptionWrapper,children:[(0,r.jsx)(e3,{children:(0,r.jsx)(ef.A,{id:"document_helpful"})}),(0,r.jsx)(e4,{renderer:e=>{let{setIsOpen:t}=e;return(0,r.jsx)(e6.J,{ariaLabel:c.get("close"),color:"black",onClick:()=>{n(),t?.(!1)}})}})]}),(0,r.jsx)(e$,{isButtonEnabled:t,onRateNegative:()=>i(-1,eL.OVERLAY),onRatePositive:()=>i(1,eL.OVERLAY),ratings:o,readOnly:a,userRating:s,variant:l})]}),(0,r.jsx)(e7.W,{children:(0,r.jsx)("div",{})})]})};var tt=n(5212);let tn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i.useRef)(e);(0,e2.E)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{let e=setTimeout(()=>n.current(),t);return()=>clearTimeout(e)},[t])};var tr=n(1928),ti=n.n(tr);let to=function(e){let{document:t,handleHideRateDiscoveryModal:n,handleShowRateDiscoveryModal:o,isButtonEnabled:a,isShowingRateDiscoveryModal:s,onRateClick:l,ratingOrigin:c,ratingPopoverVariant:u,ratings:A,readOnly:m,testHideRatingNumberVariant:p,userRating:_,variant:h=eW.COMPACT,withTooltip:g=!1}=e,w=c===eL.BOTTOM_SECTION,{hideAskToRatePopUp:C,isShowingAskToRatePopUp:b}=function(e){let{shouldAskToRate:t}=e,n=(0,i.useRef)(void 0),{setFalse:r,setTrue:o,value:a}=(0,tt.C)(!1),s=(0,i.useCallback)(()=>{t&&o()},[o,t]),l=(0,i.useCallback)(()=>{a&&r()},[a,r]);return tn(s,1e4),(0,i.useEffect)(()=>(t&&a&&(n.current=setTimeout(l,4e4)),()=>{clearTimeout(n?.current)}),[t,a,l]),{hideAskToRatePopUp:r,isShowingAskToRatePopUp:a}}({shouldAskToRate:!t.userHasReachedRatingLimit&&0===_&&!t.isPreviewMode&&!t.isMine}),{negative:f,positive:x}=t.rating,R=x+f,{CONTROL:v,ONLY_LESS_THAN_80:D,ONLY_ZERO:E}=eH,B=!w&&g&&b&&(!u||u===v||u===E&&0===x||u===D&&(R>0?x/R:0)<ez.LOW_POSITIVE_RATING),y=(0,i.useCallback)(()=>{o()},[o]);(0,eB.M)(eI.Cj.DOCUMENT_RATE_LIMITED,y,(0,ey.oc)()?window.document:null,{singleHandler:!0});let I=function(e,t){let[n,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let i;return e&&!n?r(!0):!e&&n&&(i=setTimeout(()=>r(!1),t)),()=>clearTimeout(i)},[e,t,n]),n}(s,eD.q);return(0,r.jsxs)("section",{className:h===eW.STANDARD?ti().ratingSectionStandard:"",children:[h===eW.STANDARD&&(0,r.jsx)(eE.E,{color:"default",variant:"body-medium",children:(0,r.jsx)(ef.A,{id:"document_helpful"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(e$,{isButtonEnabled:a,onRateNegative:()=>l(eG.NEGATIVE),onRatePositive:()=>l(eG.POSITIVE),ratings:A,readOnly:m,testHideRatingNumberVariant:p,userRating:_,variant:h}),B&&(0,r.jsx)(te,{isButtonEnabled:a,onDismiss:C,onRate:l,ratings:A,readOnly:m,userRating:_,variant:eW.STANDARD})]}),I&&!(0,d.gD)(t.course)&&(0,r.jsx)(eQ,{onHide:n})]})};var ta=n(71755);let ts=(e,t)=>{let n=(0,y.H)(),r=(0,i.useMemo)(()=>{if(e)return n.course({id:e.id,institution:e.institution,name:e.name})},[e,n]);return(0,ta.A)(r,t)};var tl=n(23363),tc=n(68763),tu=n.n(tc);let td=function(e){let{addCourseCode:t=!0,className:n,course:i,linkVariant:o="blue",origin:a,withIcon:s=!1}=e,l=ts(i,a);return(0,r.jsxs)(tl.A,{className:n,href:l,variant:o,children:[s&&(0,r.jsx)(ej.I,{"aria-hidden":!0,className:tu().icon,icon:eU.ao0,size:"1x"}),(0,r.jsx)("span",{children:t?(0,u.Sm)(i):i.name})]})};var tA=n(87670),tm=n(34635);function tp(e){let{count:t,event:n,isLoadingFinished:r}=e,o=(0,i.useRef)(!1);(0,i.useEffect)(()=>{!o.current&&r&&(o.current=!0,(0,tm.w)(n,{count:t}))},[t,n,r])}var t_=n(75715);let th=e=>{let{className:t,testSelector:n}=e;return(0,r.jsxs)("svg",{className:t,fill:"none",height:"80",viewBox:"0 0 100 80",width:"100",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M46.985 70.284c-21.77.453-49.6-19.154-46.788-33.997C3.01 21.444 49.291-3.227 67.957.764c18.666 3.992 34.678 31.762 31.68 47.165-2.998 15.403-30.886 21.91-52.652 22.36",fill:"#E1FD77"}),(0,r.jsx)("path",{d:"M68.95 62.437c3.769-12.903-2.268-38.723-8.323-39.752-4.907-.834-14.06.807-33.292 6.138-15.24 4.225-19.555 4.95-23.167 8.52-3.415 3.374 7.887 34.198 13.035 40.796 4.964 6.348 49.774-8.95 51.747-15.702Z",fill:"#416467"}),(0,r.jsx)("path",{d:"M76.985 31.211c-1.835-3.4-14.13-.525-27.061 1.349-14.06 2.04-28.843 3.363-30.719 6.518-2.975 5.01.164 25.48.404 30.67.008.128.026.255.054.38v.309c-.034 4.08-.018 6.493-.798 7.253-1.644 1.586-4.86-5.08-4.86-5.08s2.751 7.253 5.26 7.824c2.507.572 34.714-4.956 46.397-7.844a.339.339 0 0 0 .12-.05c5.699-1.425 9.924-2.976 11.511-4.846 1.928-2.273 3.347-29.701-.308-36.483Z",fill:"#30CD04"}),(0,r.jsx)("path",{d:"M67.499 18.819c-1.404 3.68-1.604 3.27-1.665-.347a40.62 40.62 0 0 1 .288-3.526c.454-3.248 2.683-7.11 3.526-5.145.396 1.044.618 2.146.656 3.261 0 .875-.177 1.075-.907 2.151a21.002 21.002 0 0 0-1.892 3.606m4.887 2.182c-.997.945-1.195 1.133-1.521.805-.227-.34-.603-1.213.204-2.514a13.706 13.706 0 0 1 2.172-2.554c1.304-1.224 2.633-1.92 3.588-1.933.982-.048 1.587.587 2.089 1.265 1.054 1.36-.057 1.212-3.237 2.803a14.327 14.327 0 0 0-3.294 2.128Zm2.982 4.219c-2.594-.658-4.873-1.945-1.1-2.267a86.794 86.794 0 0 1 3.554-.302 7.916 7.916 0 0 1 4.016.712c1.052.483 2.041 1.1 2.15 1.487.109.387-.95.55-2.06.74-1.153.162-2.34.366-3.442.227a32.453 32.453 0 0 1-3.118-.582",fill:"#264402"}),(0,r.jsx)("path",{d:"M64.906 43.328c.082.524-7.095 2.765-16.114 4.173-9.019 1.407-16.466 1.448-16.554.922-.089-.525 7.234-1.414 16.252-2.819 9.02-1.405 16.335-2.8 16.416-2.276Zm1.656 7.682c.082.523-7.095 2.765-16.114 4.17-9.019 1.405-16.466 1.448-16.555.924-.088-.523 7.234-1.414 16.253-2.821 9.019-1.408 16.335-2.797 16.416-2.274Z",fill:"#E0FF6E"})]})};var tg=n(62866);let tw={blue:{buttonColor:"blue",buttonVariant:"primary",mainColor:"blue"},"blue-surface":{buttonColor:"gray",buttonVariant:"secondary",mainColor:"blue-surface"},gray:{buttonColor:"blue",buttonVariant:"primary",mainColor:"gray"},green:{buttonColor:"green",buttonVariant:"primary",mainColor:"green"},"green-surface":{buttonColor:"gray",buttonVariant:"secondary",mainColor:"green-surface"},pink:{buttonColor:"pink",buttonVariant:"primary",mainColor:"pink"},purple:{buttonColor:"gray",buttonVariant:"secondary",mainColor:"purple"},tangerine:{buttonColor:"gray",buttonVariant:"secondary",mainColor:"tangerine"},"tangerine-surface":{buttonColor:"gray",buttonVariant:"secondary",mainColor:"tangerine-surface"}};var tC=n(8858),tb=n.n(tC),tf=n(35374),tx=n.n(tf);let tR=(0,i.memo)(function(e){let{caption:t,children:n,color:i="gray",illustration:o,interactive:a,mobileIllustration:s=o,testSelector:l,type:c="horizontal"}=e,u=ed()(tb().illustrationBannerWrapper,tx()[tw[i]?.mainColor],tb()[c],{[tb().interactive]:a});return(0,r.jsxs)("div",{className:u,children:[t&&(0,r.jsx)("div",{className:tb().caption,children:t}),(0,r.jsx)("div",{className:ed()((0,t_.R)("on-mobile"),tb().illustration,tb()[`illustration-${c}`]),children:o}),(0,r.jsx)("div",{className:ed()((0,t_.R)("from-tablet"),tb().illustration,tb()[`illustration-${c}`]),children:s}),n]})}),tv=function(e){let{children:t,fullWidth:n=!0,illustrationBannerColor:i="gray",...o}=e,a=(e=>{let t=tw[e];return t&&{color:t.buttonColor,variant:t.buttonVariant}})(i);return(0,r.jsx)("div",{className:tb().buttonWrapper,children:(0,r.jsx)(eP.$,{fullWidth:n,...a,...o,children:t})})};var tD=n(63058),tE=n.n(tD);let tB=function(e){let{children:t,heading:n,inlineHeading:i=!1,inlineHeadingForMobile:o=!1,subheading:a}=e;return(0,r.jsxs)("div",{className:tb().headingWrapper,children:[(0,r.jsx)(eb.Z,{className:ed()(tE().heading,{[tE().inlineHeading]:i,[tE().inlineHeadingForMobile]:o}),children:n}),a&&(0,r.jsx)(eb.Z,{className:tE().subheading,children:a}),t]})};var ty=n(46452),tI=n(71425),tS=n(5247),tk=n(26327),tj=n(29484),tT=n.n(tj);let tM=e=>{let{children:t,icon:n,iconClassName:i,size:o="small",testSelector:a}=e;return(0,r.jsxs)(eb.Z,{className:tT().metaInfo,size:o,weight:"normal",children:[(0,r.jsx)(ej.I,{className:i,icon:n,size:"extra-small"===o?"0.75x":"1x"}),t]})};var tN=n(98239),tQ=n.n(tN);let tU=e=>{let{documentCount:t,size:n}=e;return(0,r.jsx)(tM,{icon:eS.bLf,size:n,children:(0,r.jsxs)("span",{className:tQ().content,children:[`${t>999?"999+":t}`,"\xa0",(0,r.jsx)(ef.A,{count:t,id:"documents_count",variables:{n:t}})]})})},tP=e=>{let{displayTooltip:t,documentCount:n,size:i="small",testSelector:o}=e;return(0,r.jsx)("div",{className:tQ().wrapper,children:t?(0,r.jsx)(tk.m,{placement:"bottom",tooltipText:(0,r.jsx)(ef.A,{id:"number_of_documents_in_course_tooltip",variables:{x:n}}),children:(0,r.jsx)(tU,{documentCount:n,size:i})}):(0,r.jsx)(tU,{documentCount:n,size:i})})};var tO=n(77925),tF=n.n(tO);let tV=function(e){let{documentCourse:t,documentInstitution:n,origin:i}=e,o=(0,y.H)(),a=(0,tg.b)(),s=o.institution(n),l=(0,ta.A)(s,i),{degree:c,documentCount:d,grade:A}=t,m=(0,I.u)();return(0,r.jsxs)(r.Fragment,{children:["HIGH_SCHOOL"===t.type?(0,r.jsxs)("div",{className:ed()(tF().additionalLinkWrapper,tF().highSchoolInfo),children:[c&&(0,r.jsx)(ty.A,{className:tF().link,color:"gray",degree:c,hasDuotoneIcon:!0,iconType:"degree",origin:i,size:"extra-small",children:(0,u.xy)(c.name,c.shortName)}),A&&(0,r.jsx)(ty.A,{className:tF().link,color:"gray",degree:c,grade:A,hasDuotoneIcon:!0,iconType:"grade",origin:i,size:"extra-small",children:(0,tS.w)(A.name,m.get("high_school_grade"))})]}):(0,r.jsx)("div",{className:tF().additionalLinkWrapper,children:(0,r.jsx)(tI.A,{className:tF().link,color:"gray",hasDuotoneIcon:!0,iconSize:"0.75x",id:n.id,name:n.name,onClick:()=>a.push(l),shouldNotBeCrawled:!0,testSelector:"document-viewer-course-institution",type:n.type,withIcon:!0})}),(0,r.jsx)("div",{className:tF().courseDocumentsTagWrapper,children:(0,r.jsx)(tP,{displayTooltip:!1,documentCount:d,size:"extra-small",testSelector:"course-banner-docs-count"})})]})};var tL=n(32244),tG=n.n(tL);let tH=function(e){let{documentCourse:t,documentInstitution:n,isEndOfDocument:i,isInsideList:o,origin:a}=e,s=(0,tg.b)(),l=ts(t,a),c=!!t.code&&(t?.name||"").trim().length<30;return(0,r.jsxs)(tR,{caption:(0,r.jsx)("span",{className:ed()({[(0,t_.R)("from-tablet")]:i}),children:(0,r.jsx)(eE.E,{as:"span",variant:"label-xsmall",children:(0,r.jsx)(ef.A,{id:i?"more_from":"discover_more_from"})})}),color:"green",illustration:(0,r.jsx)(th,{testSelector:"course-illustration"}),interactive:!0,testSelector:"course-illustration-banner",type:o?"inline-illustration-right":"vertical",children:[(0,r.jsx)(tB,{heading:(0,r.jsx)(td,{addCourseCode:!1,className:tG().courseLink,course:t,origin:a}),inlineHeading:c,subheading:t.code,children:(0,r.jsx)(tV,{documentCourse:t,documentInstitution:n,origin:a})}),(0,r.jsx)(tv,{color:i?"gray":"green",fullWidth:!0,onClick:()=>s.push(l),variant:i?"secondary":"primary",children:(0,r.jsx)(ef.A,{id:"go_to_course"})})]})};var tz=n(33242),tW=n(19458),tY=n(48599);let tJ=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;if(!t?.length)return null;try{let e=(await Promise.allSettled(t.map(e=>(0,tY.e)(e,n)))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if((0,d.Im)(e))return null;let o=e.map(e=>{let{data:t}=e;return t}),a=[];for(let e of t){let t=o.find(t=>t.id===e);if(!t||r&&t.course.regionCode!==i)continue;let n={additionalDetails:t.additionalDetails,categoryId:t.category.id,course:t.course,createdAt:t.createdAt,id:t.id,institution:t.institution,numberOfPages:t.numberOfPages,rating:{negative:t.rating.negative,positive:t.rating.positive},slug:t.slug,thumbnails:t.thumbnails||[],title:t.title};a.push(n)}return a}catch(t){return(0,eo.w)(Error("Failed to get suggestions documents"),et.n.LOW,{documentId:e,originalError:t}),null}},tZ=async(e,t,n)=>{if((0,d.Im)(e)||(0,d.Im)(t))return null;try{let r=await (0,tW.h)(String(e),n,{limit:7,sortBy:"rating"},{priority:"low"});if((0,d.Im)(r.data)||r.data?.length===0)return null;let i=r.data.map(e=>e.document.id).filter(e=>e!==t).slice(0,6);return tJ(t,i,n)}catch(n){return(0,eo.w)(Error("Failed to get course top rated documents"),et.n.LOW,{courseId:e,documentId:t,originalError:n}),null}};var tK=n(49527),tq=n.n(tK);let t$=function(e){let{bannerRef:t,document:n,origin:o="course-suggestion"}=e,{data:a,isEnabled:s,isError:l,isSuccess:c}=((e,t)=>{let n=(0,en.i)();return(0,tz.useQuery)({enabled:!!t&&!!e,queryFn:()=>tZ(t,e,n),queryKey:["documentCourseTopRatedDocuments",t,e],refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1})})(n.id,n.course?.id),u=(0,i.useCallback)(e=>n.course?(0,r.jsx)("div",{className:tq().bannerWrapper,children:(0,r.jsx)(tH,{documentCourse:n.course,documentInstitution:n.institution,isEndOfDocument:!1,isInsideList:e,origin:o})}):null,[n.course,n.institution,o]),d=(0,i.useCallback)(e=>n.course?(0,r.jsxs)("span",{className:tq().headerCourseLinkWrapper,children:[(0,r.jsx)(td,{addCourseCode:!1,className:ed()(e,tq().headerCourseLink),course:n.course,origin:o}),n.course.code&&(0,r.jsxs)(eb.Z,{color:"green",size:"small",textStyle:"no-wrap",children:["(",n.course.code,")"]})]}):null,[n.course,o]);return(tp({count:a?.length??0,event:eI.Cj.COURSE_DOCS_LOADED,isLoadingFinished:l||c||!s}),a?.length)?(0,r.jsx)(tA.default,{bannerRef:t,clickOrigin:o,documents:a,listItemsAmount:4,renderFirstElement:u,renderHeaderLink:d,testSelector:"course-suggestions-banner"}):null};var tX=n(28113),t0=n(97482),t1=n(7334),t2=n(23976);let t5=e=>(e??"").split("-")[0],t3=async(e,t)=>{let n=(e=>e.documents?Object.entries(e.documents).map(e=>{let[t,n]=e;return{docId:parseInt(t,10),timestamp:n}}).filter(e=>{let{docId:t}=e;return!isNaN(t)}).sort((e,t)=>t.timestamp-e.timestamp).map(e=>{let{docId:t}=e;return t}):[])(t).filter(t=>t!==e).slice(0,9);return[e,...n]},t4=async e=>{let{documentId:t,headers:n,institutionId:r,isCrawler:i,locale:o,recentMaterials:a}=e;try{let e=await t3(t,a),{data:s}=await (0,t2.d)(n,{documentIds:e.join(),language:t5(o),limit:7,...(0,d.hj)(r)&&{institutionId:r}},{priority:"low"});if((0,d.Im)(s))return null;return tJ(t,s.map(e=>e.document.id),n,i,o)}catch(e){return(0,eo.w)(Error("Failed to get recommended documents"),et.n.LOW,{documentId:t,originalError:e}),null}};var t6=n(82835);let t7=async(e,t)=>{try{let{data:e}=await (0,t6.K4)(t,{limit:11});return e||[]}catch(t){(0,eo.w)(Error("Failed to get recent documents"),et.n.LOW,{currentDocumentId:e,originalError:t})}return[]},t9=async e=>{let{currentDocumentId:t,headers:n,recentDocsFromCookie:r}=e,i=await t7(t,n);if((0,d.Im)(i)&&(0,d.Im)(r))return[t];let o=i&&i.map(e=>({docId:e.document.id,seenAt:Math.round(Date.parse(e.seenAt)/1e3)}))||[];for(let[e,t]of Object.entries(r??{})){let n=parseInt(e,10),r=o.findIndex(e=>e.docId===n);if(r>-1){t>o[r].seenAt&&(o[r].seenAt=t);continue}o.push({docId:n,seenAt:t})}let a=o.sort((e,t)=>t.seenAt-e.seenAt).map(e=>e.docId).filter(e=>e!==t);return[t,...a]},t8=async e=>{let{documentId:t,headers:n,institutionId:r,locale:i,recentDocsFromCookie:o}=e;try{let e=await t9({currentDocumentId:t,headers:n,recentDocsFromCookie:o}),{data:a}=await (0,t2.d)(n,{documentIds:e.join(),language:t5(i),limit:7,...(0,d.hj)(r)&&{institutionId:r}},{priority:"low"});if((0,d.Im)(a))return null;return tJ(t,a.map(e=>e.document.id),n)}catch(e){return(0,eo.w)(Error("Failed to get recommended documents"),et.n.LOW,{documentId:t,originalError:e}),null}};var ne=n(4215),nt=n.n(ne);let nn=(0,i.memo)(function(e){let{bannerRef:t,documentId:n,guestInstitutionId:o}=e,{isEnabled:a,isError:s,isLoading:c,isSuccess:u,recommendedDocuments:d}=((e,t)=>{let{config:n,meta:{locale:r},session:{recentMaterials:i,user:o}}=(0,l.K)(),a=(0,en.i)(),s=o?.institution?.id,{data:c,error:u,isEnabled:d,isError:A,isLoading:m,isSuccess:p}=(0,tz.useQuery)({queryFn:()=>o?t8({documentId:e,headers:a,institutionId:s,locale:r,recentDocsFromCookie:i.documents}):t4({documentId:e,headers:a,institutionId:t,isCrawler:n.isCrawler,locale:r,recentMaterials:i}),queryKey:["queryGetUserRecommendedDocuments",s,e],refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return{error:u,isEnabled:d,isError:A,isLoading:m,isSuccess:p,recommendedDocuments:c}})(n,o);tp({count:d?.length??0,event:eI.Cj.RECOMMENDED_DOCS_LOADED,isLoadingFinished:s||u||!a});let A=(0,i.useMemo)(()=>d??[],[d]),m=(0,i.useMemo)(()=>A.slice(0,4),[A]),p=(0,i.useMemo)(()=>A.slice(0,6),[A]);if(c||s||!d||0===d.length)return null;let _=!!(0,ey.oc)()&&window.matchMedia("(max-width: 767px)").matches;return(0,r.jsxs)(t0.A,{bannerRef:t,testSelector:"document-recommendations-section",variant:"bottom",children:[(0,r.jsx)("div",{className:nt().header,children:(0,r.jsx)(eE.E,{as:"h3",color:"subtle",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"recommended_for_you"})})}),_?(0,r.jsx)(t1.A,{direction:"horizontal",documents:m,origin:"viewer-recommendation",thumbnailPreferredSize:"medium",useCompressedImage:!0}):(0,r.jsx)(tX.A,{documents:p,origin:"viewer-recommendation",thumbnailPreferredSize:"large",useCompressedImage:!0,visibleThumbnailsAmount:6,whiteGradient:!0})]})});var nr=n(35661),ni=n(17737),no=n(56466),na=n.n(no);let ns=e=>{let{document:t,isCrawler:n,onClick:i}=e,o=(0,y.H)();return(0,r.jsx)("li",{children:(0,r.jsxs)(ni.A,{asSimpleLink:!0,className:na().link,href:(0,nr.cA)(o.document(t),"related-document",n),onTrack:i,testSelector:`related-documents-link-${t.id}`,children:[(0,r.jsx)(ej.I,{className:na().icon,color:"blue-70",icon:eS.bLf,size:"1.25x"}),(0,r.jsx)(eb.Z,{className:na().title,color:"primary",size:"small",weight:"medium",children:t.title})]})})};var nl=n(76199),nc=n.n(nl);function nu(e){let{dataTestSelector:t,isTestShowPremiumLabelEverywhereToEveryone:n,relatedDocuments:i=[],tier:o}=e,{config:{isCrawler:a}}=(0,l.K)();return(0,r.jsxs)("div",{className:nc().relatedDocumentsWrapper,children:[(0,r.jsx)(eb.Z,{color:"black",component:"h3",weight:"medium",children:(0,r.jsx)(ef.A,{id:`related_documents_tier_${o}`})}),(0,r.jsx)("ul",{className:nc().list,children:i.map(e=>(0,r.jsx)(ns,{document:e,isCrawler:a,isTestShowPremiumLabelEverywhereToEveryone:n},e.id))})]})}let nd=function(e){let{relatedDocuments:t,tier:n}=e;return(0,r.jsx)(t0.A,{testSelector:`related-documents-banner-tier${n}`,variant:"bottom",children:(0,r.jsx)(nu,{dataTestSelector:`tier${n}-end-of-doc-related-documents`,relatedDocuments:t,tier:n})})};var nA=n(14309),nm=n(84965),np=n(6314),n_=n(41316),nh=n(21934),ng=n(70133),nw=n(20113),nC=n.n(nw);function nb(e){let{document:t,userReportedDocument:n,variant:o="bottom"}=e,a=(0,I.u)(),s=(0,ng.d)(n??!1),l="top"===o,c=(e=>{let t=(0,_.jt)(),n=(0,n_.A)();return(0,i.useCallback)(async()=>{let r=await n({documentId:e.id}),i=(0,nh.o)(e,r);t(np.y.TRACK_REPORT_CLICKED,i)},[e,n,t])})(t);return(0,r.jsx)("div",{className:ed()(l&&nC().topReportButton),children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:eU.s6x,size:"1x"}),color:"gray",disabled:s,onClick:()=>{(0,nm.fj)({additionalData:{title:a.get("report_document")},modalType:nA.j.REPORT}),c()},size:"medium",testSelector:"document-report-button",variant:l?"plain":"tertiary",children:(0,r.jsx)(ef.A,{id:"report_document"})})})}var nf=n(63697),nx=n(582),nR=n(6049);let nv=e=>{let{className:t,testSelector:n}=e;return(0,r.jsxs)("svg",{className:t,fill:"none",viewBox:"0 0 86 88",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M13.518 71.35c-5.386-14.531-.795-44.8 5.984-46.521 5.486-1.392 15.99-.308 38.239 4.143 17.625 3.525 22.577 3.98 26.977 7.773 4.16 3.588-5.972 40.086-11.226 48.126-5.081 7.763-57.152-5.906-59.974-13.521Z",fill:"#2A0316"}),(0,r.jsx)("path",{d:"M59.424 48.305c.551.52-4.363.382-10.864-.388-1.506-.177-3.01-.356-4.511-.537-6.493-.79-12.465-1.89-13.33-2.38-.863-.49 3.913-.19 10.675.57 1.554.175 3.11.345 4.667.51 6.772.735 12.814 1.687 13.363 2.211M58.914 52.61c.551.521-4.363.383-10.864-.385-1.506-.177-3.01-.356-4.511-.537-6.493-.79-12.465-1.893-13.33-2.38-.863-.489 3.913-.19 10.674.57 1.555.178 3.111.35 4.668.52 6.772.735 12.814 1.686 13.363 2.21M58.343 57.434c.55.51-4.364.383-10.865-.387a1494.92 1494.92 0 0 1-4.51-.537c-6.494-.79-12.466-1.891-13.33-2.38-.864-.49 3.912-.19 10.674.57 1.555.177 3.11.35 4.667.52 6.772.735 12.814 1.687 13.364 2.21",fill:"#F36A1C"}),(0,r.jsx)("path",{d:"m55.966 69.821-26.617-3.25c-5.147-.628-13.414.034-12.033-8.285L27.1 9.966C27.503 1.878 33.222-.37 38.37.26l25.478 3.15C74.524 4.79 74.082 9.921 73.46 15.14l-9.355 47.672c-1.057 6.58-2.99 7.635-8.14 7.01Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M64.124 15.703c.574.607-4.652.573-11.55-.179A901.955 901.955 0 0 1 47.79 15c-6.889-.774-13.216-1.935-14.118-2.49-.901-.557 4.168-.332 11.343.402 1.65.17 3.3.336 4.953.498 7.187.702 13.59 1.683 14.162 2.294M63.019 22.82c.573.607-4.653.572-11.55-.179-1.596-.171-3.19-.346-4.785-.524-6.89-.775-13.215-1.936-14.118-2.492-.904-.556 4.165-.33 11.34.403 1.65.17 3.301.336 4.953.498 7.187.702 13.591 1.683 14.163 2.294M61.18 30.773c.573.607-4.65.573-11.55-.179-1.596-.17-3.19-.345-4.785-.523-6.889-.776-13.215-1.937-14.118-2.493-.904-.556 4.165-.33 11.342.403 1.649.17 3.3.336 4.952.498 7.186.704 13.59 1.684 14.162 2.294M71.57 84.509c-.95-.8-1.142-3.57-1.531-8.278 0-.107-.017-.226-.028-.355.023-.147.032-.296.028-.444-.17-6.002 1.604-29.856-2.198-35.363-2.397-3.47-19.25-3.698-35.357-4.806-14.809-1.02-28.985-3.252-30.768.828-3.551 8.133.432 39.601 2.814 42.046 1.96 2.013 6.88 3.427 13.456 4.566a.34.34 0 0 0 .14.048c13.485 2.298 50.443 5.826 53.241 4.954 2.798-.872 5.273-9.473 5.273-9.473s-3.065 7.962-5.07 6.277Z",fill:"#F36A1C"}),(0,r.jsx)("path",{d:"m58.072 60.096-4.743-4.059a1.148 1.148 0 0 0-.6-.273 1.12 1.12 0 0 0-.645.107l-5.238 2.55c-.2.093-.42.128-.638.1a1.182 1.182 0 0 1-.599-.26 1.28 1.28 0 0 1-.387-.545 1.342 1.342 0 0 1-.067-.678s1.407-20.872 2.416-20.872c2.092 0 4.724.184 7.05.333 4.274.274 8 1.228 8 1.228L60.026 59.22c-.022.227-.1.445-.229.63a1.223 1.223 0 0 1-.5.417c-.2.09-.42.121-.635.091-.215-.03-.42-.12-.59-.262Z",fill:"#E0FF6E"})]})};var nD=n(86698),nE=n.n(nD);let nB=function(e){let{isInsideList:t,profileLink:n,studylist:i,studylistLink:o}=e,a=(0,tg.b)();return(0,r.jsxs)(tR,{caption:(0,r.jsx)(nR.N,{fromTablet:!0,children:(0,r.jsx)(eb.Z,{weight:"bold",children:(0,r.jsx)(ef.A,{id:"more_from"})})}),color:"tangerine-surface",illustration:(0,r.jsx)(nv,{className:nE().illustration}),interactive:!0,type:t?"inline-illustration-right":"vertical",children:[(0,r.jsx)(tB,{heading:(0,r.jsx)(tl.A,{className:nE().studylistLink,href:o,testSelector:"studylist-suggestion-banner-name",children:i.name}),children:(0,r.jsxs)("div",{className:nE().additionalInfo,children:[(0,r.jsxs)(eb.Z,{className:nE().by,children:[(0,r.jsx)(ef.A,{id:"by"})," ",(0,r.jsx)(tl.A,{className:nE().userLink,href:n,variant:"blue",children:(0,nx.gQ)(i?.user?.firstName,i?.user?.lastName)})]}),(0,r.jsx)("div",{className:nE().meta,children:(0,r.jsxs)(tM,{icon:eS.bLf,size:"small",testSelector:"studylist-suggestion-banner-documents-count",children:[i.documentsCount," ",(0,r.jsx)(ef.A,{count:i.documentsCount,id:"documents_count",variables:{n:i.documentsCount}})]})})]})}),(0,r.jsx)(tv,{color:"gray",fullWidth:!0,onClick:()=>a.push(o),variant:"secondary",children:(0,r.jsx)(ef.A,{id:"go_to_studylist"})})]})};var ny=n(26677),nI=n.n(ny);let nS=function(e){let{bannerRef:t,origin:n="studylist-suggestion",studylist:i,studylistDocuments:o}=e,a=(0,y.H)(),s=(0,nf.U)(i,n),l=(0,ta.A)((0,d.hj)(i.user)?a.userProfile(i.user):"",n);return(0,r.jsx)(tA.default,{bannerRef:t,clickOrigin:n,documents:o,renderFirstElement:e=>(0,r.jsx)("div",{className:nI().bannerWrapper,children:(0,r.jsx)(nB,{isInsideList:e,profileLink:l,studylist:i,studylistLink:s})}),renderHeaderLink:e=>(0,r.jsxs)("span",{className:nI().headerWrapper,children:[(0,r.jsx)(tl.A,{className:ed()(e,nI().studylistLink),href:s,children:i.name}),(0,r.jsx)(ef.A,{id:"by"})," ",(0,d.hj)(i.user)&&(0,r.jsx)(tl.A,{className:nI().userLink,href:l,children:(0,nx.gQ)(i.user.firstName,i.user.lastName)})]}),testSelector:"studylist-suggestions-banner"})};var nk=n(86456),nj=n(3428),nT=n(85865);let nM=async(e,t)=>{if((0,d.Im)(e))return null;try{let n=await (0,nk.p)(e,t,{limit:3});if((0,d.Im)(n?.data)||n?.data.length===0)return null;let r=n.data.map(e=>{let{studylist:t}=e;return t.id}).join(),i=await (0,nj.getStudylists)({ids:r,limit:3},t);if((0,d.Im)(i?.data)||i?.data.length===0)return null;let o=await (0,nT.w)(i.data[0].user.id,t);return i.data.map((e,t)=>{let{documents:n,id:r,name:i}=e;return{documentsCount:n.count,id:r,name:i,...0===t&&(0,d.hj)(o?.data)&&{user:{firstName:o.data.firstName,id:o.data.id,lastName:o.data.lastName}}}})}catch(t){return(0,eo.w)(Error("Failed to get studylists related to document from ids"),et.n.LOW,{documentId:e,originalError:t}),null}};var nN=n(3982);let nQ=async(e,t,n)=>{if((0,d.Im)(e))return null;try{let r=await (0,nN.getStudylistsDocuments)(String(e),n,{limit:6,sortBy:"rating"});if((0,d.Im)(r?.data)||r?.data?.length===0)return null;let i=r.data.map(e=>{let{document:t}=e;return t.id});return tJ(t,i,n)}catch(t){return(0,eo.w)(Error("Failed to get studylist documents"),et.n.LOW,{originalError:t,studylistId:e}),null}},nU=function(e){let{bannerRef:t,documentId:n}=e,{data:i,isEnabled:o,isError:a,isLoading:s,isSuccess:l}=function(e){let t=(0,en.i)();return(0,tz.useQuery)({enabled:!(0,d.gD)(e),queryFn:async()=>{let n=await nM(e,t);if(n?.[0]?.id){let r=await nQ(n[0].id,e,t);return{studylist:n[0],studylistDocuments:r}}return null},queryKey:["studylistData",e],refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1})}(n);if(tp({count:i?.studylistDocuments?.length??0,event:eI.Cj.STUDYLIST_DOCS_LOADED,isLoadingFinished:a||l||!o}),s||a||!i)return null;let{studylist:c,studylistDocuments:u}=i;return u&&u.length>=2&&!(0,d.Im)(c)?(0,r.jsx)(nS,{bannerRef:t,studylist:c,studylistDocuments:u}):null},nP=e=>!(0,d.Im)(e)&&"isAnonymous"in e&&!e.isAnonymous,nO=e=>!(0,d.Im)(e)&&"isAnonymous"in e&&e.isAnonymous;var nF=n(4315),nV=n(63002),nL=n.n(nV);let nG=function(e){let{color:t="gray",customGradeFormatFn:n,degree:i,degreeTextComponent:o="span",fontSize:a="normal",fontWeight:s="medium",grade:l,iconColor:c,iconSize:u="small",isWithIcon:d=!0,origin:A}=e,m=(0,y.H)(),p=(0,ta.A)(m.degree(i??""),A),_=(0,ta.A)(m.degree(i??"",l?l.id:void 0),A);return l||i?(0,r.jsxs)(eb.Z,{className:ed()({[nL().withIcon]:d}),size:a,children:[d&&(0,r.jsx)(nF.p,{color:c,size:u}),(0,r.jsxs)("span",{children:[i&&(0,r.jsx)(eb.Z,{className:nL().text,component:o,size:a,weight:s,children:(0,r.jsx)(tl.A,{href:p,variant:t,children:(0,r.jsx)("span",{children:i.shortName||i.name})})}),i&&l&&(0,r.jsx)("span",{children:" â€¢ "}),l&&(0,r.jsx)(eb.Z,{className:nL().text,size:a,weight:s,children:(0,r.jsx)(tl.A,{href:_,variant:t,children:(0,r.jsx)("span",{children:n?n(l):l.name})})})]})]}):null};var nH=n(53547),nz=n(97844),nW=n.n(nz);let nY=function(e){let{className:t,impact:n}=e;return(0,d.b0)(n)?null:(0,r.jsxs)("div",{className:ed()(nW().impactWrapper,t),children:[(0,r.jsx)(nR.N,{onMobile:!0,children:(0,r.jsx)(eb.Z,{size:"extra-small",textStyle:"capitalize",children:(0,r.jsx)(ef.A,{id:"impact"})})}),(0,r.jsx)(ej.I,{color:"pink-70",icon:nH.qcK,size:"1.25x"}),(0,r.jsx)(eb.Z,{color:"black",size:"normal",weight:"bold",children:n>999?"999+":n})]})},nJ="uploader-suggestion";var nZ=n(10937),nK=n.n(nZ);let nq=function(e){let{degree:t,grade:n,impact:i,institution:o}=e,a=(0,y.H)(),s=(0,tg.b)(),l=o?a.institution(o):"",c=(0,ta.A)(l,nJ),u=(0,I.u)();return(0,r.jsxs)("div",{className:nK().additionalInfoWrapper,children:[(0,r.jsx)("div",{className:(0,t_.R)("on-mobile"),children:(0,r.jsx)(nY,{impact:i})}),o&&(0,r.jsx)(tI.A,{className:nK().institutionLink,color:"gray",hasDuotoneIcon:!0,iconClassName:nK().institutionIcon,iconSize:"1x",id:o.id,name:o.name,onClick:()=>s.push(c),shouldNotBeCrawled:!0,testSelector:"document-viewer-uploader-institution",type:o.type,withIcon:!0}),(t||n)&&(0,r.jsx)(nG,{color:"gray",customGradeFormatFn:e=>(0,tS.w)(e.name,u.get("high_school_grade")),degree:t??void 0,fontSize:"extra-small",fontWeight:"normal",grade:n??void 0,iconSize:"extra-small",isWithIcon:!0,origin:"uploader-suggestions-banner"})]})};var n$=n(91399);let nX=function(e){let{navigateToUserProfile:t,size:n,user:i}=e;return i.id?(0,r.jsx)(n$.A,{firstName:i.firstName,isPremium:i.isPremium,lastName:i.lastName??void 0,onClick:t,pictureUrl:i.pictureUrl,size:n,userId:i.id}):null};var n0=n(61928),n1=n.n(n0);let n2=function(e){let{isInsideList:t,user:n,userProfileLink:i}=e,o=(0,tg.b)(),{degree:a,downloadImpactScore:s,grade:l,institution:c}=n,u=()=>o.push(i);return(0,r.jsxs)(tR,{caption:(0,r.jsx)(eb.Z,{className:(0,t_.R)("from-tablet"),weight:"bold",children:(0,r.jsx)(ef.A,{id:"more_from"})}),color:"blue-surface",illustration:(0,r.jsx)(nX,{navigateToUserProfile:u,size:"large",user:n}),interactive:!0,mobileIllustration:(0,r.jsx)(nX,{navigateToUserProfile:u,size:"medium",user:n}),type:t?"inline-illustration-left":"vertical",children:[(0,r.jsx)(tB,{heading:(0,r.jsx)(tl.A,{className:n1().userLink,onClick:u,testSelector:"uploader-suggestions-user-name-link",variant:"blue",children:(0,r.jsx)(eb.Z,{weight:"bold",children:(0,nx.gQ)(n.firstName,n.lastName||void 0)})}),inlineHeadingForMobile:!0,subheading:(0,r.jsx)(nY,{className:(0,t_.R)("from-tablet"),impact:s}),children:(0,r.jsx)(nq,{degree:a,grade:l,impact:s,institution:c})}),(0,r.jsx)(tv,{color:"gray",onClick:u,variant:"secondary",children:(0,r.jsx)(ef.A,{id:"discover_more"})})]})},n5=eC()(()=>Promise.resolve().then(n.bind(n,87670)),{loadableGenerated:{webpack:()=>[87670]}}),n3=function(e){let{bannerRef:t,documents:n,user:i}=e,o=(0,y.H)(),a=(0,tg.b)(),s=nP(i)?o.userProfile(i):"",l=(0,ta.A)(s,nJ),c=()=>a.push(l);return(0,r.jsx)(n5,{bannerRef:t,clickOrigin:nJ,documents:n,listItemsAmount:4,renderFirstElement:e=>(0,r.jsx)(n2,{isInsideList:e,user:i,userProfileLink:l}),renderHeaderLink:e=>(0,r.jsx)(tl.A,{className:e,onClick:c,testSelector:"uploader-suggestions-banner-header-link",variant:"blue",children:(0,nx.gQ)(i.firstName,i.lastName||void 0)}),testSelector:"uploader-suggestions-banner"})};var n4=n(23968);let n6=async(e,t)=>{if((0,d.Im)(e))return null;try{let n=await (0,t6.vA)(e,t);return{country:{id:n.data.country.id},id:n.data.id,name:n.data.name,region:{code:n.data.region.code},shortName:n.data.shortName,stage:n.data.stage}}catch(t){return(0,ei.Vt)((0,ei.AC)(t,`Error getting degree ${e}`)),console.error(t),null}};var n7=n(41246);let n9=async(e,t,n)=>{if((0,d.Im)(e))return null;try{let r=await (0,t6.Ch)(e,t);if(!r.data)return null;if(n){let{data:e}=await (0,n7.v)(r.data.degree.id,t);if(!e)return{degree:{id:r.data.degree.id},id:r.data.id,name:r.data.name};return{degree:{id:e.id,name:e.name,shortName:e.shortName,stage:e.stage},id:r.data.id,name:r.data.name}}return{degree:{id:r.data.degree.id},id:r.data.id,name:r.data.name}}catch(t){return(0,ei.Vt)((0,ei.AC)(t,`Error getting grade ${e}`)),console.error(t),null}};var n8=n(72901);let re=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if((0,d.Im)(e))return null;let{allowPending:i=!1,shouldFetchCountry:o=!1,shouldFetchRegion:a=!1}=r;try{return t?await rn(String(e),n,{allowPending:i,shouldFetchCountry:o,shouldFetchRegion:a}):await rt(Number(e),n,{allowPending:i,shouldFetchCountry:o,shouldFetchRegion:a})}catch(t){return(0,ei.Vt)(Error("Error getting user with institution.",{cause:t}),{userId:e}),console.error(t),null}},rt=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=await (0,t6.wz)(e,t),{allowPending:i=!1,shouldFetchCountry:o=!1,shouldFetchRegion:a=!1}=n,s=await (0,n8.h)(r.data.institution,t,{allowPending:i,shouldFetchCountry:o,shouldFetchRegion:a});return{degree:null===r.data.degree?null:{id:r.data.degree?.id},firstName:r.data.firstName,grade:null===r.data.grade?null:{id:r.data.grade.id},id:r.data.id,institution:s,isAnonymous:!1,isPremium:r.data.isPremium,lastName:r.data.lastName,pictureUrl:r.data.pictureUrl,studyYear:r.data.studyYear}},rn=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=await (0,t6.Fx)(e,t),{allowPending:i=!1,shouldFetchCountry:o=!1,shouldFetchRegion:a=!1}=n;return{institution:await (0,n8.h)(r.data.institution,t,{allowPending:i,shouldFetchCountry:o,shouldFetchRegion:a}),isAnonymous:!0}},rr=async(e,t,n)=>{if((0,d.Im)(e))return null;try{let r=await re(e,t,n,{shouldFetchCountry:!0,shouldFetchRegion:!0});if((0,d.Im)(r))return null;if(nO(r))return{...r,degree:null,grade:null};let i=r.degree?.id,o=r.grade?.id,[a,s]=await Promise.all([n6(i,n),n9(o,n)]);return{...r,degree:a,grade:s}}catch(t){return(0,ei.Vt)(Error("Error getting complete user.",{cause:t}),{userId:e}),console.error(t),null}};n4.Ikc({downloadImpactScore:n4.aig(),followersCount:n4.aig(),followingBooksCount:n4.aig(),followingCoursesCount:n4.aig(),followingStudylistsCount:n4.aig(),followingUsersCount:n4.aig(),uploadsCount:n4.aig(),upvoteCount:n4.aig()});let ri=async(e,t,n,r)=>{if((0,d.gD)(e))return null;try{if(n)return rr(e,n,r);let[t,i]=await Promise.all([rr(e,n,r),(0,t6.VM)(Number(e),r)]);if(!nP(t))return t;return{...t,downloadImpactScore:i.data.downloadImpactScore,followersCount:i.data.followers.count,followingBooksCount:i.data.followingBooks.count,followingCoursesCount:i.data.followingCourses.count,followingStudylistsCount:i.data.followingStudylists.count,followingUsersCount:i.data.followingUsers.count,uploadsCount:i.data.uploads.count,upvoteCount:i.data.upvoteCount}}catch(n){return(0,eo.w)(Error("Failed to get document author profile"),et.n.LOW,{documentId:t,originalError:n,userId:e}),null}};var ro=n(53796);let ra=async(e,t,n,r)=>{if(!e||n)return null;try{let n=await (0,ro.R)(Number(e),r,{limit:7,sortBy:"rating"});if((0,d.Im)(n.data)||n.data?.length===0)return null;let i=n.data.map(e=>e.document.id).filter(e=>e!==t).slice(0,6);return tJ(t,i,r)}catch(n){return(0,eo.w)(Error("Failed to get uploader top rated  documents"),et.n.LOW,{documentId:t,originalError:n,userId:e}),null}},rs=function(e){let{bannerRef:t,document:n,user:i}=e,{data:o,isEnabled:a,isError:s,isLoading:l,isSuccess:c}=function(e,t){let n=(0,en.i)(),r=(0,d.gD)(e)||nO(e)?"anonymous":e.id,i=!(0,d.gD)(e)&&!(0,d.gD)(t)&&!e.isAnonymous;return(0,tz.useQuery)({enabled:i,queryFn:async()=>{if(!i)return{completeUser:null,documents:[]};let[r,o]=await Promise.all([ri(e.id,t,e.isAnonymous,n),ra(e.id,t,e.isAnonymous,n)]);return{completeUser:r,documents:o}},queryKey:["uploaderData",r,t],refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1})}(i,n.id);if(tp({count:o?.documents?.length??0,event:eI.Cj.UPLOADER_DOCS_LOADED,isLoadingFinished:s||c||!a}),nO(i)||(0,d.gD)(i?.id)||(0,d.gD)(n?.id)||l||s)return null;let{completeUser:u,documents:A}=o||{};return!(0,d.Im)(A)&&A.length>=2&&u&&nP(u)?(0,r.jsx)(n3,{bannerRef:t,documents:A,user:u}):null};var rl=n(90468),rc=n.n(rl);let ru=eC()(()=>Promise.all([n.e(4960),n.e(9642)]).then(n.bind(n,79642)),{loadableGenerated:{webpack:()=>[79642]}}),rd=e=>{let{areRatingButtonsDisabled:t,bottomSectionWrapperRef:n,courseBannerRef:i,document:o,guestInstitutionId:a,handleHideRateDiscoveryModal:s,handleRating:c,handleShowRateDiscoveryModal:u,isButtonEnabled:d,isShowingRateDiscoveryModal:A,previewTextData:m,ratings:p,recommendationsBannerRef:_,relatedDocuments:h,studylistBannerRef:g,uploaderBannerRef:w,userRating:C,userReportedDocument:b}=e,{ab:f}=(0,l.K)(),x=(0,v._)(f,"testHideRatingNumber");return(0,r.jsxs)("section",{className:rc().bottomSectionWrapper,ref:n,children:[(0,r.jsx)(ev,{}),(0,r.jsx)(to,{document:o,handleHideRateDiscoveryModal:s,handleShowRateDiscoveryModal:u,isButtonEnabled:d,isShowingRateDiscoveryModal:A,onRateClick:e=>c(e,eL.BOTTOM_SECTION),ratingOrigin:eL.BOTTOM_SECTION,ratings:p,readOnly:t,testHideRatingNumberVariant:x,userRating:C,variant:"standard"}),(0,r.jsx)(t$,{bannerRef:i,document:o}),(0,r.jsx)(nU,{bannerRef:g,documentId:o.id}),(0,r.jsx)(rs,{bannerRef:w,document:o,user:o.user}),(0,r.jsx)(nn,{bannerRef:_,documentId:o.id,guestInstitutionId:a}),(0,r.jsx)("section",{children:(0,r.jsx)(nb,{document:o,userReportedDocument:b})}),h&&!!h?.tier1?.length&&(0,r.jsx)(nd,{relatedDocuments:h.tier1,tier:1}),h&&!!h?.tier2?.length&&(0,r.jsx)(nd,{relatedDocuments:h.tier2,tier:2}),m&&(0,r.jsx)(ru,{previewTextData:m,testSelector:"document-preview-text-bottom"})]})};var rA=n(79977),rm=n.n(rA);function rp(e){let{courseDocs:t,highlightedItem:n,recommendedDocs:i,studylistDocs:o,uploaderDocs:a}=e;return(0,r.jsxs)("section",{className:rm().indicator,children:[(0,r.jsx)("div",{className:ed()(rm().item,rm().longItem,"Document"===n&&rm().highlightedItem)}),(0,r.jsx)("div",{className:ed()(rm().item,rm().longItem)}),t.count>0&&(0,r.jsx)("div",{className:ed()(rm().item,rm().shortItem,"Course"===n&&rm().highlightedItem)}),o.count>0&&(0,r.jsx)("div",{className:ed()(rm().item,rm().shortItem,"Studylist"===n&&rm().highlightedItem)}),a.count>0&&(0,r.jsx)("div",{className:ed()(rm().item,rm().shortItem,"Uploader"===n&&rm().highlightedItem)}),i.count>0&&(0,r.jsx)("div",{className:ed()(rm().item,rm().shortItem,"ForYou"===n&&rm().highlightedItem)})]})}var r_=n(10849),rh=n(87829),rg=n.n(rh);function rw(e){let{bannerRef:t,highlightedItem:n,itemType:o,laneData:a,trackNavigationItemClicked:s,translationKey:l}=e,c=(0,i.useCallback)(()=>{s(o),t?.current&&t.current.scrollIntoView({behavior:"instant",block:"center"})},[t,o,s]);return 0===a.count?null:(0,r.jsx)("button",{className:ed()(rg().menuItem,rg().subitem,n===o&&rg().highlightedItem),onClick:c,role:"menuitem",children:(0,r.jsx)(eE.E,{color:n===o?"blue":"default",truncate:!0,variant:"label-small",children:(0,r.jsx)(ef.A,{id:l})})})}function rC(e){let{courseBannerRef:t,documentId:n,highlightedItem:o,lanesData:a,pagesCount:s,recommendationsBannerRef:l,studylistBannerRef:c,uploaderBannerRef:u}=e,{currentPage:d}=(0,r_.a)(),A=(0,_.jt)(),m=(0,i.useCallback)(e=>{A(W.q.NAVIGATION_MENU_ITEM_CLICKED,{"Current Document Page":d,"Document ID":n,"Item Type":e})},[d,n,A]),p=(0,i.useCallback)(()=>{m("Document"),window.scrollTo({behavior:"instant",top:0})},[m]),h=(0,i.useCallback)(()=>{m("Recommendations");let e=t.current||c.current||u.current||l.current;e&&e.scrollIntoView({behavior:"instant",block:"center"})},[t,l,c,m,u]),g=a.courseDocs.count+a.recommendedDocs.count+a.studylistDocs.count+a.uploaderDocs.count;return(0,r.jsx)("div",{children:(0,r.jsxs)("section",{className:rg().menu,role:"menu",children:[(0,r.jsx)("button",{className:ed()(rg().menuItem,"Document"===o&&rg().highlightedItem),onClick:p,role:"menuitem",children:(0,r.jsxs)("div",{className:rg().menuItemWrapper,children:[(0,r.jsx)(eE.E,{color:"Document"===o?"blue":"default",truncate:!0,variant:"label-small",children:(0,r.jsx)(ef.A,{id:"document"})}),(0,r.jsx)(eE.E,{color:"subtle",truncate:!0,variant:"body-xsmall",children:(0,r.jsx)(ef.A,{count:s,id:"n_pages",variables:{n:s}})})]})}),(0,r.jsx)("button",{className:rg().menuItem,onClick:h,role:"menuitem",children:(0,r.jsxs)("div",{className:rg().menuItemWrapper,children:[(0,r.jsx)(eE.E,{color:"Recommendations"===o?"blue":"default",truncate:!0,variant:"label-small",children:(0,r.jsx)(ef.A,{id:"recommendations"})}),(0,r.jsx)(eE.E,{color:"subtle",truncate:!0,variant:"body-xsmall",children:(0,r.jsx)(ef.A,{count:g,id:"n_documents",variables:{n:g}})})]})}),(0,r.jsx)(rw,{bannerRef:t,highlightedItem:o,itemType:"Course",laneData:a.courseDocs,trackNavigationItemClicked:m,translationKey:"from_this_course"}),(0,r.jsx)(rw,{bannerRef:c,highlightedItem:o,itemType:"Studylist",laneData:a.studylistDocs,trackNavigationItemClicked:m,translationKey:"from_this_studylist"}),(0,r.jsx)(rw,{bannerRef:u,highlightedItem:o,itemType:"Uploader",laneData:a.uploaderDocs,trackNavigationItemClicked:m,translationKey:"from_this_uploader"}),(0,r.jsx)(rw,{bannerRef:l,highlightedItem:o,itemType:"ForYou",laneData:a.recommendedDocs,trackNavigationItemClicked:m,translationKey:"recommendations_for_you"})]})})}var rb=n(98900),rf=n(14488),rx=n.n(rf);let rR=(0,d.Oo)(e=>e());function rv(e){let{courseBannerRef:t,documentId:n,pagesCount:o,recommendationsBannerRef:a,studylistBannerRef:s,uploaderBannerRef:c}=e,u=function(){let[e,t]=(0,i.useState)({courseDocs:{count:0,isLoaded:!1},recommendedDocs:{count:0,isLoaded:!1},studylistDocs:{count:0,isLoaded:!1},uploaderDocs:{count:0,isLoaded:!1}}),n=(0,ey.oc)()?window.document:null,r=(0,i.useCallback)(e=>{t(t=>({...t,courseDocs:{count:e.detail.count,isLoaded:!0}}))},[]),o=(0,i.useCallback)(e=>{t(t=>({...t,studylistDocs:{count:e.detail.count,isLoaded:!0}}))},[]),a=(0,i.useCallback)(e=>{t(t=>({...t,uploaderDocs:{count:e.detail.count,isLoaded:!0}}))},[]),s=(0,i.useCallback)(e=>{t(t=>({...t,recommendedDocs:{count:e.detail.count,isLoaded:!0}}))},[]);return(0,eB.M)(eI.Cj.COURSE_DOCS_LOADED,r,n,{singleHandler:!0}),(0,eB.M)(eI.Cj.STUDYLIST_DOCS_LOADED,o,n,{singleHandler:!0}),(0,eB.M)(eI.Cj.UPLOADER_DOCS_LOADED,a,n,{singleHandler:!0}),(0,eB.M)(eI.Cj.RECOMMENDED_DOCS_LOADED,s,n,{singleHandler:!0}),(0,i.useMemo)(()=>({isFullyLoaded:Object.values(e).every(e=>e.isLoaded),lanesData:e,totalCount:Object.values(e).reduce((e,t)=>e+t.count,0)}),[e])}(),{ab:d}=(0,l.K)(),A=(0,_.jt)(),m=(0,i.useCallback)(()=>rR(()=>{let e=Object.values(u.lanesData).filter(e=>e.count>0).length;A(W.q.NAVIGATION_MENU_IS_SHOWN,{Course:u.lanesData.courseDocs.count>0,"Document ID":n,"For You":u.lanesData.recommendedDocs.count>0,"Lanes Count":e,Studylist:u.lanesData.studylistDocs.count>0,Uploader:u.lanesData.uploaderDocs.count>0})}),[n,u.lanesData,A]),{highlightedItem:p}=function(e){let{courseBannerRef:t,recommendationsBannerRef:n,studylistBannerRef:r,uploaderBannerRef:o}=e,[a,s]=(0,i.useState)("Document"),l=(0,i.useMemo)(()=>({passive:!0}),[]),c=(0,i.useCallback)(()=>{let e=window.innerHeight/2,i=Object.entries({Course:t.current?.getBoundingClientRect().top,ForYou:n.current?.getBoundingClientRect().top,Studylist:r.current?.getBoundingClientRect().top,Uploader:o.current?.getBoundingClientRect().top}).filter(t=>{let[,n]=t;return void 0!==n&&n<=e}).sort((e,t)=>t[1]-e[1]);i.length>0?s(i[0][0]):s("Document")},[t,n,r,o]),u=(0,rb.w)(c);return(0,eB.M)("scroll",u,(0,ey.oc)()?window:null,l),{highlightedItem:a}}({courseBannerRef:t,recommendationsBannerRef:a,studylistBannerRef:s,uploaderBannerRef:c}),h=d.find(e=>{let{test:t}=e;return"testDocumentPageNavigator"===t})?.variant==="Enabled";return 0!==u.totalCount&&u.isFullyLoaded&&h?(0,r.jsxs)("div",{className:ed()(rx().pageNavigator,(0,t_.R)("on-mobile","on-tablet")),onFocus:m,onMouseOver:m,tabIndex:0,children:[(0,r.jsx)("div",{className:rx().pageNavigatorIndicatorWrapper,children:(0,r.jsx)(rp,{...u.lanesData,highlightedItem:p})}),(0,r.jsx)("div",{className:rx().pageNavigatorMenuWrapper,children:(0,r.jsx)(rC,{courseBannerRef:t,documentId:n,highlightedItem:p,lanesData:u.lanesData,pagesCount:o,recommendationsBannerRef:a,studylistBannerRef:s,uploaderBannerRef:c})})]}):null}var rD=n(12998),rE=n.n(rD);function rB(e){let{align:t="center",children:n,level:i=2}=e;return(0,r.jsx)(ep,{align:t,children:(0,r.jsx)("div",{className:ed()(rE().topFloatingComponent,rE()[`level-${i}`]),children:n})})}var ry=n(79495),rI=n.n(ry);let rS=e=>{let{isExpanded:t,keyConcepts:n}=e;return(0,r.jsxs)("section",{className:ed()(rI().keyConceptsList,!t&&rI().hidden),children:[(0,r.jsx)(eE.E,{color:"default",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"document_ai_key_concepts"})}),(0,r.jsx)("ul",{children:Object.entries(n).map(e=>{let[t,n]=e;return(0,r.jsxs)("li",{children:[(0,r.jsx)(eE.E,{as:"span",color:"default",variant:"title-medium",children:`${t}: `}),(0,r.jsx)(eE.E,{as:"span",color:"default",variant:"body-medium",children:n})]},t)})})]})};function rk(e){let{documentId:t,keyConcepts:n,summary:o}=e,[a,s]=(0,i.useState)(!1),l=(e=>{let t=(0,_.jt)();return(0,i.useCallback)(n=>{t(W.q.AI_SUMMARY_EXPANDED,{"Click Origin":n,"Document ID":e})},[e,t])})(t),c=(0,i.useCallback)(()=>{a||l("Container"),s(e=>!e)},[a,l]),u=(0,i.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},[c]),d=(0,i.useCallback)(e=>{e.stopPropagation(),a||l("MoreButton"),s(e=>!e)},[a,l]);return o&&n&&0!==Object.keys(n).length?(0,r.jsx)("div",{className:rI().aiSummaryContainerWrapper,children:(0,r.jsx)("section",{className:rI().aiSummaryContainer,children:(0,r.jsxs)("div",{className:ed()(rI().expandableSummaryWrapper,a&&rI().expanded),onClick:c,onKeyDown:u,role:"button",tabIndex:0,children:[(0,r.jsx)("div",{className:ed()(rI().summaryWrapper,a&&rI().summaryExpanded),children:(0,r.jsx)(eE.E,{as:"span",color:"default",truncate:!a&&2,variant:"body-medium",children:o})}),(0,r.jsx)(rS,{isExpanded:a,keyConcepts:n}),(0,r.jsx)("div",{className:ed()(!a&&rI().moreButtonWrapper,a&&rI().seeLessButton),children:(0,r.jsxs)(eP.$,{onClick:d,variant:"plain",children:[!a&&(0,r.jsxs)(r.Fragment,{children:["\xa0\xa0\xa0","..."]}),(0,r.jsx)(ef.A,{id:a?"see_less":"summary_more"})]})})]})})}):null}var rj=n(40521),rT=n(55628),rM=n.n(rT);let rN=e=>{let{title:t}=e;return(0,r.jsxs)("section",{className:rM().originalTitleWrapper,children:[(0,r.jsxs)(eE.E,{variant:"title-medium",children:[(0,r.jsx)(ef.A,{id:"original_title_label"}),":"]}),(0,r.jsx)(eE.E,{variant:"body-medium",children:t})]})};var rQ=n(45563),rU=n.n(rQ);let rP=(0,i.memo)(function(e){let{isVisible:t}=e,n=(0,_.jt)();return(0,r.jsx)("div",{className:ed()(rU().container,(0,t_.R)("from-tablet"),!t&&(0,t_.R)()),children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:eS.YpQ,size:"1x"}),color:"turquoise",fullWidth:!0,onClick:()=>{n(np.y.TRACK_PREMIUM_ALERT_BUTTON_CLICKED),(0,tm.w)(eI.Cj.SCROLL_TO_PREMIUM_BANNER,{})},testSelector:"preview-mobile-banner-button",variant:"primary",children:(0,r.jsx)(ef.A,{id:"view_full_document"})})})}),rO="topbarState",rF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"closed",t=(0,tz.useQueryClient)(),{data:n=e}=(0,tz.useQuery)({initialData:e,queryFn:()=>e,queryKey:[rO],staleTime:1/0});return(0,i.useEffect)(()=>{t.setQueryData([rO],e)},[e,t]),{closeTopbar:()=>t.setQueryData([rO],"closed"),compactTopbar:()=>t.setQueryData([rO],"compact"),openTopbar:()=>t.setQueryData([rO],"open"),topbarState:n}};var rV=n(4296),rL=n.n(rV);function rG(e){let{areRatingButtonsDisabled:t,document:n,handleHideRateDiscoveryModal:i,handleRating:o,handleShowRateDiscoveryModal:a,isButtonEnabled:s,isShowingRateDiscoveryModal:l,ratings:c,userRating:u}=e;return(0,r.jsxs)("div",{className:rL().aboutDocumentTitleWrapper,children:[(0,r.jsxs)("div",{className:rL().title,children:[(0,r.jsx)(eb.Z,{className:(0,t_.R)("on-mobile"),color:"black",component:"p",size:"big",weight:"bold",children:(0,r.jsx)(ef.A,{id:"about_this_document"})}),(0,r.jsx)(eb.Z,{className:(0,t_.R)("from-tablet"),color:"black",component:"p",size:"big",weight:"bold",children:(0,r.jsx)(ef.A,{id:"about"})})]}),(0,r.jsx)("div",{className:ed()((0,t_.R)("from-desktop")),children:(0,r.jsx)(to,{document:n,handleHideRateDiscoveryModal:i,handleShowRateDiscoveryModal:a,isButtonEnabled:s,isShowingRateDiscoveryModal:l,onRateClick:e=>o(e,eL.BOTTOM_SECTION),ratingOrigin:eL.BOTTOM_SECTION,ratings:c,readOnly:t,userRating:u,variant:"compact"})})]})}let rH=n4.Ikc({firstName:n4.YjP(),id:n4.aig(),isAnonymous:n4.euz(!1),isPremium:n4.zMY(),lastName:n4.YjP().nullable(),pictureUrl:n4.YjP().nullable()}),rz=e=>!!e&&!e.isAnonymous&&rH.safeParse(e).success;var rW=n(76095),rY=n.n(rW);let rJ=function(e){let{withoutCaption:t=!1,year:n}=e;return(0,r.jsxs)("section",{className:ed()(rY().academicYearSectionWrapper,{[rY().withoutCaption]:t}),children:[(0,r.jsxs)("section",{className:rY().iconAndCaptionSection,children:[(0,r.jsx)(ej.I,{icon:eS.okg,size:"1x"}),!t&&(0,r.jsx)(eb.Z,{className:rY().captionLabel,color:"default",size:"normal",weight:"medium",children:(0,r.jsx)(ef.A,{id:"academic_year"})})]}),(0,r.jsx)("section",{className:rY().academicYearInfo,children:(0,r.jsx)(eb.Z,{color:"default",size:"normal",testSelector:"viewer-topbar-academic-year",weight:"medium",children:n})})]})},rZ=eC()(()=>Promise.all([n.e(7792),n.e(7662)]).then(n.bind(n,67662)),{loadableGenerated:{webpack:()=>[67662]}}),rK=eC()(()=>Promise.all([n.e(9523),n.e(2753)]).then(n.bind(n,72753)),{loadableGenerated:{webpack:()=>[72753]}}),rq=e=>{let{documentUser:t,...n}=e;return nO(t)?(0,r.jsx)(rZ,{}):rz(t)?(0,r.jsx)(rK,{...n,documentUser:t}):null};var r$=n(24663),rX=n.n(r$);let r0=e=>{let{categoryId:t}=e;return(0,r.jsxs)("section",{className:rX().container,children:[(0,r.jsxs)("div",{className:rX().labelSection,children:[(0,r.jsx)(ej.I,{className:rX().icon,icon:eS.qTS,size:"1x"}),(0,r.jsx)(eb.Z,{className:rX().label,size:"normal",weight:"medium",children:(0,r.jsx)(ef.A,{id:"category"})})]}),(0,r.jsx)("div",{className:rX().categoryInfo,children:(0,r.jsx)(eb.Z,{className:rX().category,size:"normal",testSelector:"viewer-topbar-document-category",weight:"medium",children:(0,r.jsx)(ef.A,{id:`category_${t}`})})})]})};var r1=n(38096);let r2={LABEL_SCHOOL:"school",LABEL_UNIVERSITY:"university"};var r5=n(50551),r3=n.n(r5);let r4=function(e){let{institution:t,variant:n="horizontal"}=e;if((0,d.Im)(t))return null;let i=(0,d.hj)(t)&&"HIGH_SCHOOL"===t.type,o="HIGH_SCHOOL"===t.type?r2.LABEL_SCHOOL:r2.LABEL_UNIVERSITY;return(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsxs)("div",{className:ed()(r3().documentInfoItem,"vertical"===n&&r3().vertical),children:[(0,r.jsxs)("div",{className:r3().caption,children:[(0,r.jsx)(r1.A,{className:r3().captionIcon,color:"neutral90",isDuotone:!0,isHighSchool:i}),(0,r.jsxs)(eE.E,{as:"span",color:"default",variant:"label-medium",children:[o&&(0,r.jsx)(ef.A,{id:o}),"vertical"===n?"":": "]})]}),(0,r.jsx)(tI.A,{className:r3().link,color:"blue",id:t.id,name:t.name,origin:"document-viewer",testSelector:"viewer-sidebar-institution-link",type:t.type})]})})};var r6=n(37624),r7=n.n(r6);function r9(e){let{academicYear:t,categoryId:n,documentUser:i,institution:o}=e,a="HIGH_SCHOOL"===o.type,s=nO(i)||rz(i);return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)("section",{className:r7().metadataSection,children:(0,r.jsx)(r4,{institution:o,variant:"vertical"})}),s&&(0,r.jsx)("section",{className:ed()(r7().metadataSection,(0,t_.R)("from-desktop")),children:(0,r.jsx)(rq,{documentUser:i})}),t&&(0,r.jsx)("section",{className:ed()((0,t_.R)("from-desktop"),r7().metadataSection),children:(0,r.jsx)(rJ,{year:t})}),(0,r.jsx)("section",{className:r7().metadataSection,children:(0,r.jsx)(r0,{categoryId:n})})]})}var r8=n(69767),ie=n.n(r8);let it=e=>{let{course:t,isHighSchool:n}=e,i=t?.documentCount||0;return(0,r.jsxs)("div",{className:ie().container,children:[(0,r.jsxs)(eb.Z,{className:ie().infoSectionHeader,color:"default",component:"h2",size:"normal",textStyle:"no-wrap",weight:"medium",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(ej.I,{className:ie().icon,color:"neutral-90",icon:eU.ao0}),(0,r.jsx)(ef.A,{id:n?"high_school_course":"course"}),": "]}),(0,r.jsx)(td,{className:ie().link,course:t,origin:"document-viewer"})]}),i>2&&(0,r.jsx)(tP,{displayTooltip:!0,documentCount:i})]})};var ir=n(50415),ii=n(18573),io=n.n(ii);let ia=e=>{let{degree:t,grade:n}=e,i=(0,y.H)(),o=(0,ta.A)(i.degree(t??""),"document-viewer"),a=(0,ta.A)(i.degree(t??"",n?n.id:void 0),"document-viewer");return(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsxs)("div",{className:io().degreeGradeWrapper,children:[(0,r.jsxs)("div",{className:io().subtitle,children:[(0,r.jsx)(ir.z,{className:io().icon}),(0,r.jsx)(ef.A,{id:"high_school_degree"}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:" â€¢ "}),(0,r.jsx)(ef.A,{id:"high_school_grade"})]}),": "]}),(0,r.jsxs)("div",{className:io().linksWrapper,children:[(0,r.jsx)(tl.A,{className:io().degreeLink,href:o,variant:"blue",children:(0,r.jsx)(eE.E,{as:"span",truncate:!0,variant:"label-medium",children:t.shortName||t.name})}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"â€¢"}),(0,r.jsx)(tl.A,{href:a,variant:"blue",children:(0,r.jsx)(eE.E,{as:"span",variant:"label-medium",children:n.name})})]})]})]})})};var is=n(89074),il=n.n(is);function ic(e){let{academicYear:t,course:n,documentUser:i,institution:o,isVisible:a}=e,s="HIGH_SCHOOL"===o.type,l=nO(i)||rz(i);return(0,r.jsxs)("div",{className:ed()(il().startMetadata,!a&&(0,t_.R)()),children:[(0,r.jsxs)("div",{className:ed()(il().desktopFirstLineWrapper,{[il().documentAuthorVisible]:l}),children:[!!n&&(0,r.jsx)("div",{className:il().courseMetadata,children:(0,r.jsx)(it,{course:n,isHighSchool:s})}),s&&!!n?.degree&&(0,r.jsx)("div",{className:il().degreeGradeMetadata,children:(0,r.jsx)(ia,{degree:n?.degree,grade:n?.grade})}),!s&&(0,r.jsx)("div",{className:il().institutionMetadata,children:(0,r.jsx)(r4,{institution:o})})]}),l&&(0,r.jsx)("section",{className:ed()(il().uploaderSection,(0,t_.R)("on-mobile","on-tablet"),{[il().withAcademicYear]:!!t}),children:(0,r.jsx)(rq,{documentUser:i})}),!!t&&(0,r.jsx)("section",{className:ed()(il().academicYearSection,(0,t_.R)("on-mobile","on-tablet")),children:(0,r.jsx)(rJ,{withoutCaption:!0,year:t})})]})}var iu=n(52867),id=n(61299),iA=n(38251),im=n(3493),ip=n(55365),i_=n(2595);let ih=e=>{let{appVersion:t,attempt:n,course:r,document:i,ownQuiz:o,permissions:a,questionId:s,questionNumber:l,quizId:c,quizName:u,quizQuestionsCount:A,quizSourceType:m,quizType:_,studylist:h,user:g}=e,w=h?.user?.id===g?.id,C=!(0,d.Im)(i)&&nP(i?.user)&&i?.user?.id===g?.id,b=(0,L.j)({numberOfPages:i?.numberOfPages,userCanHaveTrial:a?.canHaveTrial??!1}),f={...g&&{[p.UM.UserCountryId]:g.country?.id,[p.UM.UserDegreeId]:g.degree?.id,[p.UM.UserDegreeName]:g.degree?.name,[p.UM.UserDegreeStage]:g.degree?.stage,[p.UM.UserGradeId]:g.grade?.id,[p.UM.UserGradeName]:g.grade?.name,[p.UM.UserId]:g?.id,[p.UM.UserLanguage]:g.language?.code,[p.UM.UserPremiumType]:g.userPremiumType?(0,R.c)(g.userPremiumType):"Not-Premium",[p.UM.UserStage]:(0,i_.X)({guestUserStage:null,user:g}),[p.UM.UserUniversityCountryId]:g.institution?.country?.id,[p.UM.UserUniversityCountryName]:g.institution?.country?.name,[p.UM.UserUniversityId]:g.institution?.id,[p.UM.UserUniversityName]:g.institution?.name,[p.UM.UserUrlRegion]:g.region?.code,...g.institution&&"level"in g.institution&&{[p.UM.UserUniversityLevel]:g.institution.level}}},x={...h&&{[p.X1.OwnStudylist]:w,[p.X1.StudylistDocumentCount]:h?.documentCount,[p.X1.StudylistFollowerCount]:h?.followerCount,[p.X1.StudylistId]:h?.id,[p.X1.StudylistName]:h?.name,[p.X1.StudylistQuizCount]:h.practiceMaterials?.quizzesCount,...h?.course&&{[p.X1.CourseId]:h?.course?.id,[p.X1.CourseName]:h?.course?.name,[p.X1.DegreeId]:h?.course?.degree?.id,[p.X1.DegreeName]:h?.course?.degree?.name,[p.X1.DegreeStage]:h?.course?.degree?.stage,[p.X1.GradeId]:h?.course?.grade?.id,[p.X1.GradeName]:h?.course?.grade?.name,[p.X1.OwnerID]:h?.user?.id,...h?.course?.institution&&{...(0,$.g)(h?.course?.institution)},[p.X1.UniversityCountryId]:h?.course?.institution?.country?.id,[p.X1.UniversityCountryName]:h?.course?.institution?.country?.name,[p.X1.UniversityId]:h?.course?.institution?.id,[p.X1.UniversityName]:h?.course?.institution?.name}}},v={...i&&{[p.b_.CategoryName]:i?.categoryName,[p.b_.DocumentId]:i?.id,[p.b_.DocumentPageCount]:i?.numberOfPages,...b&&{[p.b_.DocumentViewType]:b},[p.b_.OwnDocument]:C,[p.Du.IsDocumentLongForAIQuiz]:i.numberOfPages>ig,...i?.course&&{[p.b_.CourseId]:i.course?.id,[p.b_.CourseName]:i.course?.name,...i?.course?.degree&&{[p.b_.DegreeId]:i.course.degree?.id,[p.b_.DegreeName]:i.course.degree?.name,[p.b_.DegreeStage]:i.course.degree?.stage},...i?.course?.grade&&{[p.b_.GradeId]:i.course.grade?.id,[p.b_.GradeName]:i.course.grade?.name}},...i?.institution&&{...(0,$.g)(i.institution)}}},D={...r&&{[p.b_.CourseId]:r?.id,[p.b_.CourseName]:r?.name,...(r?.degree||r?.grade?.degree)&&{[p.b_.DegreeId]:r.degree?.id||r.grade?.degree?.id,[p.b_.DegreeName]:r.degree?.name||r.grade?.degree?.name,[p.b_.DegreeStage]:r.degree?.stage||r.grade?.degree?.stage},...r?.grade&&{[p.b_.GradeId]:r.grade?.id,[p.b_.GradeName]:r.grade?.name},...r.institution&&{...(0,$.g)(r.institution)},"Own Quiz":o}},E={...s&&{[p.Du.QuestionId]:s},...l&&{[p.Du.QuestionNumber]:l},...u&&{[p.Du.QuizName]:u},...n?.id&&{[p.Du.QuizAttemptId]:n.id},...n?.score&&{[p.Du.QuizAttemptScore]:n?.score},...n?.status&&{[p.Du.QuizAttemptStatus]:n?.status},...c&&{[p.Du.QuizId]:c},..._&&{[p.Du.QuizType]:_},...A?{[p.Du.TotalQuestions]:A}:{},...t?{[p.Du.AppVersion]:t,[p.Du.IsApp]:!0}:{}};return{...f,...x,...v,...E,...h?.id&&{[p.Ni.SourceID]:h.id},...i?.id&&{[p.Ni.SourceID]:i.id},..._===iC.MultipleChoice&&m&&{[p.Ni.SourceType]:m},..._===iC.MultipleChoice&&m===p.fY.UserGenerated&&D}},ig=25,iw={FLASHCARD_CTA_CLICKED:"Flashcard CTA Clicked",FLASHCARD_VIEW:"Flashcard View",MULTIPLE_CHOICE_CTA_CLICKED:"Multiple Choice CTA Clicked",MULTIPLE_CHOICE_VIEW:"Multiple Choice View",QUIZ_ANSWER_VIEWED:"Quiz Answer Viewed",QUIZ_CTA_CLICKED:"Quiz CTA Clicked",QUIZ_FEEDBACK:"Quiz Feedback",QUIZ_FINISHED:"Quiz Finished",QUIZ_GENERATED:"Quiz Generated",QUIZ_QUESTION_REPORTED:"Quiz Question Reported",QUIZ_QUESTION_RESPONSE:"Quiz Question Response",QUIZ_RATED:"Quiz Rated",QUIZ_RECOMMENDATION_CLICKED:"Quiz Recommendation Clicked",QUIZ_RECOMMENDATION_SEE_ALL_QUIZZES_CLICKED:"Quiz Recommendation See All Quizzes Clicked",QUIZ_RETRY_CLICKED:"Quiz Retry Clicked",QUIZ_STARTED:"Quiz Started"},iC={Flashcard:"Flashcard",MultipleChoice:"Multiple Choice"},ib=function(e){let{appVersion:t,course:n,document:r,isNoteGenerated:o=!1,ownQuiz:a,quizId:s,quizName:c,quizQuestionsCount:u,quizRecommendationsCount:A=0,quizType:h,sharedId:g,studylist:w}=e,{ab:C,session:{permissions:b,user:f}}=(0,l.K)(),x=(0,_.jt)(),R=(0,ip.R)(),v=C.find(e=>{let{test:t}=e;return"testAskAIMetadataPrefill"===t}),D=C.find(e=>{let{test:t}=e;return"testQuizDescribeRAG"===t}),E=C.find(e=>{let{test:t}=e;return"testQuizSocialSharing"===t}),B=null;n?B=p.fY.UserGenerated:r?B=p.fY.Document:w?B=p.fY.Studylist:o&&(B=p.fY.Note);let y=(0,i.useCallback)(e=>{let{ab:i,attempt:o,eventName:l,extraProperties:A,questionId:m,questionNumber:p}=e,_={...ih({appVersion:t,attempt:o,course:n,document:r,ownQuiz:a,permissions:b,questionId:m,questionNumber:p,quizId:s,quizName:c,quizQuestionsCount:u,quizSourceType:B,quizType:h,studylist:w,user:f}),...A,...i?.includes("testAskAIMetadataPrefill")&&!(0,d.Im)(v?.variant)?{"Test Ask AI Metadata Prefill":v?.variant}:{},...i?.includes("testQuizDescribeRAG")&&!(0,d.Im)(D?.variant)?{"Test Quiz Describe RAG":D?.variant}:{},...i?.includes("testQuizSocialSharing")&&!(0,d.Im)(E?.variant)?{"Test Quiz Social Sharing":E?.variant}:{}};x(l,_)},[t,r,b,s,u,h,w,f,x]);return{trackFlashcardCTAClicked:()=>{y({eventName:iw.FLASHCARD_CTA_CLICKED})},trackFlashcardView:e=>{y({ab:["testAskAIMetadataPrefill"],attempt:e,eventName:iw.FLASHCARD_VIEW,extraProperties:{[p.cS.ClickOrigin]:m.J.Quiz,...g&&{"Shared ID":(0,Z.C)(g).userId}}})},trackMultipleChoiceCTAClicked:()=>{y({eventName:iw.MULTIPLE_CHOICE_CTA_CLICKED})},trackMultipleChoiceView:e=>{y({ab:["testAskAIMetadataPrefill","testQuizDescribeRAG","testQuizSocialSharing"],attempt:e,eventName:iw.MULTIPLE_CHOICE_VIEW,extraProperties:{[p.Du.QuizRecommendationsCount]:A,...g&&{"Shared ID":(0,Z.C)(g).userId}}})},trackQuizAnswerViewed:e=>{let{attempt:t,method:n,questionId:r,questionNumber:i,source:o}=e;y({attempt:t,eventName:iw.QUIZ_ANSWER_VIEWED,extraProperties:{[p.Du.Method]:n,[p.Du.QuestionId]:r,[p.Du.QuestionNumber]:i,...o&&{[p.Du.Source]:o}}})},trackQuizCTAClicked:()=>{y({eventName:iw.QUIZ_CTA_CLICKED})},trackQuizFeedback:e=>{let{attempt:t,feedback:n}=e;y({attempt:t,eventName:iw.QUIZ_FEEDBACK,extraProperties:{Feedback:n}})},trackQuizFinished:e=>{let{attempt:t,correctAnswersCount:n,incorrectAnswersCount:r,score:i,skippedAnswersCount:o,source:a}=e;y({ab:["testQuizDescribeRAG","testQuizSocialSharing"],attempt:t,eventName:iw.QUIZ_FINISHED,extraProperties:{[p.Du.QuestionsCorrectlyAnswered]:n,[p.Du.QuestionsIncorrectlyAnswered]:r,...o&&{[p.Du.QuestionsSkipped]:o},[p.cS.ClickOrigin]:m.J.Quiz,[p.Du.Score]:i,...a&&{[p.Du.Source]:a}}})},trackQuizGenerated:(e,t)=>{x(iw.QUIZ_GENERATED,ih({document:r,quizId:t,quizSourceType:B,quizType:e,studylist:w,user:f}))},trackQuizQuestionReported:e=>{let{attempt:t,comment:n,questionId:r,questionNumber:i,reason:o,source:a}=e,s={[p.Du.QuestionId]:r,[p.Du.QuestionNumber]:i,Source:a};o&&(s[p.Du.ReportReason]=o),n&&(s[p.Du.MoreDetails]=n),y({attempt:t,eventName:iw.QUIZ_QUESTION_REPORTED,extraProperties:s})},trackQuizQuestionResponse:e=>{let{attempt:t,questionId:n,questionNumber:r,responseId:i,responseStatus:o,source:a}=e;y({ab:["testQuizDescribeRAG","testQuizSocialSharing"],attempt:t,eventName:iw.QUIZ_QUESTION_RESPONSE,extraProperties:{[p.Du.QuestionId]:n,[p.Du.QuestionNumber]:r,[p.Du.Response]:o,...i&&{[p.Du.ResponseId]:i},...a&&{[p.Du.Source]:a}}})},trackQuizRated:e=>{let{attempt:t,rating:n}=e;y({attempt:t,eventName:iw.QUIZ_RATED,extraProperties:{Rating:n}})},trackQuizRecommendationClicked:e=>{let{origin:t,position:n}=e;y({eventName:iw.QUIZ_RECOMMENDATION_CLICKED,extraProperties:{[p.cS.ClickOrigin]:t,[p.Du.QuizPosition]:n}})},trackQuizRecommendationSeeAllQuizzesClicked:e=>y({eventName:iw.QUIZ_RECOMMENDATION_SEE_ALL_QUIZZES_CLICKED,extraProperties:{[p.cS.ClickOrigin]:e}}),trackQuizRetryClicked:e=>{y({attempt:e,eventName:iw.QUIZ_RETRY_CLICKED})},trackQuizStarted:e=>{let{attempt:t,questionId:n,questionNumber:r}=e;y({attempt:t,eventName:iw.QUIZ_STARTED,extraProperties:{[p.Du.QuestionId]:n,[p.Du.QuestionNumber]:r}})},trackShareQuizButtonClicked:e=>{let{attempt:i,isFlashcard:o,questionId:l,questionNumber:A,userId:m}=e,_=ih({appVersion:t,attempt:i,course:n,document:r,ownQuiz:a,permissions:b,questionId:l,questionNumber:A,quizId:s,quizName:c,quizQuestionsCount:u,quizSourceType:B,quizType:h,studylist:w,user:f});R({..._,[p.Du.QuestionId]:l,[p.Du.QuestionNumber]:A,contentType:o?"Flashcards":"Quiz",...m&&{[p.Z2.UserId]:m},...r?.user&&"id"in r.user&&{[p.PY.DocumentUserId]:r?.user?.id},...!(0,d.Im)(E?.variant)?{"Test Quiz Social Sharing":E?.variant}:{}})}}},ix={FLASHCARD:"FLASHCARD",MULTIPLE_CHOICE:"MULTIPLE_CHOICE"};var iR=n(80678),iv=n(4706);let iD=["AIQuiz"],iE=e=>e.find(e=>"testCropToAI"===e.test)?.variant==="Enabled";var iB=n(82974),iy=n(55997),iI=n(93831),iS=n(37967),ik=n(8588),ij=n.n(ik);let iT={src:"https://website-assets.studocu.com/_next/static/media/ai-quiz-cards-loading.94bfda96.svg",height:128,width:162,blurWidth:0,blurHeight:0},iM={src:"https://website-assets.studocu.com/_next/static/media/ai-quiz-tooltip-background.9765531d.svg",height:300,width:400,blurWidth:0,blurHeight:0};var iN=n(84635),iQ=n.n(iN);let iU=e=>{let{children:t,onDismissAIQuizTooltip:n,show:i}=e,o=(0,I.u)();return(0,r.jsxs)(eX.A,{closeOnOutsidePress:!1,disabled:!i,floatingOffset:8,floatingZIndex:3200,initialOpen:i,placement:"bottom-end",role:"dialog",showArrow:!0,triggerType:"click",children:[(0,r.jsx)(e7.W,{children:t}),(0,r.jsxs)(e0.h,{className:iQ().aiQuizTooltip,children:[(0,r.jsx)(ij(),{alt:o.get("ai_quiz_documents"),className:iQ().aiQuizTooltipImg,height:140,src:iT,width:180}),(0,r.jsxs)("div",{className:iQ().aiQuizTooltipText,children:[(0,r.jsx)(eb.Z,{color:"white",size:"normal",weight:"bold",children:(0,r.jsx)(ef.A,{id:"start_working_with_ai"})}),(0,r.jsx)(eb.Z,{color:"white",size:"normal",children:(0,r.jsx)(ef.A,{id:"use_feature_generate_flashcards"})})]}),(0,r.jsx)(ij(),{alt:"Pink background",className:iQ().aiQuizTooltipBgImg,height:300,src:iM,width:400}),(0,r.jsx)(eP.$,{color:"gray",fullWidth:!0,onClick:n,size:"medium",testSelector:"ai-quiz-tooltip-dismiss-button",variant:"secondary",children:(0,r.jsx)(ef.A,{id:"got_it"})})]})]})};var iP=n(55475),iO=n(52079);let iF="crop_to_ask_ai",iV=(e,t,n)=>e||t?"pink":n?"gray":"white";var iL=n(82267),iG=n.n(iL);let iH=e=>["closed","open"].includes(e)?(0,t_.R)("on-mobile","on-tablet"):(0,t_.R)("on-mobile"),iz=(0,i.forwardRef)((e,t)=>{var n,o,a;let{isGeneratingQuiz:s,isOpen:c,isQuizReady:u,isTestDocumentQuizVideos:d,onClick:A,showAiQuizTooltip:m,topbarState:p}=e,{dismissAiQuizTooltip:_,isAiQuizTooltipShown:h}=(()=>{let e=(0,im.Y)(),{session:{isAiQuizTooltipInitiallyShown:t}}=(0,l.K)(),n=(0,ey.oc)()?(0,nr.vA)().get("origin"):null,[r,o]=(0,i.useState)(!!(t&&n&&n.indexOf("library-upload")>=0));return{dismissAiQuizTooltip:(0,tz.useMutation)({mutationFn:async()=>(o(!1),(await fetch(e.route("api.documents.ai-quiz-tooltips.destroy"),{headers:(0,iS.M)(),method:"DELETE"})).json())}),isAiQuizTooltipShown:r}})(),g=(0,r.jsxs)("div",{ref:t,children:[(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.p7g}),className:["closed","open"].includes(p)?(0,t_.R)("from-desktop"):(0,t_.R)("from-tablet"),color:iV(s,u,c),loading:s,onClick:A,round:!0,size:"medium"}),(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.p7g}),className:iH(p),color:iV(s,u,c),loading:s,onClick:A,size:"medium",children:(0,r.jsxs)("div",{className:iG().buttonContentWrapper,children:[(0,r.jsx)("span",{className:ed()(["closed","open"].includes(p)?(0,t_.R)("on-mobile","on-tablet"):(0,t_.R)()),children:(0,r.jsx)(ef.A,{id:(n=s,o=u,a=d,n?"preparing_quiz":o?"quiz_ready":a?"document_actions_ai_tools":"ai_tools")})}),(0,r.jsx)("span",{className:ed()(iG().arrowIconWrapper,iH(p)),children:(0,r.jsx)(ej.I,{color:"neutral-80",icon:c?nH.w2A:nH.Jt$})})]})})]});return m?(0,r.jsx)(iU,{onDismissAIQuizTooltip:()=>_.mutate(),show:h,children:(0,r.jsx)("div",{children:g})}):g}),iW=(0,i.memo)(iz);var iY=n(88763),iJ=n.n(iY);let iZ=e=>{let{handleAIAudioClick:t,handleAIQuizClick:n,handleCropClick:o,handleDropdownClicked:a,handleQuizVideoClick:s,handleTrackAIQuizLinkClick:c,isCropToAskAIEnabled:u,practiceMaterials:d,quizRetrieveState:A,showAIQuiz:m,showAiQuizTooltip:p,slug:_,topbarState:h}=e,{ab:g,config:{isCrawler:w}}=(0,l.K)(),C=g.find(e=>{let{test:t}=e;return"testDocumentQuizVideos"===t})?.variant,b=g.find(e=>{let{test:t}=e;return"toggleAIAudioPage"===t})?.variant,f="Treatment"===C,[x,R]=(0,i.useState)(w),v=(e=>{let{handleAIAudioClick:t,handleAIQuizClick:n,handleCropClick:r,handleQuizVideoClick:i,handleTrackAIQuizLinkClick:o,isCropToAskAIEnabled:a,isTestDocumentQuizVideos:s,isToggleAIAudioPage:l,practiceMaterials:c,slug:u}=e,d=(0,im.Y)(),A=(0,iP.CM)(iO.h7.DocumentViewer);return[...a&&r?[{component:"button",iconName:"crop",onClick:r,testSelector:"crop-to-ask-ai-dropdown-item",title:"crop_to_ai_title",type:iF,useAiIcon:!0}]:[],{component:tl.A,href:A,iconName:"ask-ai",testSelector:"ask-ai-dropdown-item",title:"ask_ai",type:"ASK_AI",useAiIcon:!0},{component:c?.quiz?tl.A:"button",icon:nH.Wns,testSelector:"multiple-choice-dropdown-item",title:"multiple_choice",type:ix.MULTIPLE_CHOICE,...c?.quiz?{href:d.route("quizzes.show",{quizId:c.quiz,slug:u}),onClick:()=>{o(ix.MULTIPLE_CHOICE),window.location.href=d.route("quizzes.show",{quizId:c.quiz,slug:u})},...c.quiz%10>=5?{rel:"nofollow"}:{}}:{onClick:()=>n(ix.MULTIPLE_CHOICE)}},{component:c?.flashcard?tl.A:"button",icon:nH.Xm2,testSelector:"flashcards-dropdown-item",title:"flashcards",type:ix.FLASHCARD,...c?.flashcard?{href:d.route("flashcards.show",{flashcardsId:c.flashcard,slug:u}),onClick:()=>{o(ix.FLASHCARD),window.location.href=d.route("flashcards.show",{flashcardsId:c.flashcard,slug:u})},rel:"nofollow"}:{onClick:()=>n(ix.FLASHCARD)}},{component:"button",icon:nH.xQp,id:"quiz-video",onClick:i,show:s,testSelector:"quiz-video-dropdown-item",title:"quiz_video",type:"QUIZ_VIDEO"},{component:"button",icon:nH.A54,id:"ai-audio",onClick:t,show:s&&l,testSelector:"ai-audio-dropdown-item",title:"audio_lesson",type:"AUDIO_LESSON"}]})({handleAIAudioClick:t,handleAIQuizClick:n,handleCropClick:o,handleQuizVideoClick:s,handleTrackAIQuizLinkClick:c,isCropToAskAIEnabled:u,isTestDocumentQuizVideos:f,isToggleAIAudioPage:"Enabled"===b,practiceMaterials:d,slug:_});return(0,r.jsxs)(eX.A,{floatingOffset:8,initialOpen:w,onOpenCallback:e=>{R(e),a(e)},placement:"bottom",showArrow:!1,triggerType:"click",children:[(0,r.jsx)(e7.W,{children:(0,r.jsx)(iW,{isGeneratingQuiz:A.isGeneratingQuiz,isOpen:x,isQuizReady:A.isReadyQuiz,isTestDocumentQuizVideos:f,showAiQuizTooltip:p,topbarState:h})}),(0,r.jsx)(e0.h,{className:iJ().list,showForCrawlers:w,children:(0,r.jsx)(iB.k,{as:"ul",className:iJ().list,role:"menu",children:v.map(e=>{let{component:t,show:n,title:i,type:o,...a}=e;return(m||o===iF)&&(0,r.jsx)(iy.X,{as:"li",className:iJ().dropdownListItem,role:"menuitem",...a,children:(0,r.jsxs)(t,{className:iJ().dropdownItem,children:[(e=>"useAiIcon"in e&&!0===e.useAiIcon)(e)?(0,r.jsx)(iI.K,{color:"neutral-80",name:e.iconName,size:"1x",sparkleColor:"accent"}):(0,r.jsx)(ej.I,{icon:e.icon,size:"1x"}),(0,r.jsx)(ef.A,{id:i})]})},o)})})})]})},iK=eC()(()=>Promise.all([n.e(3410),n.e(1560)]).then(n.bind(n,71560)),{loadableGenerated:{webpack:()=>[71560]}}),iq=(0,i.memo)(e=>{let{document:t,documentAbilities:n,practiceMaterials:o,showAiQuizTooltip:a=!1,topbarState:s}=e,c=(0,tg.b)(),u=(0,im.Y)(),{ab:d,config:{isCrawler:A},session:m}=(0,l.K)(),p=!t.isPreviewMode&&iE(d),h=n?n.shouldShowAIQuiz:A,[g,w]=(0,i.useState)(ix.MULTIPLE_CHOICE),[C,b]=(0,i.useState)({isFailedQuiz:!1,isGeneratingQuiz:!1,isReadyQuiz:!1}),[f,x]=(0,i.useState)(o),{hideAndRemoveModal:R,isRenderingModal:v,isShowingModal:D,renderAndShowModal:E}=(0,iA.A)(),B={categoryName:(0,V.lm)(t.categoryId),course:t.course&&{degree:t.course?.degree?{id:t.course.degree.id,name:t.course.degree.name,shortName:t.course.degree?.shortName,stage:t.course.degree.stage}:null,grade:t.course?.grade?{id:t.course.grade.id,name:t.course.grade.name}:null,id:t.course?.id,name:t.course?.name},id:t.id,institution:t.institution,numberOfPages:t.numberOfPages,user:t.user??null},y=g===ix.FLASHCARD,I=y?iC.Flashcard:iC.MultipleChoice,{trackFlashcardCTAClicked:S,trackMultipleChoiceCTAClicked:k,trackQuizCTAClicked:j,trackQuizGenerated:T}=ib({document:B,quizType:I}),M=((e,t)=>{let n=(0,_.jt)(),r=ih({document:e,user:t});return(0,i.useCallback)(async()=>{await n(W.q.QUIZ_VIDEO_CTA_CLICKED,r)},[r,n])})(B,m?.user),N=((e,t)=>{let n=(0,_.jt)(),r=ih({document:e,user:t});return(0,i.useCallback)(async()=>{await n(W.q.AI_AUDIO_CTA_CLICKED,r)},[r,n])})(B,m?.user),{generateQuiz:Q}=((e,t)=>{let n=(0,en.i)(),{mutateAsync:r,...i}=(0,tz.useMutation)({mutationFn:e=>{let{documentId:t,quizType:r}=e;return(r===ix.MULTIPLE_CHOICE?iv.f:iR.x)(t,n)},mutationKey:iD,onError(t){e()},onSuccess(e){let{data:n}=e;t(n)}});return{generateQuiz:r,...i}})(()=>{b(e=>({...e,isFailedQuiz:!0,isGeneratingQuiz:!1})),D||E()},e=>{if(T(I,e.id),b(e=>({...e,isReadyQuiz:!0})),D){let n=y?{flashcardsId:e.id}:{quizId:e.id};c.push(u.route(y?"flashcards.show":"quizzes.show",{slug:(0,id.V)(t.title),...n}))}else{b(e=>({...e,isGeneratingQuiz:!1}));let t=y?"flashcard":"quiz";x(n=>({...n,[t]:e.id}))}}),U=e=>{switch(e){case ix.MULTIPLE_CHOICE:k();break;case ix.FLASHCARD:S()}},P=async e=>{w(e),O(e),U(e)},O=async e=>{if(C.isGeneratingQuiz)return E();b(e=>({...e,isFailedQuiz:!1,isGeneratingQuiz:!0})),E(),await Q({documentId:t.id,quizType:e})};return h?(0,r.jsxs)(r.Fragment,{children:[v&&(0,r.jsx)(iK,{isFailed:C.isFailedQuiz,isGenerating:C.isGeneratingQuiz,onHide:R,onRetry:()=>O(g),show:D}),(0,r.jsx)(iZ,{handleAIAudioClick:()=>{N();let e=u.route("notes-to-audios.landing",{documentId:t?.id,type:"lesson"});window.open(e,"_blank")},handleAIQuizClick:P,handleCropClick:()=>{(0,tm.w)(eI.Cj.TOGGLE_CROP_TO_AI,{origin:"Topbar"})},handleDropdownClicked:e=>{e&&j()},handleQuizVideoClick:()=>{M();let e=u.route("notes-to-videos.landing",{documentId:t?.id});window.open(e,"_blank")},handleTrackAIQuizLinkClick:U,isCropToAskAIEnabled:p,practiceMaterials:f,quizRetrieveState:C,showAIQuiz:h,showAiQuizTooltip:a,slug:t.slug,topbarState:s})]}):null}),i$={DOCUMENT:"Viewer"};var iX=n(78588),i0=n(79601),i1=n(71683);let i2=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,en.i)(),{data:r,isLoading:i,refetch:o}=(0,i0.c5)(n,{limit:100},{query:{enabled:t}}),a=(r?.data||[]).map(e=>{let{studylist:t}=e;return t.id}).join(),{data:s,isLoading:l,refetch:c}=(0,i1.UY)({ids:a,limit:100},n,{query:{enabled:""!==a,queryKey:["useGetUsersStudylists"]}}),{data:u,isLoading:d,refetch:A}=(0,tz.useQuery)({enabled:""!==a,queryFn:()=>(0,iX.v)(n,{limit:100}),queryKey:["getMeStudylistsDocumentsQueryKey"]});return{invalidateQueries:async()=>{await o(),await c(),await A()},isLoading:i||l||d,userStudylists:(s?.data||[]).map(t=>({...t,isDocumentSaved:(u?.data??[]).findIndex(n=>n.studylist.id===t.id&&n.document.id===e)>=0}))}};var i5=n(13514),i3=n(55544);let i4={SaveDocumentClicked:"Save Document Clicked"};var i6=n(16191),i7=n.n(i6);let i9={height:20,width:24},i8=e=>{let{document:t,onSaveClick:n,topbarState:o}=e,a=(0,I.u)(),{currentPage:s}=(0,r_.a)(),{handleClick:c,isDocumentSaved:u}=(e=>{let{currentPage:t,document:n,materialType:r,origin:o,source:a}=e,{session:{user:s}}=(0,l.K)(),{isDocumentSaved:c,userStudylists:u}=((e,t)=>{let{userStudylists:n}=i2(e,t);return{isDocumentSaved:n.some(e=>e.isDocumentSaved),userStudylists:n}})(n.id,!!s),d=(e=>{let{currentPage:t,document:n,materialType:r,origin:o,source:a,userStudylistCount:s}=e,{session:{user:c}}=(0,l.K)(),u=(()=>{let e=(0,_.jt)(),t=(0,w.A)(),n=(0,n_.A)();return(0,i.useCallback)(async r=>{let{currentPage:i,document:o,materialType:a,origin:s,source:l,user:c,userStudylistCount:u}=r,d=await n({documentId:o.id}),A={...(0,i3.f)({document:o,downloadsCount:c?.downloadsCount,extraTrackingData:d}),...u?{"User Studylist Count":u}:void 0,...l&&{Source:l},...s&&{"Click Origin":s},"Current Document Page":i};return Promise.all([e(i4.SaveDocumentClicked,A),...a===i$.DOCUMENT?[t(o.id,i4.SaveDocumentClicked)]:[]])},[t,n,e])})();return()=>{u({currentPage:t,document:n,materialType:r,origin:o,source:a,user:c,userStudylistCount:s})}})({currentPage:t,document:n,materialType:r,origin:o,source:a,userStudylistCount:u?.length??0});return{handleClick:()=>{if(d(),!s){(0,F.zA)({name:N.L.SAVE_DOCUMENT,payload:{documentId:n.id}}),(0,nm.fj)({modalType:"authenticateSaveDocument"});return}(0,nm.fj)({additionalData:{origin:i5.G.VIEWER_BANNER_SAVE_DOCUMENT},modalType:"save"})},isDocumentSaved:c}})({currentPage:s,document:t,materialType:i$.DOCUMENT,origin:"Top Bar"}),{RiveComponent:d}=eV({animationName:"bookmark",inputName:"Saved",stateMachineName:"bookmarkMachine",value:u});return(0,r.jsx)(eP.$,{addon:(0,r.jsx)(d,{style:i9}),"aria-label":u?a.get("saved"):a.get("save"),className:ed()(i7().button,"compact"!==o&&i7().withMinWidth),color:"white",onClick:()=>{c(),n?.()},rel:"nofollow",round:!0,size:"medium",children:(0,r.jsx)("div",{className:i7().saveButtonContainer,children:"compact"!==o&&(0,r.jsx)(ef.A,{id:u?"saved":"save"})})})};var oe=n(64442);let ot=e=>{let{documentId:t,onShareClick:n,origin:i="Top Bar"}=e,o=(0,I.u)(),{currentPage:a}=(0,r_.a)(),s=(0,oe.n)(t,i);return(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{color:"neutral-80",icon:eU.MNJ}),"aria-label":o.get("share_the_document"),color:"white",onClick:()=>{n?.(),s(a)},rel:"nofollow",round:!0,size:"medium"})};var on=n(45447),or=n.n(on);let oi=function(e){let{handleInfoClick:t,topbarState:n}=e,i=(0,I.u)(),o="compact"===n,a={addon:(0,r.jsx)(ej.I,{color:"neutral-80",icon:nH.iW_}),"aria-label":i.get("open_top_bar"),color:"open"===n?"gray":"white",onClick:t,size:"medium"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,t_.R)("on-mobile"),children:(0,r.jsx)(eP.$,{...a,round:o,children:!o&&(0,r.jsx)("div",{className:ed()(or().chevronIconWrapper,(0,t_.R)("on-mobile")),children:(0,r.jsx)(ej.I,{color:"neutral-80",icon:"open"===n?nH.w2A:nH.Jt$})})})}),(0,r.jsx)("div",{className:(0,t_.R)("from-tablet"),children:(0,r.jsx)(eP.$,{...a,round:!0})})]})};var oo=n(40850),oa=n.n(oo);let os=function(e){let{activeSubscription:t,areRatingButtonsDisabled:n,document:o,documentAbilities:a,handleHideRateDiscoveryModal:s,handleShowRateDiscoveryModal:l,isButtonEnabled:c,isShowingRateDiscoveryModal:u,onInfoClick:d,onRateClick:A,practiceMaterials:m,ratingPopoverVariant:p,ratings:_,topbarState:h,upgradePaymentPlan:g,userRating:w,userStage:C}=e,b="compact"===h,[f,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{x(window.matchMedia("(max-width: 1200px)").matches)},[]);let R=e=>{!n&&c&&0===w&&A(eG.POSITIVE,e)};return(0,r.jsxs)("div",{className:ed()(oa().actionsWrapper),children:[(0,r.jsxs)("div",{className:oa().secondaryActionsWrapper,children:[(0,r.jsx)(iu.A,{activeSubscription:t,document:o,documentAbilities:a,onDownloadClick:()=>R(eL.DOCUMENT_DOWNLOAD_AUTOMATIC),origin:"topbar",showTextOnMobile:!b,upgradePaymentPlan:g,userStage:C}),(0,r.jsx)(iq,{document:o,documentAbilities:a,practiceMaterials:m,showAiQuizTooltip:f,topbarState:h})]}),(0,r.jsxs)("div",{className:oa().mainActionsWrapper,children:[(0,r.jsx)("div",{className:ed()(oa().ratingButtonsWrapper,b?oa().ratingButtonsCompact:(0,t_.R)("on-mobile","on-tablet")),children:(0,r.jsx)(to,{document:o,handleHideRateDiscoveryModal:s,handleShowRateDiscoveryModal:l,isButtonEnabled:c,isShowingRateDiscoveryModal:u,onRateClick:e=>A(e,eL.TOP_BAR),ratingOrigin:eL.TOP_BAR,ratingPopoverVariant:p,ratings:_,readOnly:n,userRating:w,variant:"compact",withTooltip:!0})}),(0,r.jsx)(i8,{document:o,onSaveClick:()=>R(eL.DOCUMENT_SAVE_AUTOMATIC),topbarState:h}),(0,r.jsx)(ot,{documentId:o.id,onShareClick:()=>R(eL.DOCUMENT_SHARE_AUTOMATIC)}),(0,r.jsx)("div",{className:ed()(b&&(0,t_.R)("on-mobile")),children:(0,r.jsx)(oi,{handleInfoClick:d,topbarState:h})})]})]})};var ol=n(92376),oc=n(15405),ou=n.n(oc);function od(e){let{course:t,documentId:n,isPremium:i,isPreviewMode:o,title:a,topbarState:s,userIsPremium:c,userStage:d}=e,{ab:A}=(0,l.K)(),m=A.find(e=>"testShowCourseInCompactTopbar"===e.test)?.variant==="Show"&&t&&"compact"===s,p=t?(0,u.Sm)(t):"",_=p.length>20&&a.length>30||p.length>35;return(0,r.jsxs)("section",{className:ou().titleWrapper,children:[i&&(o||c)&&(0,r.jsx)(ol.A,{className:ed()("compact"===s&&(0,t_.R)(),(0,t_.R)("from-desktop")),documentId:n,position:"inline",userStage:d,withTooltip:!0}),(0,r.jsxs)("div",{className:ed()(ou().titleInlineWrapper,"open"!==s&&ou().noWrap),children:[m&&(0,r.jsxs)("div",{className:ed()(ou().courseLinkWrapper,(0,t_.R)("on-mobile","on-tablet")),children:[(0,r.jsx)(td,{className:ed()(ou().noWrap,_&&ou().truncatedCourseLink),course:t}),(0,r.jsx)(ej.I,{icon:eU.XkK,size:"1.25x"})]}),(0,r.jsx)(eE.E,{as:"h1",color:"title",truncate:"open"!==s,variant:"compact"===s?"title-large":"title-xxlarge",children:a}),i&&(o||c)&&(0,r.jsx)(ol.A,{className:ed()("compact"===s&&(0,t_.R)(),(0,t_.R)("on-mobile","on-tablet")),documentId:n,position:"top",userStage:d,withTooltip:!0})]})]})}var oA=n(11814);let om=e=>{let t=new CustomEvent(ea.H,{detail:e});window.dispatchEvent(t)};var op=n(61875),o_=n.n(op);function oh(e){let{activeSubscription:t,areRatingButtonsDisabled:n,document:o,documentAbilities:a,handleHideRateDiscoveryModal:s,handleRating:c,handleShowRateDiscoveryModal:u,isButtonEnabled:d,isShowingRateDiscoveryModal:A,originalTitle:m,practiceMaterials:p,ratingPopoverVariant:h,ratings:g,upgradePaymentPlan:w,userRating:C,userReportedDocument:b,userStage:f}=e,{session:x}=(0,l.K)(),{closeTopbar:R,compactTopbar:v,openTopbar:D,topbarState:E}=rF(),{academicYear:B}=(e=>{let t=e.additionalDetails.academicYear;return(0,i.useMemo)(()=>({academicYear:t}),[t])})(o),y=(0,i.useRef)(!1),I=(0,i.useRef)(null),S=(0,i.useRef)(null),[k,j]=(0,i.useState)(!1),T=(0,ey.oc)()?window.document:null,M=(0,_.jt)(),N=o.isPreviewMode&&o.numberOfPages>1;(e=>{let{topBarRef:t,topBarState:n,topBarWrapperRef:r}=e,[o,a]=(0,i.useState)(t.current?.clientHeight||0),[s,l]=(0,i.useState)(t.current?.clientHeight||0);(0,i.useEffect)(()=>{let e=new ResizeObserver(e=>{"open"!==n&&("closed"===n&&l(e[0].contentRect.height),a(e[0].contentRect.height),om({topBarHeight:e[0].contentRect.height}))});return t.current&&e.observe(t.current),()=>{e.disconnect()}},[t,n]),(0,i.useEffect)(()=>{0!==o&&document.body.style.setProperty(o_().topBarHeightVarName,`${o}px`)},[o]),(0,i.useEffect)(()=>{0!==s&&r.current&&r.current.style.setProperty(o_().topBarClosedHeightVarName,`${s}px`)},[s,r])})({topBarRef:I,topBarState:E,topBarWrapperRef:S});let Q=(0,i.useCallback)(()=>{y.current?v():R()},[v,R]),U=(0,i.useCallback)(()=>{"open"===E?Q():(M(W.q.MORE_INFO_CLICKED),D())},[Q,D,E,M]),P=(0,rb.w)(()=>{y.current=!0,v()}),O=(0,rb.w)(()=>{y.current=!1,R()});(0,eB.M)(eI.Cj.DOCUMENT_REACHED_TOP_OF_VIEWPORT,P,T,{singleHandler:!0}),(0,i.useEffect)(()=>{k&&"closed"!==E&&v()},[R,v,k,E]);let F=(0,i.useCallback)(e=>{let{isSelectionModeOn:t}=e.detail;j(t)},[j]);(0,eB.M)(eI.Cj.TOGGLE_CROP_TO_AI_SELECTION_MODE,F,(0,ey.oc)()?window.document:null),(0,eB.M)(eI.Cj.DOCUMENT_BACK_TO_VIEWPORT,O,T,{singleHandler:!0}),(0,eB.M)(eI.Cj.TOGGLE_TOPBAR,U,T,{singleHandler:!0});let V={course:o.course,documentId:o.id,isPremium:o.isPremium,isPreviewMode:o.isPreviewMode,title:o.title,userIsPremium:x.user?.isPremium,userStage:f},L={activeSubscription:t,areRatingButtonsDisabled:n,document:o,documentAbilities:a,handleHideRateDiscoveryModal:s,handleShowRateDiscoveryModal:u,isButtonEnabled:d,isShowingRateDiscoveryModal:A,onInfoClick:U,onRateClick:(e,t)=>c(e,t),practiceMaterials:p,ratingPopoverVariant:h,ratings:g,topbarState:E,upgradePaymentPlan:w,userRating:C,userStage:f};return(0,r.jsxs)("section",{className:ed()(o_().topbarWrapper,{[o_().compact]:"compact"===E,[o_().open]:"open"===E}),ref:S,children:[(0,r.jsx)("div",{ref:I,children:"closed"===E||"open"===E?(0,r.jsxs)("header",{className:o_().topbar,children:[(0,r.jsx)(od,{...V,topbarState:E}),(0,r.jsx)(ic,{academicYear:B,course:o.course,documentUser:o.user,institution:o.institution,isVisible:!0}),(0,r.jsx)(os,{...L}),(0,r.jsxs)("div",{className:ed()("open"!==E&&(0,t_.R)()),children:[(0,r.jsx)(rG,{areRatingButtonsDisabled:n,document:o,handleHideRateDiscoveryModal:s,handleRating:c,handleShowRateDiscoveryModal:u,isButtonEnabled:d,isShowingRateDiscoveryModal:A,ratings:g,userRating:C}),o.description.trim().length>0&&!o.aiSummary?.summary&&(0,r.jsx)("div",{className:o_().documentDescription,children:(0,r.jsx)(eE.E,{as:"p",color:"default",variant:"body-medium",children:o.description})}),m&&(0,r.jsx)(rN,{title:m}),(0,r.jsx)("section",{className:o_().metadataWrapper,children:(0,r.jsx)(r9,{academicYear:B,categoryId:o.categoryId,documentUser:o.user,institution:o.institution})})]}),(0,r.jsx)("div",{className:ed()(o_().reportSection,"open"!==E&&(0,t_.R)()),children:(0,r.jsx)(nb,{document:o,userReportedDocument:b,variant:"top"})}),N&&(0,r.jsx)(rP,{isVisible:"closed"===E})]}):(0,r.jsxs)("header",{className:o_().topbar,children:[(0,r.jsx)(od,{...V,topbarState:"compact"}),(0,r.jsx)(os,{...L})]})}),(0,r.jsx)(rj.h,{layer:"layerBase4",onHide:Q,show:"open"===E})]})}var og=n(78773),ow=n(14722),oC=n(79143),ob=n.n(oC);function of(e){let{isWideVariant:t=!1}=e,n=[{id:"all_document_access"},{id:"unlimited_downloads"},{id:(0,ow.D)()?"read_without_ads":"improve_grades"}];return(0,r.jsx)("ul",{className:ed()(ob().benefitsList,{[ob().wideVariant]:t}),children:n.map(e=>e.id&&(0,r.jsx)("li",{className:ob().benefit,children:(0,r.jsxs)(eb.Z,{className:ob().benefitText,color:"white",component:"p",size:"small",weight:"medium",children:[(0,r.jsx)(ej.I,{color:"white",icon:eU.e68,size:"1x"}),(0,r.jsx)(ef.A,{id:e.id})," ",e.withNewTag&&(0,r.jsx)(og.v,{color:"duotone-pink",size:"small",children:(0,r.jsx)(ef.A,{id:"new"})})]})},e.id))})}var ox=n(58455),oR=n.n(ox);let ov=eC()(()=>Promise.resolve().then(n.bind(n,33730)),{loadableGenerated:{webpack:()=>[33730]}}),oD=function(e){let{ctaLinkClass:t,documentId:n,textColor:o="white",textHaveAccount:a="registration_have_account",textSignIn:s="registration_sign_in"}=e,l=(0,w.A)(),[c,u]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{u(!0),l(n,W.q.PREVIEW_BANNER_CTA_CLICKED)},[n,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eb.Z,{className:oR().signIn,color:o,component:"div",children:[(0,r.jsx)(ef.A,{id:a,wrapWithSpan:!0}),(0,r.jsx)(eP.$,{className:ed()(oR().button,t),color:"white"===o?"white":"gray",onClick:d,size:"medium",variant:"plain",children:(0,r.jsx)(ef.A,{id:s})})]}),(0,r.jsx)(ov,{onHide:()=>u(!1),origin:ek.C.PreviewBanner,show:c,variant:"login"})]})};var oE=n(21166),oB=n(29483),oy=n.n(oB);let oI=e=>{let{children:t,className:n,isInline:i,isWideVariant:o=!1,testSelector:a="document-viewer-preview-message"}=e;return(0,r.jsx)("div",{className:ed()({[oy().overflowWrapper]:!i,[oy().wideVariant]:o},n),children:(0,r.jsxs)("div",{className:ed()(oy().blobContainer),children:[(0,r.jsx)(oE.y,{className:ed()(oy().blobOutside,oy().firstBlob),color:"lime",shape:"drop-three",width:110}),(0,r.jsx)(oE.y,{className:ed()(oy().blobOutside,oy().secondBlob),color:"light-blue",shape:"nail-three",width:134}),(0,r.jsx)(oE.y,{className:ed()(oy().blobOutside,oy().thirdBlob),color:"purple",shape:"drop-two",width:151}),(0,r.jsx)("div",{className:ed()(oy().previewBanner,{[oy().inViewer]:i}),children:t}),(0,r.jsx)(oE.y,{className:ed()(oy().blobOutside,oy().fourthBlob),color:"pink",shape:"pick-two",width:50})]})})};var oS=n(92251),ok=n(46066),oj=n(12133),oT=n(23664),oM=n(32276),oN=n(41237),oQ=n.n(oN);let oU=e=>{let{ctaHeaderText:t="upload",ctaSubtitleText:n="share_and_unlock_documents",icon:i}=e,{meta:{detectedCountry:o,formatLanguage:a},session:{userCountryIdWithFallback:s}}=(0,l.K)(),c=(0,oM.B)(s,a),u=(0,oT.A)(0,o?.currency.code??"USD",c),d=(0,oj.G)();return(0,r.jsxs)("div",{className:oQ().premiumBannerContent,children:[(0,r.jsx)("div",{className:oQ().icon,children:i}),(0,r.jsxs)("div",{className:oQ().iconText,children:[(0,r.jsx)(eb.Z,{align:"left",className:oQ().iconHeaderText,component:"p",size:"extra-big",weight:"bold",children:(0,r.jsx)(ef.A,{id:t,variables:{currency:u}})}),(0,r.jsx)(eb.Z,{align:"left",className:oQ().iconParagraphText,component:"p",weight:"medium",children:(0,r.jsx)(ef.A,{id:n,variables:{n:d}})})]})]})};var oP=n(58146),oO=n(54071),oF=n(4426);let oV=e=>{let{children:t,className:n,color:o,dataTestSelector:a="document-preview-message-upgrade-button",documentId:s,onHide:c,onShow:u,userStage:d}=e,{ab:A,session:{permissions:m}}=(0,l.K)(),{route:p}=(0,im.Y)(),h=(0,tg.b)(),g=(e=>{let{ab:t}=(0,l.K)(),n=(0,_.jt)();return(0,i.useCallback)(async(r,i)=>{let o=t.find(e=>{let{test:t}=e;return"testAATest"===t});await n("Premium Banner Button Clicked",{"Click Origin":r,"Document ID":e,...i&&{"User Stage":i},...o?.variant&&{"Test A/A test":o.variant}})},[t,n,e])})(s),C=(0,w.A)(),b=m?.canHaveTrial,f=p(b?"payment.trial.create":"payment.create",{doc:s,next:!0}),x=A.find(e=>{let{test:t}=e;return"toggleNextJsPaymentModal"===t})?.variant==="Enabled",{hideAndRemoveModal:R,isShowingModal:v,renderAndShowModal:D}=(0,iA.A)(),E=(0,i.useCallback)(async()=>{C(s,W.q.PREVIEW_BANNER_CTA_CLICKED),g(b?"Free Trial":"Pay button",d),x?(u?.(),D(),(0,oF.TU)(oO.cH.PREMIUM_BANNER)):await h.push(f)},[C,s,g,b,d,x,u,D,h,f]),B=(0,i.useCallback)(()=>{c?.(),R(),(0,oF.yT)()},[R,c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eP.$,{className:n,color:o,onClick:E,testSelector:a,children:t}),v&&(0,r.jsx)(oP.A,{onHide:B,paymentOrigin:oO.H5.DOCUMENT_VIEWER,userStage:d})]})},oL=function(e){let{children:t,className:n,color:i,onUploadClick:o,testSelector:a,uploaderRouteWithOrigin:s}=e,l=(0,ta.A)(s,ok.x.DOCUMENT_VIEWER_UPLOAD_MODAL);return(0,r.jsx)(eP.$,{as:"a",className:n,color:i,href:l,onClick:o,size:"medium",testSelector:a,children:t})};var oG=n(18429),oH=n(10686),oz=n(22105);let oW={Pay:{primaryButtonTestSelector:"preview-banner-upgrade-first-cta",secondaryButtonTestSelector:"preview-banner-upload-second-cta"},Upload:{primaryButtonTestSelector:"preview-banner-upload-first-cta",secondaryButtonTestSelector:"preview-banner-upgrade-second-cta"}},oY={Churned:{ctaHeaderText:"get_back_to_premium",ctaSubtitleText:"restart_your_subscription"},"No trial":{ctaHeaderText:"upgrade",ctaSubtitleText:"become_premium"},Trial:{ctaHeaderText:"free_trial",ctaSubtitleText:"get_n_days_of_free_premium"},"Unlock For $0":{ctaHeaderText:"unlock_for_0",ctaSubtitleText:"get_n_days_of_free_premium"}};var oJ=n(73351),oZ=n.n(oJ);function oK(e){let{className:t,documentId:n,isSecondaryCTA:i=!1,isUserChurned:o,previewCTA:a,testSelector:s,userStage:c}=e,{buttonTranslations:u,onUploadClick:d,uploaderRouteWithOrigin:A}=(e=>{let{documentId:t,isUserChurned:n,origin:r=ok.x.DOCUMENT_VIEWER_UPLOAD_MODAL}=e,{ab:i,session:{permissions:o}}=(0,l.K)(),a=o?.canHaveTrial,s=i.find(e=>"testUnlockPremiumFor$0"===e.test),c=s?.variant==="Premium Banner"||s?.variant==="Both",{onClick:u,uploaderRouteWithOrigin:d}=(0,oz.y)({clickOrigin:r,documentId:t});return{buttonTranslations:n?oY.Churned:a?c?oY["Unlock For $0"]:oY.Trial:oY["No trial"],onUploadClick:e=>{oG.g.setItem(oH.r.MOST_RECENTLY_VIEWED_DOCUMENT,window.location.href,oG.K),u(e)},uploaderRouteWithOrigin:d}})({className:t,documentId:n,isUserChurned:o,origin:ok.x.DOCUMENT_VIEWER_UPLOAD_MODAL}),m=i?"turquoise":"lime";if("Pay"===a){let{ctaHeaderText:e,ctaSubtitleText:t}=u,o=i?"inverted-green":"green";return(0,r.jsx)(oV,{className:ed()(oZ().bannerButton,{[oZ().secondaryButton]:i}),color:m,dataTestSelector:s,documentId:n,userStage:c,children:(0,r.jsx)(oU,{ctaHeaderText:e,ctaSubtitleText:t,icon:(0,r.jsx)(oS.i,{color:o,size:"2.5x"})})})}return(0,r.jsx)(oL,{className:ed()(oZ().bannerButton,{[oZ().secondaryButton]:i}),color:m,onUploadClick:d,testSelector:s,uploaderRouteWithOrigin:A,children:(0,r.jsx)(oU,{icon:(0,r.jsx)(ej.I,{icon:eS.rk5,size:"2.5x"})})})}var oq=n(31573),o$=n.n(oq);let oX=e=>{let{documentId:t,isUserChurned:n,isWideVariant:i=!1,pausedSubscription:o,previewCTA:a,showResumeModal:s,userStage:l}=e,{primaryButtonTestSelector:c,secondaryButtonTestSelector:u}=oW[a];return o?(0,r.jsx)(eP.$,{color:"lime",onClick:s,size:"large",testSelector:"preview-banner-unpause-subscription-banner",children:(0,r.jsxs)("div",{className:o$().resumeSubscriptionButton,children:[(0,r.jsx)(oS.i,{size:"2.5x"}),(0,r.jsxs)("div",{className:o$().resumeSubscriptionButtonText,children:[(0,r.jsx)(eE.E,{alignment:"start",as:"span",variant:"title-large",children:(0,r.jsx)(ef.A,{id:"resume_subscription"})}),(0,r.jsx)(eE.E,{alignment:"start",as:"span",variant:"body-small",children:(0,r.jsx)(ef.A,{id:"and_get_1_month_discount"})})]})]})}):(0,r.jsxs)("div",{className:ed()(o$().premiumBannerButtons,{[o$().wideVariant]:i}),children:[(0,r.jsx)(oK,{documentId:t,isUserChurned:n,previewCTA:a,testSelector:c,userStage:l}),(0,r.jsx)(oK,{documentId:t,isSecondaryCTA:!0,isUserChurned:n,previewCTA:"Pay"===a?"Upload":"Pay",testSelector:u,userStage:l})]})};var o0=n(65163),o1=n.n(o0);let o2=e=>{let{isUserChurned:t,pausedSubscription:n}=e;return(0,r.jsxs)("div",{className:o1().header,children:[(0,r.jsx)(ej.I,{color:"white",icon:eS.YpQ,size:"2x"}),(0,r.jsx)(eE.E,{color:"inverse",variant:"hero-small",children:(0,r.jsx)(ef.A,{id:n?"your_sub_is_paused":t?"no_subscription_anymore":"this_preview"})})]})};var o5=n(53069),o3=n.n(o5);let o4=e=>{let{isUserChurned:t,pausedSubscription:n,totalPages:i}=e;return n?(0,r.jsx)("div",{className:o3().subHeader,children:(0,r.jsx)(eb.Z,{align:"center",color:"white",children:(0,r.jsx)(ef.A,{id:"resume_your_sub_get_access_to_doc"})})}):t?(0,r.jsx)(eb.Z,{align:"center",color:"white",children:(0,r.jsx)(ef.A,{id:"restart_for_access"})}):(0,r.jsxs)("div",{className:o3().subHeader,children:[(0,r.jsx)(eb.Z,{align:"center",color:"white",size:"normal",children:(0,r.jsx)(ef.A,{id:"full_access"})})," ",(0,r.jsx)(eb.Z,{align:"center",color:"white",size:"normal",children:(0,r.jsx)(ef.A,{id:i<=1?"unlock_page":"unlock_pages",variables:{x:i}})})]})};var o6=n(69263),o7=n.n(o6);let o9=eC()(()=>Promise.all([n.e(4621),n.e(4270)]).then(n.bind(n,74270)),{loadableGenerated:{webpack:()=>[74270]}}),o8=(0,i.memo)(e=>{let{activeSubscription:t,documentId:n,isInline:i,isUserActivated:o,isUserChurned:a,isUserLoggedIn:s,pausedSubscription:l,previewCTA:c,totalPages:u,userStage:A}=e,{setFalse:m,setTrue:p,value:_}=(0,tt.C)(!1),h=!(0,d.gD)(l)&&!(0,d.gD)(t?.id)&&!(0,d.gD)(t?.paymentMethod?.brandCode);return(0,r.jsxs)(oI,{className:ed()({[o7().isFloating]:!i}),isInline:i,isWideVariant:!0,testSelector:`${i?"inline":"modal"}-document-viewer-preview-message`,children:[(0,r.jsx)(o2,{isUserChurned:a,pausedSubscription:l}),(0,r.jsx)(o4,{isUserChurned:a,pausedSubscription:l,totalPages:u}),(0,r.jsx)(of,{isWideVariant:!0}),(0,r.jsx)(oX,{documentId:n,isUserChurned:a,isWideVariant:!0,pausedSubscription:l,previewCTA:c,showResumeModal:p,userStage:A}),!s&&(0,r.jsx)("div",{className:o7().footer,children:(0,r.jsx)(oD,{documentId:n,textColor:"white",textHaveAccount:"already_premium",textSignIn:"log_in"})}),h&&(0,r.jsx)(o9,{activeSubscription:t,isUserActivated:o,onHide:m,origin:"Viewer - Overlay",pausedSubscription:l,show:_,showIncludingThisDocumentText:!0})]})}),ae=(0,i.memo)(e=>{let{activeSubscription:t,document:{id:n,isPreviewMode:i,numberOfPages:o,previewCTA:a},isInline:s=!1,userStage:c}=e,{session:{user:u}}=(0,l.K)();return i?(0,r.jsx)(o8,{activeSubscription:t,documentId:n,isInline:s,isUserActivated:!!u?.institution,isUserChurned:!!u?.isChurned,isUserLoggedIn:!!u,pausedSubscription:t?.pause,previewCTA:a,totalPages:o,userStage:c}):null});var at=n(42644),an=n(57428),ar=n(42813),ai=n(91787),ao=n(21426),aa=n(46014),as=n(89991);let al=()=>{let[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{ab:o}=(0,l.K)(),{data:a,isLoading:s}=(0,ao.s)(),{activeElement:c}=(0,ai.m)(),u=(0,aa.Xc)(),d=(0,as.A)(),A=(0,v._)(o,"testAppGenericBannerInMobileDocViewerV2");return(0,e2.E)(()=>{if((0,aa.qV)())return void r(!0);let e=0,t=setInterval(()=>{(0,aa.qV)()?(r(!0),clearInterval(t)):++e>=20&&(r(!1),clearInterval(t))},100);return()=>{clearInterval(t)}},[]),(0,e2.E)(()=>{if(!(e=>"Control"!==e&&("Test 1"===e?(()=>{try{let e=(0,T.getCookie)(G.AF.APP_BANNER_DISMISSED_COOKIE);if(!e)return!0;let t=parseInt(e,10);if(isNaN(t))return(0,T.deleteCookie)(G.AF.APP_BANNER_DISMISSED_COOKIE),!0;return!1}catch(e){return console.error("Error checking app banner cookie:",e),!1}})():"Test 2"===e&&(()=>{try{let e=(0,T.getCookie)(G.AF.APP_BANNER_VIEW_COUNT);if(!e)return!0;return JSON.parse(e).show}catch(e){return console.error("Error parsing app banner view count cookie:",e),!1}})()))(A)||!n||"desktop"===d)return void t(!1);let e=!s&&a?.currentAlertBarType;if(s||e||c===P.L.PAYMENT_SUCCESS||c===P.L.PAYMENT_FAILURE||u)return void t(!1);t(!0)},[A,a?.currentAlertBarType,c,u,s,n,d]),{dismiss:(0,i.useCallback)(()=>{(e=>{if("Test 1"===e)try{let e=Date.now().toString();(0,T.setCookie)(G.AF.APP_BANNER_DISMISSED_COOKIE,e,{maxAge:432e3})}catch(e){console.error("Error setting app banner dismissal cookie:",e)}else if("Test 2"===e)try{let e=(0,T.getCookie)(G.AF.APP_BANNER_VIEW_COUNT);if(!e)return;let t=JSON.parse(e);"number"==typeof t.dismissCount?t.dismissCount=t.dismissCount+1:t.dismissCount=1,t.show=!1,(0,T.setCookie)(G.AF.APP_BANNER_VIEW_COUNT,JSON.stringify(t),{maxAge:G.c7})}catch(e){console.error("Error parsing app banner view count cookie:",e)}})(A),t(!1)},[t,A]),isVisible:e}};var ac=n(48909),au=n(96871),ad=function(e){return e.STANDARD_IAB_HEAD1="standard_iab_head1",e}({});let aA={standard_iab_head1:"small-leaderboard"},am={"studeersnel.nl":"76685","studocu.com":"76170","studocu.id":"76686","studocu.vn":"76687"},ap=e=>{window?.ramp?.destroyUnits&&window.ramp.destroyUnits(e),document.body.classList.remove("ads-enabled")};function a_(e){let{isPreviewMode:t}=e,n=(0,_.jt)(),{meta:o}=(0,l.K)(),{height:s,width:c}=(0,an.G)(),{topbarState:u}=rF(),d=(0,i.useRef)(null),[A,m]=(0,i.useState)(!1),{isVisible:p}=al(),h=(()=>{let e=(0,au.M)(aa.Cq),[t,n]=(0,i.useState)(()=>(0,aa.xA)());return(0,i.useEffect)(()=>{n((0,aa.xA)())},[e]),(0,i.useEffect)(()=>{let e=(0,aa.qV)();e?.OnConsentChanged&&e.OnConsentChanged(()=>{n((0,aa.xA)())})},[]),t})()[ac.u["Targeting Cookie Consent"]];(0,i.useEffect)(()=>{A||(window.ramp=window.ramp||{},window.ramp.que=window.ramp.que||[],window.ramp.privacy=window.ramp.privacy||{},window.ramp.passiveMode=!0)},[A]),(0,i.useEffect)(()=>{if(!A||!s||!c)return;if(p){ap("all"),d.current=null;return}let e=(e=>{let{height:t,isPreviewMode:n,topBarState:r,width:i}=e;return i<=767?t<=667&&"compact"!==r?null:ad.STANDARD_IAB_HEAD1:n?i>1200?t<=800?null:t>850||"compact"===r?ad.STANDARD_IAB_HEAD1:null:i>767&&i<=1200&&t>800&&"compact"===r?ad.STANDARD_IAB_HEAD1:null:ad.STANDARD_IAB_HEAD1})({height:s,isPreviewMode:t,topBarState:u,width:c});if(null===e){ap("all"),d.current=null;return}e!==d.current&&(d.current&&ap(d.current),window?.ramp?.spaAds?(window.ramp.spaAds({ads:[{selectorId:aA[e],type:e}],countPageview:!0,path:window.location.pathname}),document.body.classList.add("ads-enabled")):(0,eo.w)(Error("No Ramp ad loading method available"),et.n.LOW),d.current=e)},[s,c,A,u,t,p]);let g=(0,i.useMemo)(()=>{let e=am[(0,ar.j6)(o.locale)]??am["studocu.com"];return`//cdn.intergient.com/1025592/${e}/ramp.js`},[o.locale]);return(0,r.jsx)(a(),{"data-cfasync":"false",onError:e=>{(0,eo.w)(Error("PlaywireScript: Failed to load script"),et.n.CRITICAL,{originalError:e})},onLoad:()=>{window.ramp&&window.ramp.que&&window.ramp.que.push(()=>{m(!0),n("Ads Script Loaded"),window?.ramp?.privacy&&(window.ramp.privacy.advertisementCookiesEnabled=h)})},src:g,strategy:"afterInteractive"})}function ah(e){let{isPreviewMode:t,shouldShowAds:n}=e,i=(0,aa.XY)();return n&&i?(0,r.jsx)(a_,{isPreviewMode:t}):null}var ag=n(56869),aw=n.n(ag);function aC(e){let{isPreviewMode:t,shouldShowAds:n,userStage:o}=e,a=(0,ow.D)(),{hideAndRemoveModal:s,isShowingModal:l,renderAndShowModal:c}=(0,iA.A)(),u=(0,i.useCallback)(async()=>{c(),(0,oF.TU)(oO.cH.ADS_CLOSE_BUTTON)},[c]),d=(0,i.useCallback)(()=>{s(),(0,oF.yT)()},[s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:aw().adBottomContainer,id:aA[ad.STANDARD_IAB_HEAD1],children:a&&(0,r.jsx)("div",{className:aw().closeButtonWrapper,children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:eU.GRI,size:"0.75x"}),color:"gray",onClick:u,size:"small",variant:"plain",children:(0,r.jsx)(ef.A,{id:"remove_ads"})})})}),(0,r.jsx)(ah,{isPreviewMode:t,shouldShowAds:n}),l&&(0,r.jsx)(oP.A,{onHide:d,paymentOrigin:oO.H5.ADS,userStage:o})]})}let ab=()=>(0,r.jsxs)("svg",{fill:"none",height:"141",viewBox:"0 0 146 141",width:"146",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#F6F7FB",height:"143.195",rx:"10.6601",width:"145",x:"0.0725098",y:"22.6487"}),(0,r.jsxs)("g",{clipPath:"url(#clip1_15951_2675)",children:[(0,r.jsx)("path",{d:"M19.6212 31.4553L20.2393 32.7842L21.5682 33.4023C21.6506 33.4435 21.7124 33.5259 21.7124 33.6186C21.7124 33.7216 21.6506 33.804 21.5682 33.8452L20.2393 34.4633L19.6212 35.7922C19.58 35.8746 19.4976 35.9261 19.4048 35.9261C19.3018 35.9261 19.2194 35.8746 19.1782 35.7922L18.5601 34.4633L17.2312 33.8452C17.1488 33.804 17.0973 33.7216 17.0973 33.6186C17.0973 33.5259 17.1488 33.4435 17.2312 33.4023L18.5601 32.7842L19.1782 31.4553C19.2194 31.3728 19.3018 31.311 19.4048 31.311C19.4976 31.311 19.58 31.3728 19.6212 31.4553Z",fill:"#F064FC"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M16.9417 32.8022L17.0512 32.7512H12.6036C11.8619 32.7512 11.285 33.3487 11.285 34.0698V41.9814C11.285 42.7231 11.8619 43.3 12.6036 43.3H17.878C18.5992 43.3 19.1966 42.7231 19.1966 41.9814V36.5694C18.9374 36.5111 18.7093 36.3442 18.5823 36.0902L18.5781 36.0818L18.0586 34.9649L16.9417 34.4454L16.9333 34.4412C16.613 34.281 16.4311 33.9601 16.4311 33.6186C16.4311 33.2715 16.627 32.9595 16.9333 32.8064L16.9417 32.8022ZM12.6036 35.7181C12.6036 35.9035 12.7479 36.0477 12.9333 36.0477H17.5484C17.7132 36.0477 17.878 35.9035 17.878 35.7181C17.878 35.5533 17.7132 35.3884 17.5484 35.3884H12.9333C12.7479 35.3884 12.6036 35.5533 12.6036 35.7181ZM12.6036 37.696C12.6036 37.8814 12.7479 38.0256 12.9333 38.0256H17.5484C17.7132 38.0256 17.878 37.8814 17.878 37.696C17.878 37.5312 17.7132 37.3663 17.5484 37.3663H12.9333C12.7479 37.3663 12.6036 37.5312 12.6036 37.696ZM12.6036 39.6739C12.6036 39.8593 12.7479 40.0035 12.9333 40.0035H15.5705C15.7353 40.0035 15.9001 39.8593 15.9001 39.6739C15.9001 39.5091 15.7353 39.3442 15.5705 39.3442H12.9333C12.7479 39.3442 12.6036 39.5091 12.6036 39.6739Z",fill:"#F064FC",fillRule:"evenodd"})]}),(0,r.jsx)("g",{clipPath:"url(#clip2_15951_2675)",children:(0,r.jsxs)("g",{clipPath:"url(#clip3_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#D3D9E0",height:"10.6599",rx:"2.66496",width:"25.9834",x:"8.57849",y:"50.1504"}),(0,r.jsx)("rect",{fill:"#D3D9E0",height:"10.6599",rx:"2.66496",width:"65.2916",x:"37.2268",y:"50.1504"}),(0,r.jsx)("rect",{fill:"#D3D9E0",height:"10.6599",rx:"2.66496",width:"43.9719",x:"105.183",y:"50.1504"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip4_15951_2675)",children:(0,r.jsxs)("g",{clipPath:"url(#clip5_15951_2675)",children:[(0,r.jsxs)("g",{clipPath:"url(#clip6_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"87.9438",x:"8.57849",y:"66.481"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"43.9719",x:"99.1873",y:"66.481"})]}),(0,r.jsxs)("g",{clipPath:"url(#clip7_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"35.977",x:"8.57849",y:"81.1382"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"29.9808",x:"47.2205",y:"81.1382"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"73.2865",x:"79.8663",y:"81.1382"})]}),(0,r.jsxs)("g",{clipPath:"url(#clip8_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"55.298",x:"8.57849",y:"95.7954"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"14.6573",x:"66.5415",y:"95.7954"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"50.6343",x:"83.8638",y:"95.7954"})]}),(0,r.jsxs)("g",{clipPath:"url(#clip9_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"35.977",x:"8.57849",y:"110.453"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"29.9808",x:"47.2205",y:"110.453"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"73.2865",x:"79.8663",y:"110.453"})]}),(0,r.jsxs)("g",{clipPath:"url(#clip10_15951_2675)",children:[(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"87.9438",x:"8.57849",y:"125.11"}),(0,r.jsx)("rect",{fill:"#E6EBEF",height:"10.6599",rx:"2.66496",width:"43.9719",x:"99.1873",y:"125.11"})]})]})})]}),(0,r.jsx)("g",{filter:"url(#filter0_d_15951_2675)",children:(0,r.jsxs)("g",{clipPath:"url(#clip11_15951_2675)",children:[(0,r.jsx)("path",{d:"M10.9475 14.1453C10.9475 6.83359 16.8749 0.90625 24.1866 0.90625H123.647C130.958 0.90625 136.886 6.83359 136.886 14.1453C136.886 21.4571 130.958 27.3844 123.647 27.3844H24.1866C16.8749 27.3844 10.9475 21.4571 10.9475 14.1453Z",fill:"#F6F7FB"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"4.93045",rx:"1.35587",width:"2.71175",x:"62.0725",y:"11.4409"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"16.024",rx:"1.35587",width:"2.71175",x:"67.1552",y:"5.89429"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"21.694",rx:"1.35587",width:"2.71175",x:"72.2377",y:"3.05933"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"7.6422",rx:"1.35587",width:"2.71175",x:"77.3203",y:"10.0852"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"4.93045",rx:"1.35587",width:"2.71175",x:"82.4028",y:"11.4409"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"3.45132",rx:"1.35587",width:"2.71175",x:"87.4855",y:"12.1807"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"10.354",rx:"1.35587",width:"2.71175",x:"92.5681",y:"8.72925"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"4.93045",rx:"1.35587",width:"2.71175",x:"97.6506",y:"11.4409"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"10.354",rx:"1.35587",width:"2.71175",x:"102.733",y:"8.72925"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"10.354",rx:"1.35587",width:"2.71175",x:"107.816",y:"8.72925"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"21.694",rx:"1.35587",width:"2.71175",x:"112.898",y:"3.05933"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"16.024",rx:"1.35587",width:"2.71175",x:"117.981",y:"5.89429"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"7.6422",rx:"1.35587",width:"2.71175",x:"123.064",y:"10.0852"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"7.6422",rx:"1.35587",width:"2.71175",x:"128.146",y:"10.0852"}),(0,r.jsx)("rect",{fill:"#F064FC",height:"4.93045",rx:"1.35587",width:"2.71175",x:"133.229",y:"11.4409"}),(0,r.jsx)("rect",{fill:"url(#paint0_linear_15951_2675)",height:"22",transform:"translate(13.0725 2.90625)",width:"67"}),(0,r.jsx)("path",{d:"M13.0725 13.9063C13.0725 7.23489 18.4807 1.82666 25.1521 1.82666C31.8235 1.82666 37.2317 7.23489 37.2317 13.9063C37.2317 20.5777 31.8235 25.9859 25.1521 25.9859C18.4807 25.9859 13.0725 20.5777 13.0725 13.9063Z",fill:"#E62600"}),(0,r.jsx)("path",{d:"M19.1124 9.83991C19.1124 8.7389 19.9932 7.82664 21.1257 7.82664H29.1787C30.2797 7.82664 31.192 8.7389 31.192 9.83991V17.893C31.192 19.0254 30.2797 19.9062 29.1787 19.9062H21.1257C19.9932 19.9062 19.1124 19.0254 19.1124 17.893V9.83991Z",fill:"white"}),(0,r.jsx)("path",{d:"M41.7042 17.4062V16.4433C42.146 16.0775 42.5739 15.7151 42.9881 15.3562C43.4091 14.9972 43.7819 14.6417 44.1063 14.2897C44.4376 13.9377 44.6999 13.596 44.8932 13.2647C45.0934 12.9264 45.1935 12.5986 45.1935 12.281C45.1935 11.9842 45.1106 11.7219 44.945 11.4941C44.7862 11.2664 44.5205 11.1525 44.1477 11.1525C43.7681 11.1525 43.4816 11.2767 43.2884 11.5252C43.0951 11.7737 42.9984 12.074 42.9984 12.426H41.7146C41.7284 11.8945 41.8457 11.4527 42.0666 11.1007C42.2875 10.7418 42.5808 10.476 42.9467 10.3034C43.3125 10.124 43.7232 10.0342 44.1788 10.0342C44.9174 10.0342 45.4903 10.2379 45.8975 10.6451C46.3117 11.0455 46.5188 11.5666 46.5188 12.2086C46.5188 12.6089 46.4256 12.9989 46.2392 13.3786C46.0598 13.7582 45.8216 14.124 45.5248 14.4761C45.228 14.8281 44.907 15.1594 44.5619 15.4701C44.2168 15.7738 43.882 16.0568 43.5576 16.3191H46.6948V17.4062H41.7042ZM48.3337 17.4787C48.0921 17.4787 47.892 17.4028 47.7332 17.2509C47.5813 17.0991 47.5054 16.9162 47.5054 16.7022C47.5054 16.4813 47.5813 16.2949 47.7332 16.1431C47.892 15.9912 48.0921 15.9153 48.3337 15.9153C48.5753 15.9153 48.772 15.9912 48.9239 16.1431C49.0827 16.2949 49.162 16.4813 49.162 16.7022C49.162 16.9162 49.0827 17.0991 48.9239 17.2509C48.772 17.4028 48.5753 17.4787 48.3337 17.4787ZM48.3337 13.7099C48.0921 13.7099 47.892 13.634 47.7332 13.4821C47.5813 13.3302 47.5054 13.1473 47.5054 12.9333C47.5054 12.7125 47.5813 12.5261 47.7332 12.3742C47.892 12.2224 48.0921 12.1464 48.3337 12.1464C48.5753 12.1464 48.772 12.2224 48.9239 12.3742C49.0827 12.5261 49.162 12.7125 49.162 12.9333C49.162 13.1473 49.0827 13.3302 48.9239 13.4821C48.772 13.634 48.5753 13.7099 48.3337 13.7099ZM50.1269 17.4062V16.4433C50.5687 16.0775 50.9966 15.7151 51.4108 15.3562C51.8318 14.9972 52.2046 14.6417 52.529 14.2897C52.8603 13.9377 53.1226 13.596 53.3159 13.2647C53.5161 12.9264 53.6162 12.5986 53.6162 12.281C53.6162 11.9842 53.5333 11.7219 53.3677 11.4941C53.2089 11.2664 52.9432 11.1525 52.5704 11.1525C52.1908 11.1525 51.9043 11.2767 51.7111 11.5252C51.5178 11.7737 51.4211 12.074 51.4211 12.426H50.1373C50.1511 11.8945 50.2684 11.4527 50.4893 11.1007C50.7102 10.7418 51.0035 10.476 51.3694 10.3034C51.7352 10.124 52.1459 10.0342 52.6015 10.0342C53.3401 10.0342 53.913 10.2379 54.3202 10.6451C54.7344 11.0455 54.9415 11.5666 54.9415 12.2086C54.9415 12.6089 54.8483 12.9989 54.6619 13.3786C54.4825 13.7582 54.2443 14.124 53.9475 14.4761C53.6507 14.8281 53.3297 15.1594 52.9846 15.4701C52.6395 15.7738 52.3047 16.0568 51.9803 16.3191H55.1175V17.4062H50.1269ZM57.0049 17.4062V11.6702L55.8142 11.9497V10.935L57.564 10.1585H58.382V17.4062H57.0049Z",fill:"#2F3E4E"})]})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"30.1034",id:"filter0_d_15951_2675",width:"129.563",x:"9.13496",y:"-2.5034e-05",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dy:"0.906275"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"0.906275"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_15951_2675"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_15951_2675",mode:"normal",result:"shape"})]}),(0,r.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_15951_2675",x1:"67",x2:"47.4283",y1:"11",y2:"11",children:[(0,r.jsx)("stop",{stopColor:"#E6EBEF",stopOpacity:"0"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#F6F7FB"})]}),(0,r.jsx)("clipPath",{id:"clip0_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"143.195",rx:"10.6601",width:"145",x:"0.0725098",y:"22.6487"})}),(0,r.jsx)("clipPath",{id:"clip1_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"13.3248",transform:"translate(8.57849 31.1548)",width:"13.3248"})}),(0,r.jsx)("clipPath",{id:"clip2_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 50.1504)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip3_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 50.1504)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip4_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"469.7",transform:"translate(8.57849 66.481)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip5_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"69.2891",transform:"translate(8.57849 66.481)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip6_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 66.481)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip7_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 81.1382)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip8_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 95.7954)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip9_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 110.453)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip10_15951_2675",children:(0,r.jsx)("rect",{fill:"white",height:"10.6599",transform:"translate(8.57849 125.11)",width:"127.988"})}),(0,r.jsx)("clipPath",{id:"clip11_15951_2675",children:(0,r.jsx)("path",{d:"M10.9475 14.1453C10.9475 6.83359 16.8749 0.90625 24.1866 0.90625H123.647C130.958 0.90625 136.886 6.83359 136.886 14.1453C136.886 21.4571 130.958 27.3844 123.647 27.3844H24.1866C16.8749 27.3844 10.9475 21.4571 10.9475 14.1453Z",fill:"white"})})]})]}),af={src:"https://website-assets.studocu.com/_next/static/media/promo-app-interstitial-qr-code.3d0f00a2.png",height:320,width:320,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWBgYF0dHRmZma6urrAwMDV1dVPT0/Kysqurq5gYGCSkpK4uLiPj4/z8/NqampHtLB2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVR4nAXBhwEDMQwDsSNlFVuf/dcNQG7E6U3C99o6tAQiGb0qWMZfFV6WZz0NITA3yO2YPr8/KZwBMcrOjc8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var ax=n(88066),aR=n.n(ax);let av=()=>(0,r.jsxs)("div",{className:ed()(aR().promoAppInterstitial,(0,t_.R)("on-mobile","on-tablet")),children:[(0,r.jsx)("div",{className:aR().illustration,children:(0,r.jsx)(ab,{})}),(0,r.jsxs)("div",{className:aR().content,children:[(0,r.jsx)(eE.E,{color:"inverse",variant:"hero-small",children:(0,r.jsx)(ef.A,{id:"record_your_class_with_the_app"})}),(0,r.jsx)(eE.E,{color:"inverse",variant:"body-small",children:(0,r.jsx)(ef.A,{id:"convert_audio_to_ai_summary"})})]}),(0,r.jsxs)("div",{className:aR().qrCode,children:[(0,r.jsx)(ij(),{alt:"QR Code",height:80,src:af,width:80}),(0,r.jsx)(og.v,{size:"small",children:(0,r.jsx)(ef.A,{id:"scan_to_get_the_app"})})]})]});var aD=n(25100),aE=n(16231),aB=n(256),ay=n(62738),aI=n(91395),aS=n(79967),ak=n(3214),aj=n(44080),aT=n.n(aj);function aM(e){let{isVisible:t,onAnimationEnd:n}=e;return(0,r.jsxs)("div",{"aria-label":"Google One Tap",className:ed()(aT().container,{[aT().hidden]:!t,[aT().visible]:t}),onAnimationEnd:n,children:[(0,r.jsx)(ak.y,{className:aT().loader,color:"blue",size:"small"}),(0,r.jsx)(eE.E,{as:"span",variant:"body-medium",children:(0,r.jsx)(ef.A,{id:"loading"})})]})}let aN={GOOGLE_ONE_TAP_CLICKED:"Google One Tap Clicked",GOOGLE_ONE_TAP_DISMISSED:"Google One Tap Dismissed",GOOGLE_ONE_TAP_NOT_SHOWN:"Google One Tap Not Shown",GOOGLE_ONE_TAP_SHOWN:"Google One Tap Shown"},aQ="https://accounts.google.com/gsi/client",aU="google-one-tap-container";var aP=n(30302),aO=n(26551),aF=n.n(aO);let aV=["com","ad","ae","com.af","com.ag","al","am","co.ao","com.ar","as","at","com.au","az","ba","com.bd","be","bf","bg","com.bh","bi","bj","com.bn","com.bo","com.br","bs","bt","co.bw","by","com.bz","ca","cd","cf","cg","ch","ci","co.ck","cl","cm","cn","com.co","co.cr","com.cu","cv","com.cy","cz","de","dj","dk","dm","com.do","dz","com.ec","ee","com.eg","es","com.et","fi","com.fj","fm","fr","ga","ge","gg","com.gh","com.gi","gl","gm","gr","com.gt","gy","com.hk","hn","hr","ht","hu","co.id","ie","co.il","im","co.in","iq","is","it","je","com.jm","jo","co.jp","co.ke","com.kh","ki","kg","co.kr","com.kw","kz","la","com.lb","li","lk","co.ls","lt","lu","lv","com.ly","co.ma","md","me","mg","mk","ml","com.mm","mn","com.mt","mu","mv","mw","com.mx","com.my","co.mz","com.na","com.ng","com.ni","ne","nl","no","com.np","nr","nu","co.nz","com.om","com.pa","com.pe","com.pg","com.ph","com.pk","pl","pn","com.pr","ps","pt","com.py","com.qa","ro","ru","rw","com.sa","com.sb","sc","se","com.sg","sh","si","sk","com.sl","sn","so","sm","sr","st","com.sv","td","tg","co.th","com.tj","tl","tm","tn","to","com.tr","tt","com.tw","co.tz","com.ua","co.ug","co.uk","com.uy","co.uz","com.vc","co.ve","co.vi","com.vn","vu","ws","rs","co.za","co.zm","co.zw","cat"];var aL=n(29143),aG=n(56760);let aH=e=>{let{children:t}=e,n=(0,ey.oc)()?window.document.getElementById(ea.bn):null;return n?(0,aG.createPortal)(t,n):null};var az=n(77255);let aW=parseInt(n.n(az)().headerHeight,10),aY=()=>((0,ey.oc)()?document.querySelector(`#${oA.tl}`):void 0)?.clientHeight||0,aJ=()=>((0,ey.oc)()?document.querySelector(`#${ea.iL}`):void 0)?.clientHeight||0;var aZ=n(90969);let aK=function(e,t){let{debounceTime:n=250}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.useCallback)((0,aZ.s)(e,n),t)},aq={height:void 0,width:void 0};function a$(e,t,n){return e[t]?Array.isArray(e[t])?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}var aX=n(72526);let a0=aX.aM+.5,a1=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return e>=n.left-r&&e<=n.right+r&&t>=n.top&&t<=n.bottom};var a2=n(76364),a5=n.n(a2);let a3=e=>{let{currentPage:t,documentWrapperRef:n,getPageElement:o,pageContainerRef:a,pageCount:s,zoom:l=aX.aM}=e,c=(0,I.u)(),{buttonState:u,hideButton:d,updatePosition:A}=(()=>{let[e,t]=(0,i.useState)({isVisible:!1,x:0,y:0}),n=(0,i.useRef)(null),r=(0,i.useCallback)(()=>{null!==n.current&&(cancelAnimationFrame(n.current),n.current=null),t(e=>e.isVisible?{...e,isVisible:!1}:e)},[]),o=(0,i.useCallback)(e=>{null!==n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{t(t=>t.x===e.x&&t.y===e.y&&!0===t.isVisible?t:{isVisible:!0,x:e.x,y:e.y}),n.current=null})},[]);return(0,i.useEffect)(()=>()=>{null!==n.current&&(cancelAnimationFrame(n.current),n.current=null)},[]),{buttonState:e,hideButton:r,updatePosition:o}})(),{rects:m,updateRects:p}=((e,t)=>{let n=(0,i.useRef)({}),r=(0,i.useRef)(null),o=(0,i.useCallback)(()=>{null!==r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{e.current&&t.current&&(n.current={container:t.current.getBoundingClientRect(),docWrapper:e.current.getBoundingClientRect()}),r.current=null})},[e,t]);return(0,i.useEffect)(()=>()=>{null!==r.current&&(cancelAnimationFrame(r.current),r.current=null)},[]),{rects:n,updateRects:o}})(n,a),_=((e,t,n)=>{let r=(0,i.useMemo)(()=>Math.max(0,e-1),[e]);return(0,i.useCallback)((e,i)=>{let o=n(r)??null;if(o&&a1(e,i,o.getBoundingClientRect()))return o;for(let o=0;o<t;o++){if(o===r)continue;let t=n(o);if(t&&a1(e,i,t.getBoundingClientRect()))return t}return null},[r,t,n])})(t,s,o),{getMousePosition:h,registerMouseMoveHandler:g}=(()=>{let e=(0,i.useRef)({x:0,y:0}),t=(0,i.useRef)(!1),n=(0,i.useRef)(null),r=(0,i.useCallback)(()=>e.current,[]),o=(0,i.useCallback)(r=>{e.current={x:r.clientX,y:r.clientY},!t.current&&n.current&&(t.current=!0,requestAnimationFrame(()=>{n.current?.(),t.current=!1}))},[]),a=document;return(0,eB.M)("mousemove",o,a,{passive:!0}),{getMousePosition:r,registerMouseMoveHandler:(0,i.useCallback)(e=>(n.current=e,()=>{n.current=null}),[])}})(),[w,C]=(0,i.useState)({x:0,y:0}),b=(0,i.useDeferredValue)(w),f=(0,i.useCallback)(()=>{if(!n.current||!a.current)return void d();p();let{container:e,docWrapper:t}=m.current;if(!t||!e)return void d();let{x:r,y:i}=b;if(!a1(r,i,e))return void d();let o=_(r,i);if(!o)return void d();let s=i-e.top;A(((e,t,n,r)=>((e,t)=>{let n=e.width>window.innerWidth,r=e.left<0||e.right>window.innerWidth;return t>a0&&r||n})(e,r)?{x:10,y:n}:{x:((e,t)=>{let n=e.left-t.left;return e.left-t.left+(n>=20?-20:0)})(e,t),y:n})(o.getBoundingClientRect(),t,s,l))},[n,a,p,m,b,_,l,A,d]),x=(0,i.useCallback)(()=>{C(h())},[h]);return(0,i.useEffect)(()=>{f()},[b,f]),(0,i.useEffect)(()=>g(x),[g,x]),!function(e){let{box:t="content-box",onResize:n,ref:r}=e,[o,a]=(0,i.useState)(aq),s=(0,i.useRef)({...aq}),l=(0,i.useRef)(void 0);l.current=n;let c=(0,i.useRef)(!0);(0,i.useEffect)(()=>()=>{c.current=!1},[]);let u=aK(e=>{let n,[r]=e;if(!r)return;let i=a$(r,n="border-box"===t?"borderBoxSize":"device-pixel-content-box"===t?"devicePixelContentBoxSize":"contentBoxSize","inlineSize"),o=a$(r,n,"blockSize");if(!s.current||s.current.width!==i||s.current.height!==o){let e={height:o,width:i};s.current.width=i,s.current.height=o,l.current?l.current(e):c.current&&a(e)}},[]);(0,i.useEffect)(()=>{if(!r.current||!("ResizeObserver"in window))return;let e=new ResizeObserver(u);return e.observe(r.current,{box:t}),()=>{e.disconnect()}},[t,r,u])}({onResize:()=>{p(),f()},ref:n}),(0,r.jsx)("div",{className:a5().fabContainer,style:{opacity:+!!u.isVisible,pointerEvents:u.isVisible?"auto":"none",top:`${u.y}px`,transform:`translate3d(${u.x}px, -50%, 0)`},children:(0,r.jsxs)(eX.A,{backgroundColor:"burgundy",placement:"top-start",role:"tooltip",showArrow:!0,triggerType:"hover",children:[(0,r.jsx)(e7.W,{children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(iI.K,{color:"neutral-80",name:"crop",sparkleColor:"accent"}),"aria-label":c.get("crop_to_ai_title"),color:"gray",onClick:()=>{(0,tm.w)(eI.Cj.TOGGLE_CROP_TO_AI,{origin:"FAB"})},round:!0,size:"medium",type:"button",variant:"secondary"})}),(0,r.jsx)(e0.h,{className:a5().popoverContent,children:(0,r.jsx)(ef.A,{id:"crop_to_ai_title"})})]})})},a4={ACTION_SPACE_REQUIRED:72,BOUNDARY_JUMP_THRESHOLD:200,COORDINATE_PRECISION_TOLERANCE:.5,FALLBACK_TOP_OFFSET:50,FALLBACK_VIEWPORT_USAGE:.8,MIN_EXPANDED_BOUNDARY_HEIGHT:300,MIN_SELECTABLE_HEIGHT:200,VIEWPORT_EXPANSION_RATIO:.7,VIEWPORT_THRESHOLD_FOR_ACTIONS:.3},a6={EXPANDED_HEIGHT:a4.MIN_EXPANDED_BOUNDARY_HEIGHT,JUMP_THRESHOLD:a4.BOUNDARY_JUMP_THRESHOLD,MIN_SELECTABLE_HEIGHT:a4.MIN_SELECTABLE_HEIGHT},a7={SPACE_REQUIRED:a4.ACTION_SPACE_REQUIRED,VIEWPORT_THRESHOLD:a4.VIEWPORT_THRESHOLD_FOR_ACTIONS},a9={COORDINATE_TOLERANCE:a4.COORDINATE_PRECISION_TOLERANCE},{ACTION_SPACE_REQUIRED:a8,BOUNDARY_JUMP_THRESHOLD:se,MIN_SELECTABLE_HEIGHT:st,VIEWPORT_THRESHOLD_FOR_ACTIONS:sn}=a4,sr=e=>({bottom:"handleBottom","bottom-left":"handleBottomLeft","bottom-right":"handleBottomRight",center:"handle",left:"handleLeft",right:"handleRight",top:"handleTop","top-left":"handleTopLeft","top-right":"handleTopRight"})[e]||"handle";function si(e){return[e.x,e.y,e.width,e.height].every(e=>Number.isFinite(e)&&!Number.isNaN(e))}function so(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a9.COORDINATE_TOLERANCE;return e===t||!!si(e)&&!!si(t)&&Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n&&Math.abs(e.width-t.width)<n&&Math.abs(e.height-t.height)<n}function sa(e){if(!si(e))return{height:100,width:100,x:0,y:0};let t=Math.floor(e.x),n=Math.floor(e.y),r=Math.ceil(e.width+(e.x-t));return{height:Math.ceil(e.height+(e.y-n)),width:r,x:t,y:n}}function ss(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{"--selection-height":`${Math.round(e.height)}px`,"--selection-width":`${Math.round(e.width)}px`,"--selection-x":`${Math.round(e.x)}px`,"--selection-y":`${Math.round(e.y)}px`,cursor:t&&({bottom:"ns-resize","bottom-left":"nesw-resize","bottom-right":"nwse-resize",center:"move",left:"ew-resize",right:"ew-resize",top:"ns-resize","top-left":"nwse-resize","top-right":"nesw-resize"})[t]||"move"}}var sl=n(96331),sc=n.n(sl);let su=(0,i.memo)(e=>{let{selection:t}=e,n=(0,i.useMemo)(()=>sa(t),[t]),o=(0,i.useMemo)(()=>(function(e){let{height:t,width:n,x:r,y:i}=e,o=Math.round(r),a=Math.round(i),s=Math.round(n),l=Math.round(t);return{"--grid-bottom-height":`calc(100% - ${a+l}px)`,"--grid-center-height":`${l}px`,"--grid-center-width":`${s}px`,"--grid-left-width":`${o}px`,"--grid-right-width":`calc(100% - ${o+s}px)`,"--grid-top-height":`${a}px`}})(n),[n]);return(0,r.jsxs)("div",{className:sc().overlayContainer,style:o,children:[(0,r.jsx)("div",{className:ed()(sc().overlayMask,sc().topMask)}),(0,r.jsx)("div",{className:ed()(sc().overlayMask,sc().leftMask)}),(0,r.jsx)("div",{className:ed()(sc().overlayMask,sc().rightMask)}),(0,r.jsx)("div",{className:ed()(sc().overlayMask,sc().bottomMask)}),(0,r.jsx)("div",{className:sc().selectionArea})]})}),sd={MAX_SELECTION_HEIGHT:300,MAX_SELECTION_WIDTH:400,MIN_TOP_OFFSET:50,PAGE:{MIN_USABLE_HEIGHT_RATIO:.3,MIN_VISIBLE_HEIGHT:120,VISIBLE_HEIGHT_USAGE_RATIO:.5},PREFERRED_SELECTION_HEIGHT:200,PREFERRED_SELECTION_WIDTH:300,VIEWPORT:{HEIGHT_USAGE_RATIO:.4,WIDTH_USAGE_RATIO:.8}},sA={height:sd.PREFERRED_SELECTION_HEIGHT,width:sd.PREFERRED_SELECTION_WIDTH,x:0,y:0},sm=[{label:"Resize top-left",position:"top-left"},{label:"Resize top-right",position:"top-right"},{label:"Resize bottom-left",position:"bottom-left"},{label:"Resize bottom-right",position:"bottom-right"},{label:"Resize top",position:"top"},{label:"Resize right",position:"right"},{label:"Resize bottom",position:"bottom"},{label:"Resize left",position:"left"}],sp={bottom:"bottom","bottom-left":"bottom-right","bottom-right":"bottom-left",center:"center",left:"right",right:"left",top:"top","top-left":"top-right","top-right":"top-left"},s_={bottom:"top","bottom-left":"top-left","bottom-right":"top-right",center:"center",left:"left",right:"right",top:"bottom","top-left":"bottom-left","top-right":"bottom-right"};var sh=n(4760);let sg=()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>e(W.q.AI_CROP_SELECTION_CANCELLED,{"Document ID":t}),[e])},sw=()=>{let e=(0,_.jt)();return(0,i.useCallback)((t,n)=>e(W.q.AI_CROP_ACTION_CLICKED,{Action:(0,R.Zr)(t),"Document ID":n}),[e])},sC=()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>e(W.q.AI_CROP_ANSWER_COPIED,{"Document ID":t}),[e])},sb=()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>e(W.q.AI_CROP_ANSWER_MODAL_CLOSED,{"Document ID":t}),[e])},sf=()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>e(W.q.AI_CROP_ANSWER_RETRY_CLICKED,{"Document ID":t}),[e])},sx=()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>e(W.q.AI_CROP_GO_BACK_TO_SELECTION_CLICKED,{"Document ID":t}),[e])},sR=e=>{let{clickOrigin:t,currentPage:n,documentId:r}=e,o=(0,en.i)(),a=(()=>{let e=(0,_.jt)();return(0,i.useCallback)(t=>{let{action:n,clickOrigin:r,currentPage:i,documentId:o,error:a,responseLength:s,status:l}=t;return e(W.q.AI_CROP_RESPONSE,{"Click Origin":r,"Current Document Page":i,"Document ID":o,...s?{"Response Length":s}:void 0,...a?{Error:a}:void 0,Action:(0,R.Zr)(n),Status:l})},[e])})(),s=(0,tz.useMutation)({mutationFn:async e=>{let{action:t,image:n}=e;if(!n||!n.includes("data:image/")||!n.includes(","))return Promise.reject(Error("Failed to capture the selection. Please try again."));let r=await (0,sh.fetchClient)({data:{action:t,image:n},headers:o,method:"POST",url:"/labs/document-image-analysis"});return r||Promise.reject(Error("Failed to analyze the selection. Please try again."))},onError:(e,i)=>{console.error("Document image analysis failed:",e),a({action:i.action,clickOrigin:t,currentPage:n,documentId:r,error:e.message,status:"Error"})},onSuccess:(e,i)=>{a({action:i.action,clickOrigin:t,currentPage:n,documentId:r,responseLength:e.data.length,status:"Success"})}});return{canRetry:s.isError,data:s.data,error:s.error,isError:s.isError,isLoading:s.isPending,isSuccess:s.isSuccess,mutation:s,reset:s.reset,retry:()=>s.mutate}};var sv=n(63067),sD=n.n(sv);let sE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(t,300*!!e)})})})},sB=async e=>{let t;return t=await new Promise((t,n)=>{e.toBlob(e=>{e?t(e):n(Error("Failed to create blob from canvas"))},"image/jpeg",.75)}),new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(Error("Failed to convert blob to data URL")),r.readAsDataURL(t)})},sy=(e,t)=>{let[n,r]=(0,i.useState)(null);return{captureError:n,captureImage:(0,i.useCallback)(async n=>{if(!e.current)return r("Document wrapper not available"),"";r(null);let i=e.current,o=i.getBoundingClientRect(),a=(e=>({bottom:e.y-aX.cF+e.height,left:e.x,right:e.x+e.width,top:e.y-aX.cF}))(t),s=((e,t)=>({allowTaint:!0,backgroundColor:null,height:e.height,ignoreElements:t,useCORS:!0,width:e.width,x:e.x,y:e.y-aX.cF}))(t,e=>{if(e.closest(".selection-overlay"))return!0;let t="IMG"===e.tagName,n=e instanceof HTMLElement&&e.style.backgroundImage&&"none"!==e.style.backgroundImage;return(!!t||!!n)&&((e,t,n)=>{let r=e.getBoundingClientRect(),i={bottom:r.bottom-t.top,left:r.left-t.left,right:r.right-t.left,top:r.top-t.top};return i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom})(e,o,a)});try{let e=await sD()(i,s);return await sB(e)}catch(e){return r(e instanceof Error?e.message:"Capture failed"),""}},[e,t])}},sI=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.useCallback)(t=>{"Escape"===t.key&&(t.preventDefault(),e())},[e]);(0,i.useEffect)(()=>(t?document.body.style.overflow="":document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[t]),(0,eB.M)("keydown",n,document)},sS=e=>{let[t,n]=(0,i.useState)(e),[r,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),u=(0,i.useDeferredValue)(t),d=(0,i.useRef)(e),A=(0,i.useRef)(null),m=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{so(d.current,e,.5)||(d.current={...e},null!==A.current&&cancelAnimationFrame(A.current),A.current=requestAnimationFrame(()=>{(0,i.startTransition)(()=>{n(e)}),A.current=null}))},[]),_=(0,i.useCallback)(()=>{null!==m.current&&(cancelAnimationFrame(m.current),m.current=null),o(!0),c(!1)},[]),h=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;null!==m.current&&cancelAnimationFrame(m.current),o(!1);let t=performance.now(),n=()=>{m.current=requestAnimationFrame(r=>{r-t>=e?(c(!0),m.current=null):n()})};n()},[]),g=(0,i.useCallback)(e=>{(0,i.startTransition)(()=>{s(e)})},[]);return(0,i.useEffect)(()=>(h(),()=>{null!==A.current&&cancelAnimationFrame(A.current),null!==m.current&&cancelAnimationFrame(m.current)}),[h]),(0,i.useEffect)(()=>{so(d.current,e,5)||p(e)},[e,p]),{finishEditingVisual:h,selection:u,setPendingState:g,startEditingVisual:_,updateSelection:p,visualState:{isDashed:r,isPending:a,showActions:l}}};var sk=n(68007),sj=n(92382);let sT={medium:"medium"},sM={default:"default"};var sN=n(25680),sQ=n.n(sN);let sU=e=>{let{className:t,itemsPerRow:n=[],rowSize:i=sT.medium,variant:o=sM.default}=e,{item:a,overlay:s,row:l,skeleton:c}=sQ();return(0,r.jsxs)("div",{className:ed()(c,t),children:[(0,r.jsx)("div",{className:ed()(s,sQ()[o])}),n.map(e=>(0,r.jsx)("div",{className:l,children:(0,sj.Wf)(e,()=>(0,r.jsx)("div",{className:ed()(a,sQ()[i],sQ()[o]),style:{width:`${100/e}%`}},(0,sk.A)()))},(0,sk.A)()))]})},sP=["crop_to_ai_loading_understanding","crop_to_ai_loading_organising","crop_to_ai_loading_looking_notes","crop_to_ai_loading_generating","crop_to_ai_loading_finding_notes","crop_to_ai_loading_referencing","crop_to_ai_loading_summarizing"],sO=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%sP.length)},1500);return()=>clearInterval(e)},[]),(0,r.jsx)(eE.E,{variant:"title-medium",children:(0,r.jsx)(ef.A,{id:sP[e]})})},sF=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!e)return;let n=setTimeout(()=>t(!1),2e3);return()=>clearTimeout(n)},[e]),{copyAnswer:(0,i.useCallback)(e=>{let n=f(e);navigator.clipboard.writeText(n).then(()=>{t(!0)})},[]),isCopied:e}};var sV=n(87750),sL=n.n(sV);let sG=eC()(()=>Promise.all([n.e(9112),n.e(950),n.e(6793),n.e(6253),n.e(3133),n.e(3086)]).then(n.bind(n,13086)),{loadableGenerated:{webpack:()=>[13086]}}),sH=eC()(()=>Promise.all([n.e(2183),n.e(3469)]).then(n.bind(n,83469)),{loadableGenerated:{webpack:()=>[83469]}}),sz=e=>{let{action:t,answer:n,contentRef:i,documentId:o,isError:a=!1,isLoading:s=!0,onClose:l,onGoBackToSelection:c,onRetry:u}=e,d=(0,I.u)(),{copyAnswer:A,isCopied:m}=sF(),p=sC(),_=!s&&!a&&n;return(0,r.jsxs)("aside",{className:ed()(sL().bottomSheet,s?sL().loading:sL().expanded),children:[(0,r.jsxs)("header",{className:sL().header,children:[(0,r.jsxs)("div",{className:sL().headerLeft,children:[(0,r.jsx)(iI.K,{color:"pink-70",name:"ask-ai"}),(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_question_title"})})]}),(0,r.jsxs)("div",{className:sL().headerRight,children:[(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:m?nH.e68:nH.jPR}),color:"gray",disabled:!n,onClick:()=>{n&&(A(n),p(o))},round:!0,size:"medium",variant:"secondary"}),(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.yYc}),"aria-label":d.get("close"),color:"white",onClick:l,round:!0,size:"medium",variant:"primary"})]})]}),(0,r.jsxs)("main",{className:sL().content,ref:i,children:[(0,r.jsx)("div",{className:sL().questionContainer,children:(0,r.jsx)(eE.E,{as:"p",color:"default",variant:"body-medium",children:(0,r.jsx)(ef.A,{id:"explain"===t?"crop_to_ai_explanation_message":"crop_to_ai_solving_message",variables:{separator:"\n"}})})}),(0,r.jsxs)("section",{className:sL().answerSection,children:[(0,r.jsxs)("header",{className:sL().answerSubtitle,children:[(0,r.jsx)(ej.I,{color:"pink-70",icon:nH._$C}),s?(0,r.jsx)(sO,{}):(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_answer"})})]}),s?(0,r.jsx)("div",{className:sL().loadingContainer,children:(0,r.jsx)(sU,{itemsPerRow:[3,4,5,4,3],variant:"light"})}):_?(0,r.jsxs)("div",{className:ed()(sL().answer),children:[(0,r.jsx)(sG,{content:n}),(0,r.jsx)(eE.E,{color:"x-subtle",variant:"body-small",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_disclaimer"})})]}):(0,r.jsx)(sH,{onGoBackToSelection:c,onRetry:u})]})]})]})},sW=e=>{let{children:t}=e,n=(0,ey.oc)()?window.document.getElementById(ea.Y4):null;return n?(0,aG.createPortal)(t,n):null},sY=[{id:"explain",label:"crop_to_ai_explain_cta"},{id:"solve",label:"crop_to_ai_solve_cta"}];var sJ=n(32798),sZ=n.n(sJ);let sK=e=>{let{onActionSelect:t}=e;return(0,r.jsx)("div",{className:sZ().mobileActionsContainer,children:sY.map(e=>(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH._$C}),color:"pink",onClick:()=>t(e.id),size:"medium",variant:"secondary",children:(0,r.jsx)(ef.A,{id:e.label})},e.id))})},sq={documentRect:null,operationId:null,pageRect:null};function s$(e){let t=e.isZoomedIn?Math.max(e.docLeft,e.viewportLeft):e.docLeft,n=e.isZoomedIn?Math.min(e.docRight,e.viewportRight):e.docRight;return{bottom:e.docBottom,left:t,right:n,top:e.docTop}}function sX(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],[s,l]=(0,i.useState)(null),c=(0,i.useCallback)(()=>{e.current&&!a&&requestAnimationFrame(()=>{let i=function(e,t,n,r){let i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!e.current)return null;let s=performance.now();sq.operationId=s,sq.documentRect=null,sq.pageRect=null;let l=(sq.documentRect&&sq.operationId===s||(sq.documentRect=e.current.getBoundingClientRect()),sq.documentRect),c=window.innerWidth,u=window.innerHeight,d=Math.max(n-l.top+54,0);i=o?u-l.top-(r?12:38):u-l.top-38;let A=c-l.left-32;if(!t){var m,p,_;return sq={documentRect:null,operationId:null,pageRect:null},m=d,p=i,_=A,{docBottom:p,docLeft:0,docRight:l.width,docTop:m,isLastPage:r,isZoomedIn:!1,viewportBottom:p,viewportLeft:32,viewportRight:_,viewportTop:m}}let h=t?(sq.pageRect&&sq.operationId===s||(sq.pageRect=t.getBoundingClientRect()),sq.pageRect):null,g=h.width>c-64,w=h.left-l.left,C=h.right-l.left,b=i;return r&&(b=o&&a?Math.min(h.bottom-l.top-12,i):function(e,t,n,r){let i=e.bottom-t.top;return e.bottom<=n?Math.min(i-30,r):Math.min(i,r)}(h,l,u,i)),sq={documentRect:null,operationId:null,pageRect:null},{docBottom:b,docLeft:w,docRight:C,docTop:d,isLastPage:r,isZoomedIn:g,viewportBottom:i,viewportLeft:32,viewportRight:A,viewportTop:d}}(e,t(r-1)??null,n,o>0&&r===o);i&&l(i)})},[e,a,t,r,o,n]);return(0,i.useEffect)(()=>{if(!e.current)return;c();let t=new ResizeObserver(()=>{c()});return t.observe(e.current),()=>{t.disconnect()}},[e,c]),s}let s0=(e,t,n,r,o,a)=>{let[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)({altKey:!1,shiftKey:!1}),d=(0,i.useRef)(t);(0,i.useEffect)(()=>{d.current=t},[t]);let A=(0,i.useCallback)(()=>{if(!e.current)return null;if(a?.current.documentRect&&a.current.dragId)return a.current.documentRect;let t=e.current.getBoundingClientRect();return a&&(a.current.documentRect=t),t},[e,a]),m=(0,i.useCallback)((e,t,r,i)=>{if(!r)return;let o=s1(r,e,t,d.current,i);so(o,d.current)||requestAnimationFrame(()=>{n(o)})},[n]),p=(0,i.useCallback)((n,i)=>{if(n.stopPropagation(),!e.current)return;r();let o=A();o&&(l({handle:i,startRect:{...t},startX:n.clientX-o.left,startY:n.clientY-o.top}),"shiftKey"in n&&u({altKey:n.altKey,shiftKey:n.shiftKey}))},[e,r,A,t]),_=(0,i.useCallback)(e=>{if(!s)return;let t=A();if(!t)return;let n=e.clientX-t.left,r=e.clientY-t.top,i=n-s.startX,o=r-s.startY,a={altKey:e.altKey,shiftKey:e.shiftKey};(a.altKey!==c.altKey||a.shiftKey!==c.shiftKey)&&u(a),m(i,o,s,a)},[s,A,c,m]),h=(0,i.useCallback)(()=>{l(null),o()},[o]);return(0,i.useEffect)(()=>()=>{s&&o()},[s,o]),{dragState:s,handleDragEnd:h,handleDragStart:p,handleMouseMove:_,modifierKeys:c}},s1=(e,t,n,r,i)=>{let{handle:o,startRect:a}=e,{altKey:s,shiftKey:l}=i,c=function(e,t,n,r,i){let o={...e};return!function(e,t,n,r,i){if("center"===t){e.x=n.x+r,e.y=n.y+i;return}switch(t){case"top-left":e.x=n.x+r,e.y=n.y+i,e.width=n.width-r,e.height=n.height-i;break;case"top-right":e.y=n.y+i,e.width=n.width+r,e.height=n.height-i;break;case"bottom-left":e.x=n.x+r,e.width=n.width-r,e.height=n.height+i;break;case"bottom-right":e.width=n.width+r,e.height=n.height+i;break;case"top":e.y=n.y+i,e.height=n.height-i;break;case"right":e.width=n.width+r;break;case"bottom":e.height=n.height+i;break;case"left":e.x=n.x+r,e.width=n.width-r}}(o,t,n,r,i),o}(r,o,a,t,n);if(!l&&!s)return c;let u={x:a.x+a.width/2,y:a.y+a.height/2},d=a.width/a.height;return l&&s?function(e,t,n,r){t.includes("left")||t.includes("right")?e.height=e.width/r:e.width=e.height*r,e.x=n.x-e.width/2,e.y=n.y-e.height/2}(c,o,u,d):l?function(e,t,n){let r=t.includes("left")||t.includes("right"),i=t.includes("top")||t.includes("bottom");if(r&&(!i||Math.abs(e.width)>Math.abs(e.height))){let r=e.height;e.height=e.width/n,t.includes("top")&&(e.y+=r-e.height)}else if(i){let r=e.width;e.width=e.height*n,t.includes("left")&&(e.x+=r-e.width)}}(c,o,d):s&&function(e,t,n){(t.includes("left")||t.includes("right"))&&(e.x=n.x-e.width/2),(t.includes("top")||t.includes("bottom"))&&(e.y=n.y-e.height/2)}(c,o,u),c},s2=(e,t,n,r,i)=>{if(!n||!t.current)return e;let{handle:o,selection:a}=function(e,t){let n={...e},r=t;return n.width<0&&(n.x+=n.width,n.width=Math.abs(n.width),r=sp[r]),n.height<0&&(n.y+=n.height,n.height=Math.abs(n.height),r=s_[r]),{handle:r,selection:n}}(e,r),s=a.width/a.height;return function(e,t){let n={...e},{bottom:r,left:i,right:o,top:a}=s$(t);return n.x<i&&(n.x=i),n.x+n.width>o&&(n.width=o-n.x),n.y<a&&(n.y=a),n.y+n.height>r&&(n.height=r-n.y),n}(function(e){let t={...e};return t.width=Math.max(t.width,20),t.height=Math.max(t.height,20),t}(function(e,t,n,r,i){let{altKey:o,shiftKey:a}=i;return"center"===n?s3(e,t):o&&a?function(e,t,n,r){var i,o,a,s;let l,c=s4(e,t,n),u=c.x+c.width/2,d=c.y+c.height/2,{bottom:A,left:m,right:p,top:_}=s$(t),h=s7(u,d,m,p,_,A),g={...c};return i=g,o=n,a=h,s=r,(l=o.includes("left")||o.includes("right"))&&a.maxWidth/a.maxHeight<s?l=!1:!l&&a.maxHeight*s>a.maxWidth&&(l=!0),l?(i.width=Math.min(i.width,a.maxWidth),i.height=i.width/s):(i.height=Math.min(i.height,a.maxHeight),i.width=i.height*s),g.x=u-g.width/2,g.y=d-g.height/2,g}(e,t,n,r):o?s4(e,t,n):a?function(e,t,n,r){let i={...s6(e,t,n)};if(n.includes("left")||n.includes("right")){let e=i.width/r;n.includes("top")&&(i.y=i.y+i.height-e),i.height=e}else if(n.includes("top")||n.includes("bottom")){let e=i.height*r;n.includes("left")&&(i.x=i.x+i.width-e),i.width=e}return i}(e,t,n,r):s6(e,t,n)}(function(e,t,n){let r={...e};return r.width=s5(r.width,20,3e3),r.height=s5(r.height,20,3e3),t&&function(e,t){let n=e.width/t,r=e.height*t;n<=3e3&&n>=20?e.height=n:e.width=r}(r,n),r}(a,i.shiftKey,s),n,o,s,i)),n)};function s5(e,t,n){return Math.max(t,Math.min(e,n))}function s3(e,t){let n={...e},{bottom:r,left:i,right:o,top:a}=s$(t);return n.x<i&&(n.x=i),n.x+n.width>o&&(n.x=o-n.width),n.y<a&&(n.y=a),n.y+n.height>r&&(n.y=r-n.height),n}function s4(e,t,n){var r,i,o;if("center"===n)return s3(e,t);let a={...e},s=a.x+a.width/2,l=a.y+a.height/2,{bottom:c,left:u,right:d,top:A}=s$(t);return r=a,i=n,o=s7(s,l,u,d,A,c),(i.includes("left")||i.includes("right"))&&(r.width=Math.min(r.width,o.maxWidth)),(i.includes("top")||i.includes("bottom"))&&(r.height=Math.min(r.height,o.maxHeight)),a.x=s-a.width/2,a.y=l-a.height/2,a}function s6(e,t,n){var r,i;if("center"===n)return s3(e,t);let o={...e},{bottom:a,left:s,right:l,top:c}=s$(t);return n.includes("left")&&o.x<s?function(e,t){let n=e.x+e.width;e.x=t,e.width=n-t}(o,s):n.includes("right")&&o.x+o.width>l&&((r=o).width=l-r.x),n.includes("top")&&o.y<c?function(e,t){let n=e.y+e.height;e.y=t,e.height=n-t}(o,c):n.includes("bottom")&&o.y+o.height>a&&((i=o).height=a-i.y),o}function s7(e,t,n,r,i,o){return{maxBottom:o-t,maxHeight:2*Math.min(t-i,o-t),maxLeft:e-n,maxRight:r-e,maxTop:t-i,maxWidth:2*Math.min(e-n,r-e)}}var s9=n(86281),s8=n.n(s9);let le=(0,i.memo)(e=>{let{clickOrigin:t,currentPage:n,documentId:o,documentWrapperRef:a,getPageElement:s,initialSelection:l,onClose:c,pageCount:u,topBarBottom:d}=e,A=(0,I.u)(),m=sg(),p=sw(),_=sb(),h=sf(),g=sx(),[w,C]=(0,i.useState)(null),[b,f]=(0,i.useState)({actionType:null,isLoading:!1,isVisible:!1}),x=(0,i.useRef)(null),R=(0,i.useRef)(null),v=sR({clickOrigin:t,currentPage:n,documentId:o}),{boundary:D,useFixedPositioning:E}=function(e,t,n,r,o){let a=(0,i.useRef)(null),s=sX(e,t,n,r,o),l=r===o,c=(0,i.useMemo)(()=>{if(!l||!e.current)return!1;let n=t(r-1);if(!n)return!1;let i=n.getBoundingClientRect(),o=window.innerHeight,a=i.bottom<=o&&i.bottom>=0,s=o-i.bottom>=a7.SPACE_REQUIRED,c=i.bottom>=o*a7.VIEWPORT_THRESHOLD;return a&&s&&c},[l,e,t,r]);return{boundary:(0,i.useMemo)(()=>{if(!s)return a.current;let t={...s,docBottom:s.docBottom-12,viewportBottom:s.viewportBottom-12};if(t.docBottom-t.docTop<a6.MIN_SELECTABLE_HEIGHT&&e.current){let n=e.current.getBoundingClientRect(),r=Math.max(a4.FALLBACK_TOP_OFFSET-n.top,t.docTop),i=Math.min(window.innerHeight*a4.VIEWPORT_EXPANSION_RATIO-n.top,r+a6.EXPANDED_HEIGHT);t={...t,docBottom:i,docTop:r,viewportBottom:i,viewportTop:r}}return a.current&&Math.abs(t.docTop-a.current.docTop)>a6.JUMP_THRESHOLD?a.current:(a.current=t,t)},[s,e]),isPageBottomVisible:c,useFixedPositioning:!l||!c}}(a,s,d,n,u),B=(0,i.useRef)(null);!B.current&&D&&(B.current=function(e,t,n){if(!(e.width>0&&e.height>0&&Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.width)&&Number.isFinite(e.height)))return sa(sA);let r=n??function(e){let t={height:window.innerHeight,width:window.innerWidth},n=a4.FALLBACK_TOP_OFFSET,r=t.height*a4.FALLBACK_VIEWPORT_USAGE;if(e.current){let i=e.current.getBoundingClientRect();n=Math.max(a4.FALLBACK_TOP_OFFSET-i.top,0),r=Math.min(t.height-i.top-32,i.height)}return{docBottom:r,docLeft:32,docRight:t.width-32,docTop:n,isLastPage:!1,isZoomedIn:!1,viewportBottom:r,viewportLeft:32,viewportRight:t.width-32,viewportTop:n}}(t);return sa(s2(e,t,r,"center",{altKey:!1,shiftKey:!1}))}(l,a,D));let{finishEditingVisual:y,selection:S,startEditingVisual:k,updateSelection:j,visualState:T}=sS(B.current||l),{captureImage:M}=sy(a,S);sI(c,!1);let N=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!v.isLoading){C(e),R.current={...S},f({actionType:e,isLoading:!0,isVisible:!0}),t||p(e,o),await sE(!0);try{let t=await M(e);v.mutation.mutate({action:e,image:t},{onSettled:()=>{f(e=>({...e,isLoading:!1}))}})}catch{f(e=>({...e,isLoading:!1}))}}},[v.isLoading,v.mutation,p,o,S,M]),Q=(0,i.useCallback)(()=>{m(o),c()},[c,m,o]),U=(0,i.useCallback)(()=>{_(o),c()},[c,_,o]),P=(0,i.useCallback)(async()=>{w&&(h(o),v.reset(),await N(w,!0))},[w,h,o,v,N]),O=(0,i.useCallback)(()=>{g(o),R.current&&j(R.current),f({actionType:null,isLoading:!1,isVisible:!1}),C(null),v.reset(),R.current=null,y(0)},[g,o,v,y,j]),{dragState:F,handleDragStart:V}=function(e,t,n,r,o,a){let s=(0,i.useRef)(null),l=(0,i.useRef)(!1),c=(0,i.useRef)({documentRect:null,dragId:null}),u=(0,i.useCallback)(t=>{if(!n)return void r(t);r(s2(t,e,n,"center",{altKey:!1,shiftKey:!1}))},[e,n,r]),{dragState:d,handleDragEnd:A,handleDragStart:m,handleMouseMove:p,modifierKeys:_}=s0(e,t,u,()=>{c.current={documentRect:null,dragId:performance.now()},l.current=!0,o()},()=>{c.current={documentRect:null,dragId:null},l.current=!1,a()},c),h=(0,i.useCallback)((t,n)=>{if(t.stopPropagation(),e.current)if("touches"in t){let e=t.touches[0];if(!e)return;s.current=e.identifier;let r="touches"in t&&t.touches[0]?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY};m({...t,altKey:!1,clientX:r.clientX,clientY:r.clientY,shiftKey:!1,stopPropagation:()=>t.stopPropagation()},n)}else m(t,n)},[e,m]),g=(0,i.useCallback)(e=>{if(!d||null===s.current)return;let t=Array.from(e.touches).find(e=>e.identifier===s.current);t&&p(new MouseEvent("mousemove",{altKey:!1,clientX:t.clientX,clientY:t.clientY,shiftKey:!1}))},[d,p]),w=(0,i.useCallback)(e=>{d&&null!==s.current&&Array.from(e.changedTouches).find(e=>e.identifier===s.current)&&(s.current=null,A())},[d,A]);return(0,eB.M)("touchmove",g,d?document:null),(0,eB.M)("mousemove",p,d?document:null),(0,eB.M)("mouseup",A,d?document:null),(0,eB.M)("touchend",w,d?document:null),(0,eB.M)("touchcancel",w,d?document:null),{dragState:d,handleDragStart:h,modifierKeys:_}}(a,S,D,j,k,y),L=(0,i.useCallback)((e,t)=>{v.isLoading||b.isVisible||V(e,t)},[b.isVisible,V,v.isLoading]),G=(0,i.useCallback)(e=>{v.isLoading||b.isVisible||e.target.classList.contains(s8().selectionRect)&&V(e,"center")},[b.isVisible,V,v.isLoading]),H=(0,i.useMemo)(()=>({isDashed:!0,isPending:!1,showActions:!1}),[]),z=F?H:T,W=(0,i.useMemo)(()=>b.isVisible&&R.current?R.current:S,[S,b.isVisible]),Y=(0,i.useMemo)(()=>({"--close-button-x":`${Math.round(W.x+W.width)}px`,"--close-button-y":`${Math.round(W.y)}px`}),[W]),J=(0,i.useMemo)(()=>ss(W,F?.handle??null),[F?.handle,W]),Z=(0,i.useMemo)(()=>sm.map(e=>{let t=["bottom-left","bottom-right","top-left","top-right"].includes(e.position),n=sr(e.position);return(0,r.jsx)("div",{"aria-label":e.label,className:ed()(s8().handle,s8()[n]),onMouseDown:t=>L(t,e.position),onTouchStart:t=>L(t,e.position),role:"button",tabIndex:t?0:-1},e.position)}),[L]),K=!v.isLoading&&!b.isVisible,q=z.showActions&&K;return(0,r.jsxs)("div",{className:s8().selectionOverlay,style:Y,children:[(0,r.jsx)(su,{selection:W}),(0,r.jsx)("div",{"aria-label":"Move selection",className:ed()(s8().selectionRect,z.isDashed?s8().dashed:s8().solid),onMouseDown:G,onTouchStart:G,role:"button",style:J,tabIndex:-1,children:K&&Z}),(0,r.jsx)("div",{className:ed()(s8().closeButtonWrapper,K?null:(0,t_.R)()),children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.yYc}),"aria-label":A.get("close"),color:"gray",onClick:Q,round:!0,size:"micro",variant:"secondary"})}),q&&(0,r.jsx)("div",{className:ed()(s8().actionsWrapper,E?s8().actionsFixed:s8().actionsLastPage),children:(0,r.jsx)(sK,{onActionSelect:N})}),b.isVisible&&(0,r.jsx)(sW,{children:(0,r.jsx)(sz,{action:w,answer:v.data?.data??void 0,contentRef:x,documentId:o,isError:v.isError,isLoading:b.isLoading,onClose:U,onGoBackToSelection:O,onRetry:P})})]})});var lt=n(15909),ln=n.n(lt);let lr=eC()(()=>Promise.all([n.e(9112),n.e(950),n.e(6793),n.e(6253),n.e(3133),n.e(3086)]).then(n.bind(n,13086)),{loadableGenerated:{webpack:()=>[13086]}}),li=eC()(()=>Promise.all([n.e(2183),n.e(3469)]).then(n.bind(n,83469)),{loadableGenerated:{webpack:()=>[83469]}}),lo=(0,i.memo)(e=>{let{action:t,answer:n,className:i,contentRef:o,documentId:a,isError:s=!1,isLoading:l=!0,onClose:c,onGoBackToSelection:u,onRetry:d}=e,A=(0,I.u)(),{copyAnswer:m,isCopied:p}=sF(),_=sC(),h=!l&&!s&&n;return(0,r.jsxs)("aside",{className:ed()(ln().popup,i),children:[(0,r.jsxs)("header",{className:ln().header,children:[(0,r.jsxs)("div",{className:ln().titleContainer,children:[(0,r.jsx)(iI.K,{color:"pink-70",name:"ask-ai"}),(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_question_title"})})]}),(0,r.jsxs)("div",{className:ln().headerRightSection,children:[(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:p?nH.e68:nH.jPR}),color:"gray",disabled:!n,onClick:()=>{n&&(m(n),_(a))},round:!0,variant:"secondary"}),(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.yYc}),"aria-label":A.get("close"),color:"white",onClick:c,round:!0,variant:"primary"})]})]}),(0,r.jsxs)("main",{className:ln().content,ref:o,children:[(0,r.jsx)("div",{className:ln().questionContainer,children:(0,r.jsx)(eE.E,{as:"p",color:"default",variant:"body-medium",children:(0,r.jsx)(ef.A,{id:"explain"===t?"crop_to_ai_explanation_message":"crop_to_ai_solving_message",variables:{separator:"\n"}})})}),(0,r.jsxs)("section",{className:ln().answerSection,children:[(0,r.jsxs)("header",{className:ln().answerSubtitle,children:[(0,r.jsx)(ej.I,{color:"pink-70",icon:nH._$C}),l?(0,r.jsx)(sO,{}):(0,r.jsx)(eE.E,{as:"h2",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_answer"})})]}),l?(0,r.jsx)(sU,{itemsPerRow:[3,4,5,4],variant:"light"}):h?(0,r.jsxs)("div",{className:ln().answer,children:[(0,r.jsx)(lr,{content:n}),(0,r.jsx)(eE.E,{color:"x-subtle",variant:"body-small",children:(0,r.jsx)(ef.A,{id:"crop_to_ai_disclaimer"})})]}):(0,r.jsx)(li,{onGoBackToSelection:u,onRetry:d})]})]})]})});var la=n(82113),ls=n.n(la);let ll=e=>{let{onActionSelect:t}=e;return(0,r.jsx)("div",{className:ls().actionsContainer,children:sY.map(e=>(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH._$C}),color:"pink",onClick:()=>t(e.id),size:"medium",variant:"secondary",children:(0,r.jsx)(ef.A,{id:e.label})},e.id))})},lc={height:parseInt(ln().popupMinHeight,10),width:parseInt(ln().popupWidth,10)},lu=parseInt(ln().popupMaxHeight,10);var ld=n(90196),lA=n.n(ld);let lm=e=>{let{clickOrigin:t,currentPage:n,documentId:o,documentWrapperRef:a,getPageElement:s,initialSelection:l,onClose:c,pageCount:u,topBarBottom:d}=e,A=(0,I.u)(),m=sg(),p=sw(),_=sb(),h=sf(),g=sx(),[w,C]=(0,i.useState)(null),b=(0,i.useRef)(null),f=(0,i.useRef)(null),x=sR({clickOrigin:t,currentPage:n,documentId:o}),[R,v]=(0,i.useState)({actionType:null,isLoading:!1,isVisible:!1,position:null}),D=(0,i.useDeferredValue)(n),E=sX(a,s,(0,i.useDeferredValue)(d),D,(0,i.useDeferredValue)(u),R.isVisible),B=(0,i.useDeferredValue)(E),y=(0,i.useRef)(null);!y.current&&B&&(y.current=s2(l,a,B,"center",{altKey:!1,shiftKey:!1}));let{finishEditingVisual:S,selection:k,startEditingVisual:j,updateSelection:T,visualState:M}=sS(y.current||l),{captureImage:N}=sy(a,k);sI(c,R.isVisible);let Q=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(x.isLoading)return;C(e),t||p(e,o),f.current={...k};let n=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:lc,i=t.current;if(!i)return null;let o={height:Math.max(0,e.height),width:Math.max(0,e.width),x:Math.max(0,e.x),y:Math.max(0,e.y)},a=i.getBoundingClientRect(),s={height:window.innerHeight,width:window.innerWidth},l={...r,height:lu},{placement:c,x:u}=function(e,t,n,r){let{width:i}=r,o=e.x+e.width,a=o+8,s=o-i,l=n-(o+t.left)-aX.cF;return l>=i+8?{placement:"right",x:a}:s+i+t.left>n-aX.cF?{placement:"overlap",x:n-t.left-i-aX.cF}:l<=0?{placement:"overlap",x:s}:l>=i?{placement:"mixed",x:o+l-i}:{placement:"mixed",x:s+l/i*(a-s)}}(o,a,s.width,l);return{placement:c,transformOrigin:"right"===c?"left center":"right center",x:Math.round(u),y:Math.round(function(e,t,n,r){let i=e.y+e.height/2,o=Math.max(r-t.top+aX.cF,0),a=n-t.top-lu-aX.cF,s=i-lc.height/2;if(s>=o&&s<=a)return s;let l=e.y-2;return l>=o&&l<=a?l:l>a?Math.max(o,e.y+e.height-lu):Math.max(o,Math.min(s,a))}(o,a,s.height,n))}}(k,a,d);if(n){v({actionType:e,isLoading:!0,isVisible:!0,position:{transformOrigin:n.transformOrigin,x:n.x,y:n.y}}),await sE();try{let t=await N(e);x.mutation.mutate({action:e,image:t},{onSettled:()=>{v(e=>({...e,isLoading:!1}))}})}catch{v(e=>({...e,isLoading:!1}))}}},[x.isLoading,x.mutation,p,o,k,a,d,N]),U=(0,i.useCallback)(()=>{m(o),c()},[c,m,o]),P=(0,i.useCallback)(()=>{_(o),c()},[c,_,o]),O=(0,i.useCallback)(async()=>{w&&(h(o),x.reset(),await Q(w,!0))},[w,h,o,x,Q]),F=(0,i.useCallback)(()=>{g(o),f.current&&T(f.current),v({actionType:null,isLoading:!1,isVisible:!1,position:null}),C(null),x.reset(),f.current=null,S(0)},[g,o,x,S,T]),{dragState:V,handleDragEnd:L,handleDragStart:G,handleMouseMove:H,modifierKeys:z}=s0(a,k,e=>{B?T(s2(e,a,B,V?.handle??"center",z)):T(e)},j,S),W=(0,i.useCallback)((e,t)=>{x.isLoading||R.isVisible||G(e,t)},[G,x.isLoading,R.isVisible]);(0,eB.M)("mousemove",H,V?window:null),(0,eB.M)("mouseup",L,V?window:null);let Y=(0,i.useCallback)(()=>{if(!B||R.isVisible)return;let e=s2(k,a,B,"center",{altKey:!1,shiftKey:!1});so(e,k,5)||T(e)},[B,R.isVisible,k,a,T]);(0,i.useEffect)(()=>{B&&!R.isVisible&&Y()},[B,R.isVisible,Y]);let J=(0,i.useMemo)(()=>R.isVisible&&f.current?f.current:k,[k,R.isVisible]),Z=(0,i.useMemo)(()=>{let e={"--actions-x":`${Math.round(J.x+J.width)}px`,"--actions-y":`${Math.round(J.y+J.height)}px`,"--close-button-x":`${Math.round(J.x+J.width)}px`,"--close-button-y":`${Math.round(J.y)}px`};return R.position&&(e["--popup-x"]=`${R.position.x}px`,e["--popup-y"]=`${R.position.y}px`,e["--popup-origin"]=R.position.transformOrigin),e},[J,R.position]),K=(0,i.useMemo)(()=>ss(J,V?.handle??null),[J,V?.handle]),q=(0,i.useMemo)(()=>sm.map(e=>{let t=["bottom-left","bottom-right","top-left","top-right"].includes(e.position),n=sr(e.position);return(0,r.jsx)("div",{"aria-label":e.label,className:ed()(lA().handle,lA()[n]),onMouseDown:t=>W(t,e.position),role:"button",tabIndex:t?0:-1},e.position)}),[W]),$=!x.isLoading&&!R.isVisible,X=M.showActions&&$;return(0,r.jsxs)("div",{className:lA().selectionOverlay,style:{...Z,pointerEvents:R.isVisible?"none":"all"},children:[(0,r.jsx)("div",{className:R.isVisible?(0,t_.R)():void 0,children:(0,r.jsx)(su,{selection:J})}),(0,r.jsx)("div",{"aria-label":"Move selection",className:ed()(lA().selectionRect,M.isDashed?lA().dashed:lA().solid),onMouseDown:e=>W(e,"center"),role:"button",style:{...K,pointerEvents:R.isVisible?"none":"auto"},tabIndex:0,children:$&&q}),(0,r.jsx)("div",{className:ed()(lA().closeButtonWrapper,$?null:(0,t_.R)()),children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:nH.yYc}),"aria-label":A.get("close"),color:"gray",onClick:U,round:!0,size:"micro",variant:"secondary"})}),(0,r.jsx)("div",{className:ed()(lA().actionsWrapper,X?null:(0,t_.R)()),children:(0,r.jsx)(ll,{onActionSelect:Q})}),R.isVisible&&(0,r.jsx)(lo,{action:w,answer:x.data?.data??void 0,className:lA().answerPopup,contentRef:b,documentId:o,isError:x.isError,isLoading:R.isLoading,onClose:P,onGoBackToSelection:F,onRetry:O})]})};function lp(){return(0,ey.oc)()?{height:window.innerHeight,width:window.innerWidth}:{height:0,width:0}}function l_(e){return e.width>50&&e.height>50&&e.x>=0&&e.y>=0}function lh(e,t,n){if(!e)return n;if(t){let n=function(e,t){let n=lp(),r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=Math.max(0,i.top),a=Math.min(n.height,i.bottom),s=a-o;if(s<sd.PAGE.MIN_VISIBLE_HEIGHT)return null;let l=s*sd.PAGE.VISIBLE_HEIGHT_USAGE_RATIO,c=Math.min(sd.MAX_SELECTION_HEIGHT,Math.max(sd.PREFERRED_SELECTION_HEIGHT,l)),u=Math.max(sd.MIN_TOP_OFFSET,(o+a)/2-r.top-c/2),d=i.width>n.width-64;return{height:c,width:d?n.width-64:i.width-48,x:d?32:i.left-r.left+24,y:u}}(e,t);if(n&&l_(n))return n}let r=function(e){let t=lp(),n=e.getBoundingClientRect(),r=(t.width-64)*sd.VIEWPORT.WIDTH_USAGE_RATIO,i=Math.min(sd.MAX_SELECTION_WIDTH,Math.max(sd.PREFERRED_SELECTION_WIDTH,r)),o=t.height*sd.VIEWPORT.HEIGHT_USAGE_RATIO,a=Math.min(sd.MAX_SELECTION_HEIGHT,Math.max(sd.PREFERRED_SELECTION_HEIGHT,o)),s=Math.max(sd.MIN_TOP_OFFSET,t.height/2-a/2-n.top);return{height:a,width:i,x:32,y:s}}(e);return l_(r)?r:n}function lg(e,t){try{return e(t)||null}catch{return null}}let lw=function(e){let{callback:t,element:n,options:r}=e,o=(0,ey.oc)()&&"MutationObserver"in window;(0,i.useEffect)(()=>{if(!o)return;let e=new MutationObserver(t);return n?e.observe(n,r||{attributes:!0}):e.disconnect(),()=>e.disconnect()},[t,n,o,r])},lC=eC()(()=>Promise.all([n.e(1722),n.e(596)]).then(n.bind(n,38215)),{loadableGenerated:{webpack:()=>[38215]}}),lb=function(e,t){let n=(0,i.useRef)(null),o=(0,i.useMemo)(()=>e?{filter:`blur(${t?2:4}px)`,userSelect:"none"}:{},[t,e]);return lw({callback:(0,i.useCallback)(t=>{e&&n.current&&t.some(e=>"style"===e.attributeName)&&Object.entries(o).forEach(e=>{let[t,r]=e;return n.current?.style.setProperty(t,r)})},[o,e]),element:n.current}),{blurStyles:o,pageBlurRef:n,renderPremiumBlurClarificationBanner:(0,i.useCallback)(()=>e?(0,r.jsx)(lC,{}):null,[e])}};var lf=n(33509),lx=n.n(lf);let lR=(0,i.memo)(function(e){let{hasBlurredImage:t,isBlurred:n,onPageContentLoaded:o,pageHtml:a,pageHtmlWrapper:s,pageNumber:l,setPageContentRef:c,setPageRef:u}=e,d=(0,i.useRef)(!1),{blurStyles:A,pageBlurRef:m,renderPremiumBlurClarificationBanner:p}=lb(n,t),_=(0,i.useMemo)(()=>a?{__html:function(e){let t=e.indexOf(">");return t<0?e:`${e.slice(0,t)} style="display:block" ${e.slice(t)}`}(a)}:void 0,[a]),h=(0,i.useMemo)(()=>s.match(/\bclass\s*=\s*["']([^"']+)["']/i)?.[1],[s]),g=(0,i.useMemo)(()=>({display:l<=aX.xc?"block":"none",...A}),[l,A]);return(0,i.useEffect)(()=>{_&&!d.current&&(d.current=!0,o(l))},[_]),(0,i.useEffect)(()=>{c(m.current,l-1)},[]),(0,r.jsxs)("div",{className:h,ref:e=>u(e,l-1),children:[(0,r.jsx)("div",{className:ed()("page-content",{[lx().blurredImageWrapper]:n&&t}),dangerouslySetInnerHTML:_,ref:m,style:g}),p()]})}),lv=function(){let e=(0,i.useRef)([]),t=(0,i.useCallback)((t,n)=>{e.current[n]=t},[]);return[(0,i.useCallback)(t=>e.current[t],[]),t,e]},lD=eC()(()=>Promise.all([n.e(8136),n.e(5922)]).then(n.bind(n,65922)),{loadableGenerated:{webpack:()=>[65922]}}),lE="document-wide-banner",lB=(e,t)=>{window.scrollTo({behavior:t,top:e})};var ly=n(50712);function lI(e){return!!e?.global}let lS=(e,t,n)=>{if(lI(e))return e.global;if("pages"===t){let t=n?e.pages.find(e=>e.pageNumber===n):void 0;return t?.signedQueryParams??""}return e[t]},lk=/<img([^>]*)\ssrc=(['"])([^'"]*)\2([^>]*)\/>/gi,lj=(e,t,n,r)=>/<img.*?src="data:image\/[^;]+;base64[^"]+/.test(e)?e:e.replace(lk,`<img$1 src=$2${t}$3${n}$2$4 ${r>1?'loading="lazy" fetchpriority="low" decoding="async"':'fetchpriority="high" decoding="sync" loading="eager"'}/>`);class lT extends Error{constructor(e,t){super(),(0,ly._)(this,"originalError",void 0),(0,ly._)(this,"status",void 0),(0,ly._)(this,"url",void 0);let n=e?` - with status ${e.status}`:"",r=t&&t instanceof Error?` - ${t.message}`:"";this.message="Page fetching failed"+n+r,this.status=e?.status,this.url=e?.url,this.originalError=t}}async function lM(e,t,n,r){try{var i;let o=await fetch(e,{...(0,ey.fL)()&&{keepalive:!0}});if(!o.ok)throw new lT(o);let a=(i=await o.text(),/<a.+/.test(i)?i.replace(/<a([^>]*)\shref="[^"]*"/g,"<span$1").replace(/<\/a>/g,"</span>"):i),s=lS(r,"png");return lj(a,n,s,t)}catch(e){throw new lT(void 0,e)}}var lN=n(54418);let lQ=function(){return!!(0,ey.oc)()&&window.innerWidth<1200},lU=function(e,t){let n=(0,i.useRef)(0),r=(0,i.useRef)(!1),o=(0,i.useRef)(null),a=(0,i.useCallback)(e=>{let{shiftKey:t,touches:i}=e;2===i.length&&(n.current=0,r.current=!0),1===i.length&&t&&(n.current=0,r.current=!0,o.current=i[0])},[]),s=(0,i.useCallback)(()=>{r.current&&(r.current=!1,o.current=null)},[]),l=(0,i.useCallback)(i=>{var a,s,l,c;if(!r.current)return;i.preventDefault();let u=(a=o.current,s=i.touches[0],l=i.touches[1],a?.2*Math.floor((s.pageY-a.pageY)/2):l?Math.hypot(s.pageX-l.pageX,s.pageY-l.pageY):0),d=(c=n.current,0===u||0===c||u*c<0?e:u<0?c/u*e:u/c*e);n.current=u,d!==e&&t(d)},[e,t]),c=(0,i.useRef)(0),u=(0,i.useCallback)(e=>{(0===c.current||c.current%3==0)&&(l(e),c.current=0),c.current+=1},[l]),d=(0,ey.oc)()?window:null;(0,eB.M)("touchstart",a,d),(0,eB.M)("touchmove",u,d),(0,eB.M)("touchend",s,d)};var lP=n(29312);async function lO(e,t,n,r){return!t&&lI(n)||null===r?"":t?lM(t,e,r,n):lj(`<img alt="blurred_content_of_page_${e}" src="pages/blurred/page${e}.webp" style="width:100%;height:100%"/>`,r,lS(n,"blurredPage"),e)}let lF=function(e){let{loadAndDisplayPages:t,onLastPageView:n,pageCount:r,pageWrapperElements:o,setCurrentPage:a,topBarBottom:s}=e,l=(0,i.useRef)(!1),c=(0,i.useRef)([]),u=(0,i.useMemo)(()=>(0,sj.Wf)(100,e=>e/100),[]),d=(0,i.useMemo)(()=>({root:null,rootMargin:`-${s}px 0px 0px 0px`,threshold:u}),[u,s]),A=(0,i.useCallback)(e=>{var i,o;let{firstIntersectionIndex:s,lastIntersectionIndex:u}=((e,t)=>{let n=t.reduce((e,t)=>{let n=parseInt(t.target.dataset.pageIndex||"0",10);return(!e[n]||e[n].time<t.time)&&(e[n]=t),e},{});Object.keys(n).forEach(t=>{e.current[Number(t)]=n[Number(t)].intersectionRatio});let r=null,i=null;for(let t=0;t<e.current.length;t++){let n=e.current[t];if(null!==i&&0===n)break;null===r&&n>0&&(r=t),n>0&&(i=t)}return{firstIntersectionIndex:r,lastIntersectionIndex:i}})(c,e);if(null===s)return;let d=s+1,A=(u??s)+1,m=(i=c.current,o=s,(i.length<=o+1?o:i[o]>=i[o+1]?o:o+1)+1);a(m);let p=new CustomEvent(ea.q7,{detail:m});window.dispatchEvent(p),t({bottom:A,top:d}),!l.current&&c.current[r-1]>0&&(n?.(),l.current=!0)},[t,n,r,a]);(0,i.useEffect)(()=>{let e=new IntersectionObserver(A,d);return o.current?.forEach(t=>t&&e.observe(t)),()=>e.disconnect()},[A,d,o])};var lV=n(56990),lL=n.n(lV);let lG=eC()(()=>Promise.all([n.e(2596),n.e(6302)]).then(n.bind(n,26302)),{loadableGenerated:{webpack:()=>[26302]}}),lH=eC()(()=>Promise.all([n.e(1013),n.e(2809)]).then(n.bind(n,42809)),{loadableGenerated:{webpack:()=>[42809]}}),lz=function(e){let{activeSubscription:t,document:n,documentAbilities:o,documentAccessData:a,initialPageDataList:s,navigationStartTime:c,onLastPageView:u,upgradePaymentPlan:A,userStage:m}=e,{ab:p,config:h,session:{user:g}}=(0,l.K)(),{loadPage:w,pageDataList:C}=function(e,t){let{config:n}=(0,l.K)(),[r,o]=(0,i.useState)(e),a=(0,i.useCallback)((e,t)=>{o(n=>{let r=e-1;return n[r]?.pageHtml===t?n:n.map((e,n)=>n===r?{...e,pageHtml:t}:e)})},[]);return{loadPage:(0,i.useCallback)(async e=>{let{objectKey:r,signedQueryParams:i}=t,o=`${n.cdn.aws_cloudfront_document_assets}${r}/html/`,s=lS(i,"pages",e),l=s?`${o}${r}${e}.page${s}`:null,c=await lO(e,l,i,o);a(e,c)},[n.cdn.aws_cloudfront_document_assets,t,a]),pageDataList:r}}(s,a),b=C.length,f=function(e){let{objectKey:t,signedQueryParams:n,url:r}=e,i=lS(n,"css");if(r&&t&&i)return`${r+t}.css${i}`}(a),x=function(){let e=["*.2mdn.net","*.3lift.com","*.a-mo.net","*.ad.gt","*.adform.net","*.adnxs.com","*.ads.smartadserver.com","*.adsrvr.org","*.amazon-adsystem.com","*.analytics.yahoo.com","*.bannerflow.net","*.crea.ca","*.doubleverify.com","*.intergient.com","*.microsoft.com","*.pubmatic.com","*.realtor.ca","*.rendering.sharethrough.com","*.script.ac","*.seedtag.com","*.siteintercept.qualtrics.com","*.update.sharethru.com","*.vidazoo.com","*.vo.msecnd.net","apis.google.com","carbon-cdn.ccgateway.net","cdn-ima.33across.com","cdn.ampproject.org","cdn.hadronid.net","cdn.id5-sync.com","cdn.intergi.com","cdn.locallogic.co","cdns.gigya.com","choices.trustarc.com","choices.truste.com","ep2.adtrafficquality.google","fundingchoicesmessages.google.com","grid-bidder.criteo.com","invstatic101.creativecdn.com","oa.openxcdn.net","obs.cheqzone.com","pghub.io","ps.eyeota.net","s3.amazonaws.com","sb.scorecardresearch.com","script-api.ccgateway.net","secure.cdn.fastclick.net","servedby.flashtalking.com","static.criteo.net","static.locallogic.co","tagan.adlightning.com","tags.crwdcntrl.net","warp.media.net","widgets.outbrain.com","www.youtube.com"],t=function(){let e=["google.com","*.google.com"],t=aV.map(e=>`*.google.${e}`),n="*.g.doubleclick.net",r="cdn.segment.com",i="*.snapchat.com",o=["*.paypal.com","*.paypalobjects.com"],a=["*.adyen.com","*.cdn.adyen.com"],s="*.paddle.com",l=["'self'","https:","*.cloudfront.net","*.studeersnel.nl","*.studeersnel.nl.","*.studocu.com","*.studocu.com.","*.studocu.id","*.studocu.id.","*.studocu.vn","*.studocu.vn.",...e,"*.google-analytics.com","*.analytics.google.com","*.googletagmanager.com","*.googleapis.com","*.gstatic.com","*.googleusercontent.com","*.hotjar.com","*.hotjar.io","www.wiris.net","cdnjs.cloudflare.com","cdn.jsdelivr.net",s,"ticketgenie-static-live.s3.amazonaws.com","studocu.ticketgenie.ai","studocu.zendesk.com","*.zdassets.com","*.zendesk.com","wss://*.zendesk.com","analytics.tiktok.com","analytics-ipv6.tiktokw.us","ads.tiktok.com",i,...o,...a,"*.quora.com","cdn.cookielaw.org","geolocation.onetrust.com","privacyportal-eu.onetrust.com"];return{connectSrc:[...l,"data:","api.segment.io",r,"api-js.mixpanel.com",n,"*.facebook.com","*.xx.fbcdn.net","*.amazonaws.com",aL.env.NOTES_LAMBDA_URL,aL.env.NOTES_LAMBDA_URL_V2,"*.algolianet.com","*.algolia.net","insights.algolia.io","platform-lookaside.fbsbx.com","sessions.bugsnag.com","notify.bugsnag.com","*.otlp.bugsnag.com","web.delighted.com","wss://ws.pusherapp.com/app/7fa7ab308aa09e4f2ae1","wss://*.hotjar.com","acdn.adnxs.com","collector-pxo049xcgd.px-cdn.net","collector-pxo049xcgd.pxchk.net","telemetry.wiris.net","*.ably.io","*.ably.com","*.ably-realtime.com","wss://*.ably.io","wss://*.ably.com","wss://*.ably-realtime.com","unpkg.com","widget.trustpilot.com","www.redditstatic.com","*.reddit.com"],defaultSrc:l,fontSrc:["data:","'self'","https:"],frameSrc:["https:",...e,n,"tpc.googlesyndication.com","td.doubleclick.net","vars.hotjar.com","*.facebook.com",i,"widget.trustpilot.com",...a,...o,s,"bytedance:","sslocal:"],imgSrc:["data:","blob:","'self'","https:","platform-lookaside.fbsbx.com","*.facebook.com","*.xx.fbcdn.net",...t,"bits.studocu.com","pieces.studocu.com","s3-eu-west-1.amazonaws.com",n,"ib.adnxs.com","secure.adnxs.com","*.reddit.com"],manifestSrc:["'self'","https:","data:"],scriptSrc:["'unsafe-inline'","'unsafe-eval'","'self'","https:","client.perimeterx.net",r,"widget.trustpilot.com","cdn.mxpnl.com","connect.facebook.net","*.criteo.net","sc-static.net","*.googleadservices.com","googleads.g.doubleclick.net","*.googlesyndication.com","www.googletagservices.com","s.pinimg.com","acdn.adnxs.com","www.redditstatic.com"],styleSrc:["'unsafe-inline'","'self'","https:"]}}(),n=e=>e.filter(e=>null!=e),r={"connect-src":n([...t.connectSrc,...e]),"default-src":n([...t.defaultSrc,...e]),"font-src":n(t.fontSrc),"frame-src":n([...t.frameSrc,...e]),"img-src":n([...t.imgSrc,...e]),"manifest-src":n(t.manifestSrc),"script-src":n([...t.scriptSrc,...e]),"style-src":n([...t.styleSrc,...e])},i=new(aF());return(i.load(r),i.valid())?i.share("string"):(console.error("Ramp Content Security Policy is invalid, please check the `cspData`"),"")}(),[R,D]=(0,i.useState)((0,ey.oc)()&&window.documentViewerInitialZoom||1),B=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(null),k=(0,i.useRef)(null),j=(0,i.useRef)(!1),T=(0,i.useRef)(lQ()),[M,N]=(0,i.useState)(1),[Q,P]=(0,i.useState)(!0),{topBarBottom:O}=(e=>{let[t,n]=(0,i.useState)(aY),[r,o]=(0,i.useState)(aJ),a=t+aW,s=(0,i.useCallback)(t=>{if(!(t instanceof CustomEvent)||!t.detail)return;let r=t.detail;void 0!==r.alertBarHeight&&n(r.alertBarHeight),void 0!==r.topBarHeight&&o(r.topBarHeight),e&&e(r)},[e]);return(0,eB.M)(ea.H,s,(0,ey.oc)()?window:null),{headerBottom:a,topBarBottom:a+r}})(),[F,V]=(0,i.useState)(!1),L=(0,U.useSearchParams)(),G=L?.get("page"),H=(()=>{let e=(0,_.jt)();return(0,i.useCallback)((t,n,r)=>e(W.q.AI_CROP_TO_ASK_BUTTON_CLICKED,{"Click Origin":t,"Document ID":n,...(0,d.hj)(r)&&{"Current Document Page":r}}),[e])})(),{shouldShowAds:z}=(()=>{let{ab:e,session:{user:t}}=(0,l.K)();return{shouldShowAds:"Test"===(0,v._)(e,"testAdsV0H22025")&&!t?.isPremium}})(),{shouldShow:Y,showGoogleOneTap:J,trigger:Z}=(0,aP.V)(),K=L?.get("sid"),q=L?.get("shared"),$=!!(K&&q),{loadingComponent:X}=function(e){let{cancelOnTapOutside:t=!0,context:n="signin",countryId:o,shouldShow:a=!1,trigger:s}=e,c=(0,i.useRef)(!1),u=(0,i.useRef)(null),d=(0,i.useRef)(s),[A,m]=(0,i.useState)(!1),{ab:p}=(0,l.K)(),h=(0,v._)(p,"testGoogleOneTap"),g="Enabled"===h,w=(0,I.u)(),C=(0,en.i)(),b=(0,_.jt)(),f=(0,aB.F)(),x=(0,ay.l)(),{meta:{currentLanguage:R,detectedCountry:D,locale:E}}=(0,l.K)();(0,i.useEffect)(()=>{d.current=s},[s]);let B=(0,i.useCallback)(()=>{let e=document.getElementById(aU);return!e&&((e=document.createElement("div")).id=aU,e.style.colorScheme="light",e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.zIndex="var(--z-overlays-1)",document.body.appendChild(e),g||(e.style.display="none")),u.current=e,e},[g]),y=(0,i.useCallback)(()=>{u.current&&u.current.parentNode&&(u.current.parentNode.removeChild(u.current),u.current=null)},[]),{mutate:S}=(0,tz.useMutation)({mutationFn:async e=>{let{token:t,trigger:n}=e,r=await (0,aE.O)({countryId:D?.id||o||1,languageCode:R,provider:"GOOGLE",regionCode:E,token:t},C),{action:i,auth:a}=r.data,s=new Date(a.tokenObject.expiresAt),l=new Date(Date.now()+aI.by),c=[(0,aD.Ud)({...aI.JF,expires:s,name:aI.Qt,value:a.token}),(0,aD.Ud)({...aI.M,expires:l,name:aI.NB,value:a.refreshToken})];await Promise.all([fetch("/next-api/setcookies",{body:JSON.stringify({cookies:c}),method:"POST"}),fetch("/next-api/disable-forced-route",{method:"POST"})]);let u={"Google One Tap Clicked":!0,"Is App":!1,Trigger:n};return"login"===i?await f({...u,origin:ek.C.GoogleOneTap}):(await x({...u,clickedType:"Google",origin:ek.C.GoogleOneTap}),await b("Registration Complete",{"Registration Origin":"Google One Tap","User Registration Method":"Google One Tap",...u})),await b("Log In",{"Log In Method":"Google One Tap",...u}),r},onError:()=>{m(!1),(0,aS.$U)({message:w.get("social_authentication_failed"),type:"error"})},onSuccess:async()=>{(0,aS.$U)({message:w.get("success"),type:"success"}),window.location.reload()}}),k=(0,i.useCallback)(e=>{let{credential:t}=e;m(!0),b(aN.GOOGLE_ONE_TAP_CLICKED,{"Select By":e.select_by}),S({token:t,trigger:d.current})},[S,b]),j=(0,i.useCallback)(()=>new Promise((e,t)=>{if(window.google?.accounts?.id)return void e();let n=document.querySelector(`script[src="${aQ}"]`);if(n){n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(Error("Failed to load Google GSI script")));return}let r=document.createElement("script");r.src=aQ,r.async=!0,r.defer=!0,r.onload=()=>e(),r.onerror=()=>t(Error("Failed to load Google GSI script")),document.head.appendChild(r)}),[]),T=(0,i.useCallback)(async()=>{if(!c.current&&a)try{if(await j(),!window.google?.accounts?.id)return;B(),window.google.accounts.id.initialize({callback:k,cancel_on_tap_outside:t,client_id:"244523419479-mvmrvn7lms083328esalneimvahto5q1.apps.googleusercontent.com",context:n,itp_support:!0,prompt_parent_id:aU,use_fedcm_for_prompt:!1}),window.google.accounts.id.prompt(e=>{e.isDisplayed()&&b(aN.GOOGLE_ONE_TAP_SHOWN,{Trigger:d.current,...h&&{"Test Google One Tap":h}}),e.isNotDisplayed()&&b(aN.GOOGLE_ONE_TAP_NOT_SHOWN,{Reason:e.getNotDisplayedReason(),Trigger:d.current,...h&&{"Test Google One Tap":h}}),e.isSkippedMoment()&&b(aN.GOOGLE_ONE_TAP_DISMISSED,{Reason:e.getSkippedReason(),Trigger:d.current,...h&&{"Test Google One Tap":h}}),e.isDismissedMoment()&&b(aN.GOOGLE_ONE_TAP_DISMISSED,{Reason:e.getDismissedReason(),Trigger:d.current,...h&&{"Test Google One Tap":h}})}),c.current=!0}catch(e){console.error("[Google One Tap] Initialization failed:",e)}},[a,j,k,t,n,B,b]),M=(0,i.useCallback)(()=>{window.google?.accounts?.id&&window.google.accounts.id.cancel()},[]);return(0,i.useEffect)(()=>(T(),()=>{M(),y(),c.current=!1}),[T,M,y]),{cancelOneTap:M,loadingComponent:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(aM,{isVisible:A}),(0,r.jsx)(rj.h,{onHide:()=>{},show:A})]}):null}}({cancelOnTapOutside:!1,context:"signup",shouldShow:Y&&!g,trigger:Z});(0,i.useEffect)(()=>{$&&J(aP.z.SHARED_DOCUMENT_LINK)},[$,J]);let{recentlyViewedDocumentIds:ee}=function(e){let[t,n]=(0,at.Mj)(oH.r.RECENTLY_VIEWED_DOCUMENT_IDS);return(0,i.useEffect)(()=>{e&&n(t=>Array.from(new Set([e,...t||[]])).slice(0,5))},[e,n]),{recentlyViewedDocumentIds:t,setRecentlyViewedDocumentIds:n}}(n?.id);(0,i.useEffect)(()=>{$||ee?.length!==3||J(aP.z.THIRD_DOCUMENT_VIEWED)},[$,ee,J]);let er=(0,i.useCallback)(()=>{b>6&&J(aP.z.LAST_PAGE_REACHED),u?.()},[b,J,u]),ei=(0,i.useRef)("unknown"),[es,el]=(0,i.useState)(!1),[ec,eu]=(0,i.useState)({height:200,width:300,x:0,y:0}),[eA,em,ep]=lv(),[e_,eh]=lv(),[eg,ew]=lv(),[,eC]=(0,at.Mj)(oH.r.LAST_DOCUMENT_VIEWED),{sentinelRef:eb}=function(){let[e,t]=(0,lP.B)({root:null,rootMargin:"0px",threshold:0}),n=(0,i.useRef)(null),r=t[0]?t[0].isIntersecting:null,o=t[0]?t[0].boundingClientRect.top<=0:null;return(0,i.useEffect)(()=>{n.current&&e([n.current])},[e]),(0,i.useEffect)(()=>{null!==r&&(r?(0,tm.w)(eI.Cj.DOCUMENT_BACK_TO_VIEWPORT,{}):o&&(0,tm.w)(eI.Cj.DOCUMENT_REACHED_TOP_OF_VIEWPORT,{}))},[r,o]),{sentinelRef:n}}(),ef=!n.isPreviewMode&&iE(p),ex=lS(a.signedQueryParams,"png"),eR=`${h.cdn.aws_cloudfront_document_assets}${a.objectKey}/html/bg1.png${ex}`,ev=(0,i.useCallback)(e=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!n&&(e>20||e%3==0||2===t&&2===e)})(e,b,n.isPreviewMode),[b,n.isPreviewMode]),eD=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.jsx)(ae,{activeSubscription:t,document:n,isInline:e})},[t,n]),eE=p?.find(e=>{let{test:t}=e;return"testInterstitialLectureRecordingBannerOnDesktop"===t})?.variant==="Test",{renderInlinePremiumBannerBefore:eS,renderPromoAppInterstitialAfter:ej,scaleBanners:eT}=(e=>{let{isPagePreview:t,renderPremiumBanner:n,renderPromoAppInterstitial:o}=e,a=(0,i.useRef)({}),s=(0,i.useRef)(null),l=(0,i.useCallback)((e,t)=>{e?a.current[t]=e:delete a.current[t],null===s.current&&e&&(s.current=t)},[]),c=(0,i.useCallback)((e,n)=>{if(null===s.current||!t(e))return 0;let r=a.current[s.current];return r?.offsetHeight?r.offsetHeight*n+aX.gJ:0},[t]),u=(0,i.useCallback)((e,i)=>t(e)?(0,r.jsx)(lD,{bannerKey:i,hideForDesktopLayout:!0,setBannerWrapperRef:l,children:n(!0)}):null,[t,n,l]);return{getInlinePremiumBannerElementHeightBefore:c,renderInlinePremiumBannerBefore:u,renderPromoAppInterstitialAfter:(0,i.useCallback)(()=>(0,r.jsx)(lD,{bannerKey:lE,hideForMobileAndTabletLayout:!0,setBannerWrapperRef:l,children:o?.()}),[o,l]),scaleBanners:(0,i.useCallback)((e,t,n)=>{var r,i;let o=function(e,t){let n=.95*e;return n>t&&t>1?t:n}(e,t),s=(r=e)*(i=n)>aX.WQ*i?aX.WQ:r;Object.keys(a.current).forEach(e=>{var t,r;let i=a.current[e],l=function(e,t){let n=e[t]?.children[0];return n instanceof HTMLElement?n:void 0}(a.current,e);if(!i||!l)return;let c=(t=lE===e?s:o,{transform:`scale(${n}) translateX(-50%)`,width:`${Math.floor(t)}px`});l.style.transform=c.transform,l.style.width=c.width;let u=(r=l.offsetHeight,{height:`${Math.floor(r*n)}px`});i.style.height=u.height})},[])}})({isPagePreview:ev,renderPremiumBanner:eD,renderPromoAppInterstitial:(0,i.useCallback)(()=>(0,r.jsx)(av,{}),[])}),{handlePageChange:eM,scrollToFirstPreviewPage:eN,scrollToPageTop:eQ}=(e=>{let{currentPage:t,getPageWrapperElement:n,isPagePreview:r,pageCount:o,pageDataList:a,topBarBottom:s}=e,l=(0,i.useRef)({firstPreviewPage:null,forceSecondScroll:!1,pendingScrollPage:null});(0,i.useEffect)(()=>{l.current.firstPreviewPage=a.find((e,t)=>r(t+1))?.pageNumber||0},[a,r]);let c=(0,i.useCallback)((e,t)=>{if(1===e)return void lB(0,t);let r=n(e-1);r&&lB(r.getBoundingClientRect().top+window.scrollY-s,t)},[n,s]),u=(0,i.useCallback)((e,n)=>{e<=0||e>o||(1===t&&1!==e&&(l.current.forceSecondScroll=!0,l.current.pendingScrollPage=e),c(e,n))},[o,t,c]);(0,i.useEffect)(()=>{let{firstPreviewPage:e,forceSecondScroll:t,pendingScrollPage:n}=l.current;if(!t||null===n)return;l.current.forceSecondScroll=!1,l.current.pendingScrollPage=null;let r=n===e;c(n,r?"smooth":void 0)},[c]);let d=(0,i.useCallback)(()=>{let e=l.current.firstPreviewPage;e&&u(e,"smooth")},[u]);return{handlePageChange:u,scrollToFirstPreviewPage:d,scrollToPageTop:c}})({currentPage:M,getPageWrapperElement:eA,isPagePreview:ev,pageCount:b,pageDataList:C,topBarBottom:O}),{calculateSelection:eU}=(e=>{let{currentPage:t,documentWrapperRef:n,getPageElement:r,initialSelection:o}=e;return{calculateSelection:(0,i.useCallback)(e=>lh(n.current,lg(r,e-1),sA),[n,r]),initialSelection:(0,i.useMemo)(()=>void 0!==t&&o?lh(n.current,lg(r,t-1),o):sA,[t,n,r,o])}})({documentWrapperRef:k,getPageElement:e_}),eP=(0,i.useCallback)(e=>{let{origin:t}=e.detail;H(t,n.id,M),eu(T.current?function(e,t,n,r){let i=e.current;if(!i)return sA;if(r){let e=t(n-1);if(e){let t=function(e,t){let n={height:window.innerHeight,width:window.innerWidth},r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=Math.max(0,i.top),a=Math.min(n.height,i.bottom),s=a-o;if(s<100)return null;let l=Math.min(200,.5*s),c=Math.max(50,(o+a)/2-r.top-l/2),u=i.width>n.width-64;return{height:l,width:u?n.width-64:i.width-48,x:u?32:i.left-r.left+24,y:c}}(i,e);if(t)return sa(t)}}return sa(function(e){let t={height:window.innerHeight,width:window.innerWidth},n=e.getBoundingClientRect(),r=t.width-64,i=Math.min(200,.4*t.height),o=Math.max(50,t.height/2-i/2-n.top);return{height:i,width:r,x:32,y:o}}(i))}(k,e_,M,M===b):eU(M)),(0,tm.w)(eI.Cj.TOGGLE_CROP_TO_AI_SELECTION_MODE,{isSelectionModeOn:!0}),ei.current=t,el(!0)},[H,n.id,M,e_,b,eU]);(0,eB.M)(eI.Cj.SCROLL_TO_PREMIUM_BANNER,eN,(0,ey.oc)()?window.document:null),(0,eB.M)(eI.Cj.TOGGLE_CROP_TO_AI,eP,(0,ey.oc)()?window.document:null);let{handleFitHeight:eO,handleFitWidth:eF,handleZoomIn:eV,handleZoomOut:eL,runInitialResize:eG}=(e=>{let{currentPage:t,descalerRef:n,documentId:r,documentWrapperRef:o,getPageElement:a,isMobileView:s,isViewerDomReady:l,pageContainerRef:c,pageContainerWrapperRef:u,pageDataList:d,scaleBanners:A,scrollToPageTop:m,setShouldHideToolBar:p,setZoom:_,topBarBottom:h,zoom:g}=e,w=(0,i.useRef)(0),C=(0,i.useRef)(0),b=(0,i.useRef)(0),f=(0,i.useRef)(!1),x=(0,i.useRef)(!1),[R,v]=(0,i.useState)(Date.now()),D=(0,i.useRef)(!1),E=(0,i.useRef)(!0),B=(0,i.useRef)(!1),y=(0,i.useRef)(1),I=(0,i.useRef)(aX.aM);(0,i.useEffect)(()=>void(y.current=d.reduce((e,t)=>{let n=a(t.pageNumber-1);return null!==d[t.pageNumber-1].pageHtml&&n?Math.max(e,n.offsetWidth):e},1),I.current=1===y.current?aX.aM:aX.WQ/y.current),[d]);let S=(0,i.useCallback)(e=>{if(!l.current||!o.current)return;let n=Math.max(Math.min(e,aX.nD),aX.DQ),r=n/g,{clientWidth:i,offsetTop:s}=o.current,c=document.documentElement.scrollLeft,u=document.documentElement.scrollTop,d=a(t-1);if(!d)return;let m=d.offsetWidth*n;A(i,y.current,1/n);let p=Math.round(y.current*n);if(C.current=0,b.current=0,p<i&&p>m)b.current=Math.round((i-m)/2+(i-p)/2);else if(p>i&&m<i)b.current=Math.round((p-m)/2-(i-m)/2);else if(p>i&&m>i){let e=(i-i*r)/2;b.current=Math.round(c*r-e)}let h=window.innerHeight/2;C.current=s+(u-s+h)*r-h,_(n),x.current&&v(Date.now())},[l,o,g,a,t,A,_]),k=(0,i.useCallback)(()=>{if(D.current)return B.current=!0,!0;let e=lQ();s.current!==e&&(f.current=!0,s.current=e);let n=a(t-1);if(!n||!o.current)return!1;let r=n.offsetWidth,i=o.current.clientWidth-aX.Bp;return r*I.current>i?S(i/r):S(I.current),!0},[t,o,a,S,s]),j=(0,i.useCallback)(()=>{f.current=!0,x.current=!0,new Promise((e,t)=>{setTimeout(()=>{k()?(p(!1),e()):t(Error("Page element or wrapper ref is not initialized."))})}).catch(e=>{if(w.current<5)return w.current+=1,new Promise(e=>{setTimeout(()=>{e(j())},aX.h)});(0,lN.y)(r,{pageElementRefIsInitialized:null!==a(0),wrapperRefIsInitialized:null!==o.current},e)})},[]),T=(0,i.useCallback)(()=>{if(!o.current)return;let{clientWidth:e}=o.current;A(e,y.current,1/g)},[o,A,g]),M=(0,i.useCallback)(()=>{E.current&&(D.current=!0)},[]),N=(0,i.useCallback)(()=>{D.current=!1,E.current=!1,B.current&&(B.current=!1,k())},[k]);(0,eB.M)("touchstart",()=>{E.current=!0},(0,ey.oc)()?window:null),(0,eB.M)("touchend",()=>{E.current=!1},(0,ey.oc)()?window:null),(0,eB.M)("scroll",M,(0,ey.oc)()?window:null),(0,eB.M)("scrollend",N,(0,ey.oc)()?window:null),(0,eB.M)("resize",k,(0,ey.oc)()?window:null),(0,i.useEffect)(()=>{let e=new ResizeObserver(T);return o.current&&e.observe(o.current),()=>{e.disconnect()}},[o,T]),lU(g,S),((e,t)=>{let n=t;void 0===t||Array.isArray(t)?Array.isArray(t)&&0===t.length&&console.warn("Using [] as the second argument makes useDidUpdate a noop. Set it to null!"):n=[t];let r=(0,i.useRef)(!1);(0,i.useEffect)(()=>{r.current?e():r.current=!0},n)})(()=>{document.documentElement.scrollTop=C.current,document.documentElement.scrollLeft=b.current,(()=>{let e=u.current,t=n.current;if(!o.current||!e||!c.current||!t)return;e.style.transform=`scale(${g})`,e.style.width=`${Math.max(100/g,y.current/o.current.offsetWidth*100)}%`,e.style.height=`${100/g}%`;let r=Math.round(c.current.offsetHeight*g);t.style.height=`${r}px`,t.style.willChange="",setTimeout(()=>{t.style.willChange="transform"})})(),f.current&&(m(t),f.current=!1)},[g,R]);let Q=(0,i.useCallback)(()=>{let e=Math.ceil(100*g)/100,t=e-e%aX.DG+aX.DG;t===g?S(g+aX.DG):S(t)},[g,S]),U=(0,i.useCallback)(()=>{let e=Math.floor(100*g)/100,t=e-e%aX.DG;t===g?S(g-aX.DG):S(t)},[g,S]),P=(0,i.useCallback)(()=>{let e=a(t-1);if(!o.current||!e)return;let{clientWidth:n}=o.current,r=e.offsetWidth,i=n-aX.Bp;f.current=!0,S(i/r)},[t,o,a,S]);return{handleFitHeight:(0,i.useCallback)(()=>{let e=a(t-1);if(!o.current||!e)return;let n=e.offsetHeight+aX.gJ,r=window.innerHeight-h;f.current=!0,S(r/n)},[t,o,a,S,h]),handleFitWidth:P,handleZoomIn:Q,handleZoomOut:U,runInitialResize:j}})({currentPage:M,descalerRef:B,documentId:n.id,documentWrapperRef:k,getPageElement:e_,isMobileView:T,isViewerDomReady:j,pageContainerRef:S,pageContainerWrapperRef:y,pageDataList:C,scaleBanners:eT,scrollToPageTop:eQ,setShouldHideToolBar:P,setZoom:D,topBarBottom:O,zoom:R}),{handlePageContentLoaded:eH,isDocumentLoaded:ez,loadAndDisplayPages:eW}=(e=>{let{documentId:t,getPageContentElement:n,initialPageDataList:r,isViewerDomReady:o,loadPage:a,navigationStartTime:s,runInitialResize:l}=e,c=(0,i.useRef)(0),u=(0,i.useRef)(0),d=(0,i.useRef)([]),A=(0,i.useRef)(!1);if(!A.current){for(let e=0;e<r.length;e++){let t=null!==r[e].pageHtml;d.current.push({isLoaded:t,isShown:e<aX.xc}),c.current+=+!!t}A.current=!0}let m=r.length,p=m>0&&c.current>0,_=(0,i.useRef)(!1),h=(0,i.useCallback)(()=>{u.current+=1,!o.current&&u.current>=Math.min(m,aX.Yo)&&(o.current=!0,l())},[m,l,o]),g=(0,i.useCallback)((e,t)=>{let r=n(e-1);return!!r&&(r.style.display=t?"block":"none",!0)},[n]),w=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(e,t)&&(d.current[e-1].isShown=t)},[g]),C=(0,i.useCallback)(e=>w(e,!0),[w]),b=(0,i.useCallback)(e=>w(e,!1),[w]),f=(0,i.useMemo)(()=>(0,at.R4)(),[]),x=(0,i.useRef)([]),R=(0,i.useCallback)((e,n)=>{let{originalError:r,reloadForbidden:i,status:o}=n;if(i&&!f)return;let a=403===o||404===o||!o&&!(r instanceof TypeError),s=e.message;!a||x.current.indexOf(s)>=0||(x.current.push(s),(0,eo.w)(e,et.n.LOW,{...n,documentId:t}))},[t,f]),[v,D]=(0,at.Mj)(oH.r.EXPIRED_DOCUMENT_RELOAD_DATA),E=(0,i.useCallback)((e,n)=>{let r,i,o;if(_.current)return;let a=e&&e instanceof Error?e:Error("Failed to load document page content."),l=Date.now(),u=v,A=!1;if(e instanceof lT){if(403===e.status&&!(A=!function(e,t,n){let r=n?.[e]?.reloadTime;return void 0===r||t-r>36e5}(t,l,v))){_.current=!0,D(u={...v,[t]:{navigationStartTime:s,reloadTime:Date.now()}}),window.location.reload();return}b(n+1),c.current-=1,d.current[n].isLoaded=!1,r=e.originalError,i=e.status,o=e.url}let m={navigationStartTime:s,originalError:r,reloadData:u,status:i,timeOnPageSec:(l-s)/1e3,url:o};R(a,A?{...m,reloadForbidden:A}:m)},[v,s,R,b,t,D]),B=(0,i.useCallback)(e=>{let t=e-1;d.current[t].isLoaded||(c.current+=1,d.current[t].isLoaded=!0,a(e).catch(e=>E(e,t)))},[a,E]),y=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.max(e,1),r=Math.min(t,m);if(c.current<m)for(let e=n;e<=r;e+=1)B(e)},[m,B]),I=(0,i.useRef)(!1),S=(0,i.useCallback)(e=>{let t=e.top,n=e.bottom;n!==m||I.current||(I.current=!0),y(t,n),d.current.forEach((e,r)=>{let i=r+1,o=t<=i&&i<=n;d.current[r].isLoaded&&d.current[r].isShown!==o&&(o?C(i):b(i))});let r=t-aX.Lg,i=n+aX.Lg;y(n+1,i),y(r,t-1)},[b,y,m,C]);return(0,i.useEffect)(()=>{y(1,Math.min(aX.O$,m)),C(1),m>aX.O$&&y(aX.O$+1,Math.min(aX.z9,m))},[]),{documentNumberOfPages:m,handlePageContentLoaded:h,isDocumentLoaded:p,loadAndDisplayPages:S}})({documentId:n.id,getPageContentElement:eg,initialPageDataList:s,isViewerDomReady:j,loadPage:w,navigationStartTime:c,runInitialResize:eG});lF({loadAndDisplayPages:eW,onLastPageView:er,pageCount:b,pageWrapperElements:ep,setCurrentPage:N,topBarBottom:O}),(0,i.useEffect)(()=>V(!0),[]),(0,i.useEffect)(()=>{F||(G&&(0,d.Kg)(G)&&eM(parseInt(G)),eC({title:n?.title,url:window.location.pathname}))},[F,eM,G,eC,n?.title]);let eY=(0,i.useCallback)(()=>{(0,tm.w)(eI.Cj.TOGGLE_CROP_TO_AI_SELECTION_MODE,{isSelectionModeOn:!1}),ei.current="unknown",el(!1)},[]);return(0,r.jsxs)("div",{className:ed()(lL().viewerWrapper,es?lL().selectionActive:null),id:"viewer-wrapper",children:[(0,r.jsxs)(E(),{children:[z&&(0,r.jsx)("meta",{content:x,httpEquiv:"Content-Security-Policy",name:"ramp-csp"}),(0,r.jsx)("link",{as:"image",fetchPriority:"high",href:eR,rel:"preload",type:"image/png"}),!!f&&(0,r.jsx)("link",{as:"style",crossOrigin:"anonymous",fetchPriority:"high",href:f,rel:"preload stylesheet",type:"text/css"})]}),ef&&es&&!T?.current&&(0,r.jsx)("div",{className:(0,t_.R)("on-tablet","on-mobile"),children:(0,r.jsx)(lm,{clickOrigin:ei.current,currentPage:M,documentId:n.id,documentWrapperRef:k,getPageElement:e_,initialSelection:ec,onClose:eY,pageCount:b,topBarBottom:O})}),ef&&es&&T?.current&&(0,r.jsx)("div",{className:(0,t_.R)("on-desktop"),children:(0,r.jsx)(le,{clickOrigin:ei.current,currentPage:M,documentId:n.id,documentWrapperRef:k,getPageElement:e_,initialSelection:ec,onClose:eY,pageCount:b,topBarBottom:O})}),ef&&!es&&(0,r.jsx)("div",{className:(0,t_.R)("on-tablet","on-mobile"),children:(0,r.jsx)(a3,{currentPage:M,documentWrapperRef:k,getPageElement:e_,pageContainerRef:S,pageCount:b,zoom:R})}),(0,r.jsx)("article",{className:lL().documentWrapper,id:oA.Cw,ref:k,tabIndex:0,children:(0,r.jsx)("div",{className:lL().descaler,ref:B,suppressHydrationWarning:!0,children:(0,r.jsx)("div",{className:ed()("p2hv",lL().pageContainer),id:aX.Ac,ref:e=>{y.current=e,e&&(e.style.opacity="1")},suppressHydrationWarning:!0,children:(0,r.jsxs)("div",{id:aX.sq,ref:S,children:[!ez&&(0,r.jsx)(lG,{}),ez&&C.map((e,t)=>{let{pageHtml:i,pageHtmlWrapper:o,pageNumber:s}=e;return(0,r.jsxs)("div",{"data-page-index":t,ref:e=>em(e,t),children:[0===t&&(0,r.jsx)("div",{ref:eb,style:{height:"1px",visibility:"hidden"}}),eS(s,`banner_${t}`),(0,r.jsx)(lR,{hasBlurredImage:ev(s)&&!lI(a.signedQueryParams),isBlurred:ev(s),onPageContentLoaded:eH,pageHtml:i,pageHtmlWrapper:o,pageNumber:s,setPageContentRef:ew,setPageRef:eh}),eE&&1===s&&!n.isPreviewMode&&b>1&&ej?.()]},`page-${s}`)})]})})})}),j.current&&!es&&(0,r.jsxs)(aH,{children:[(0,r.jsx)(lH,{activeSubscription:t,containerElementRef:y,currentPage:M,currentZoom:R,document:n,documentAbilities:o,isCropToAskAIEnabled:ef,isForcefullyHidden:Q,maxZoomLevel:aX.nD,minZoomLevel:aX.DQ,numberOfPages:b,onFitHeightClick:eO,onFitWidthClick:eF,onPageChange:eM,onZoomInClick:eV,onZoomOutClick:eL,upgradePaymentPlan:A,userStage:m}),z&&(0,r.jsx)(aC,{isPreviewMode:n.isPreviewMode,shouldShowAds:z,userStage:m})]}),X]})};var lW=n(79632),lY=n(33807),lJ=n(21295),lZ=n(16966),lK=n(38137);let lq="documentRatingState",l$="userRating";var lX=n(42068),l0=n(76582);let l1=(e,t)=>{let n=(0,_.jt)(),{isPremium:r,numberOfPages:o}=e,{session:{permissions:a}}=(0,l.K)(),s=(0,L.j)({isPreviewMode:e.isPreviewMode,numberOfPages:e.numberOfPages,previewCTA:e.previewCTA,userCanHaveTrial:!!a?.canHaveTrial});return(0,i.useCallback)(()=>n("Document Viewer Last Page Reached",{"Document ID":e.id,"Document Is Premium":r,"Document Page Count":o,...s?{"Document View Type":s}:{},...t?{"Test Candy Shop":"Test",isSAI:!0}:{"Test Candy Shop":(0,T.getCookie)("kitKatTestVariant")??""}}),[e.id,s,t,r,o,n])},l2=e=>e.toString().replace(/\/\/.*/g,"").replace(/\s+/g," "),l5=l2((function(e,t,n,r,i,o){let a=document.getElementById(e);new ResizeObserver((e,a)=>{let s=e[0].contentRect.width;if(s>0){a.disconnect();let e=Math.min(s-t,n),l=document.getElementsByClassName("pf")[0],c=l?l.offsetWidth:e,u=Math.min(Math.max(e/c,r),i);window.documentViewerInitialZoom=u;let d=document.getElementById(o);d.style.transform="scale("+u+")",d.style.width=Math.max(100/u,(c/s*100).toFixed(2))+"%",d.style.height=100/u+"%",d.parentElement.style.height=Math.round(d.clientHeight*u)+"px",d.style.opacity="1"}}).observe(a)}).toString()),l3=(0,i.memo)(()=>(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:l2(`(${l5})(
                    '${oA.Cw}',
                    ${aX.Bp},
                    ${aX.WQ},
                    ${aX.DQ},
                    ${aX.nD},
                    '${aX.Ac}'
                )`)}}));var l4=n(65548),l6=n.n(l4);let l7=function(e){let{activeSubscription:t,document:n,documentAccess:o,guestInstitutionId:a,initialPageDataList:s,navigationStartTime:c,originalTitle:u,practiceMaterials:A,previewTextData:m,ratingPopoverVariant:p,relatedDocuments:h,upgradePaymentPlan:g,userStage:C}=e,{config:b,meta:f,session:x,session:{user:R}}=(0,l.K)(),v=(0,i.useRef)(null),D=(0,i.useRef)(null),E=(0,i.useRef)(null),B=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,en.i)(),{initialUserReportedDocument:k}=function(e,t,n){let{data:r}=(0,l0.VO)(t,{documentIds:String(e.id)},{client:{priority:"low"},query:{enabled:!!n}}),{data:i}=(0,lX.YJ)(t,{documentIds:String(e.id)},{client:{priority:"low"},query:{enabled:!n}});return{initialUserReportedDocument:(i||r)?.data?.some(t=>t.document.id===e.id)??!1}}(n,S,R),j=(e=>{let{document:t,headers:n,ratingPopoverVariant:r,user:o,userReportedDocument:a}=e,s=(()=>{let e=(0,_.jt)();return(0,i.useCallback)((t,n)=>e("Document Rated",{...n,"Document Positive Experience Probability":t}),[e])})(),{setFalse:l,setTrue:c,value:u}=(0,tt.C)(!1),A=(e=>{let{documentId:t}=e,{parseResponseErrorMessages:n}=(0,lZ.D)(),r=(0,w.A)(),i=(0,en.i)(),o=(0,tz.useQueryClient)(),a=(e,r)=>{let{newUserRating:i,previousDocumentRatings:a,previousUserRating:s}=r;(0,aS.$U)({message:n(e),type:"error"}),o.setQueryData([lq],a),o.setQueryData([l$],s),(0,eo.w)(Error("Failed to store document ratings"),et.n.LOW,{documentId:t,newUserRating:i,originalError:e})};return(0,tz.useMutation)({mutationFn:async e=>{let{newUserRating:n,previousDocumentRatings:r,previousUserRating:s}=e;try{var l,c,u;let e,a,d,A,m=(l=r,c=s,u=n,{negative:Math.max(0,l.negative+(e=c,a=u,-1===e&&0===a||-1===e&&1===a?-1:+(-1!==e&&-1===a))),positive:Math.max(0,l.positive+(d=c,A=u,1===d&&0===A||1===d&&-1===A?-1:+(1!==d&&1===A)))});return o.setQueryData([lq],m),o.setQueryData([l$],n),await (0,lJ.C)(t,i,{rating:n}),m}catch(e){o.setQueryData([lq],r),o.setQueryData([l$],s),(0,lK.ek)(e?.response)?(0,tm.w)(eI.Cj.DOCUMENT_RATE_LIMITED,{}):a(e,{newUserRating:n,previousDocumentRatings:r,previousUserRating:s})}return r},onError:a,onSuccess:(e,n)=>{let{newUserRating:i}=n;1===i&&r(t,W.q.DOCUMENT_UPVOTED)}})})({documentId:t.id}),[m,p]=(0,i.useState)(0),{data:h}=(0,lY.S8)(n,{documentIds:String(t.id)},{client:{priority:"low"},query:{enabled:!!o}}),{data:g}=(0,lW.fZ)(n,{documentIds:String(t.id)},{client:{priority:"low"},query:{enabled:!o}});(0,i.useEffect)(()=>{let e=h??g,n=e?.data?.find(e=>e.document.id===t.id)?.rating??0;p(e=>e===n?e:n)},[t.id,g,h]);let C=(e=>{let{data:t}=(0,tz.useQuery)({initialData:e,queryFn:()=>e,queryKey:[l$]}),n=(0,tz.useQueryClient)();return(0,i.useEffect)(()=>{n.setQueryData([l$],e)},[e,n]),(0,d.b0)(t)?0:t})(m),b=((e,t)=>{let n={negative:0===e.negative&&t<0?1:e.negative,positive:0===e.positive&&t>0?1:e.positive},{data:r}=(0,tz.useQuery)({gcTime:1/0,initialData:n,queryFn:()=>n,queryKey:[lq],staleTime:1/0});return{negative:r?.negative??0,positive:r?.positive??0}})({negative:t.rating.negative,positive:t.rating.positive},m),{areRatingButtonsDisabled:f,handleRating:x}=(e=>{let{document:t,userHasReachedRatingLimit:n,userReportedDocument:r}=e,o=(0,I.u)(),a=t.isPreviewMode||t.isMine,s=(0,ng.d)(r??!1);return{areRatingButtonsDisabled:a,handleRating:(0,i.useCallback)(e=>{e!==eG.NEGATIVE||s||n||(0,nm.fj)({additionalData:{title:o.get("negative_rate_report")},modalType:nA.j.REPORT})},[s,n,o])}})({document:t,userHasReachedRatingLimit:t.userHasReachedRatingLimit,userReportedDocument:a}),R=(0,i.useCallback)(e=>{p(e),x(e)},[x]),{setFalse:v,setTrue:D,value:E}=(0,tt.C)(!0),B=(0,i.useCallback)(async(e,n)=>{if(f||!E)return;let i=e===C,o=i?0:e;if(t.userHasReachedRatingLimit&&!i)return void c();v(),R(o);try{await A.mutateAsync({newUserRating:o,origin:n,previousDocumentRatings:b,previousUserRating:C}),s(t.rating.positiveExperienceProbability,{"Document ID":t.id,"Document Rated":o===eG.POSITIVE?"Positive":o===eG.NEGATIVE?"Negative":"Neutral","Rating Origin":n,...r&&{"Test Rating Popover":r}})}catch{R(C)}finally{D()}},[f,t.id,t.rating.positiveExperienceProbability,t.userHasReachedRatingLimit,A,c,E,r,b,v,D,s,R,C]);return{areRatingButtonsDisabled:f,handleHideRateDiscoveryModal:l,handleRating:B,handleShowRateDiscoveryModal:c,isButtonEnabled:E,isShowingRateDiscoveryModal:u,ratings:b,userRating:C}})({document:n,headers:S,ratingPopoverVariant:p,user:R,userReportedDocument:k}),{documentAbilities:T}=function(e,t,n){let r=[...(0,es.b2)(e),{isUserPremium:n}],{data:o,isError:a,isLoading:s}=(0,es.h6)(e,t,{query:{queryKey:r}}),l=(0,i.useMemo)(()=>s||!o?null:function(e){var t;if(t=e,!el.AL.safeParse(t).success){let e=Error("Error: Document Abilities response is not valid.");return(0,ei.Vt)(e),console.error(e),ec}let{data:n,meta:r}=e;return{canDownload:n.canDownload,canDownloadReason:r.canDownload?.reason??null,canRate:n.canRate,shouldShowAIChat:n.canSeeAIChat,shouldShowAIQuiz:n.canSeeDocumentAIQuiz}}(o),[o,s]);return a?{documentAbilities:ec}:{documentAbilities:l}}(n.id,S,R?.isPremium??!1),M=l1(n);return s?.length?(0,r.jsxs)(X.tH,{fallback:(0,r.jsx)(ee.u,{}),onError:ei.l4,children:[(0,r.jsx)(oh,{activeSubscription:t,document:n,documentAbilities:T,originalTitle:u,practiceMaterials:A,ratingPopoverVariant:p,upgradePaymentPlan:g,userReportedDocument:k,userStage:C,...j}),(0,r.jsxs)("div",{className:l6().pageContentWithBottomSectionWrapper,children:[(0,r.jsx)(rB,{align:"right",level:3,children:(0,r.jsx)(rv,{courseBannerRef:D,documentId:n.id,pagesCount:s.length,recommendationsBannerRef:E,studylistBannerRef:B,uploaderBannerRef:y})}),(0,r.jsxs)("section",{className:l6().pageContentWrapper,children:[(0,r.jsx)(rk,{documentId:n.id,keyConcepts:n.aiSummary?.keyConcepts,summary:n.aiSummary?.summary}),(0,r.jsx)(lz,{activeSubscription:t,document:n,documentAbilities:T,documentAccessData:o,initialPageDataList:s,navigationStartTime:c,onLastPageView:M,upgradePaymentPlan:g,userStage:C}),(0,r.jsx)(rB,{children:(0,r.jsx)("div",{className:l6().premiumBannerWrapper,children:(0,r.jsx)(ae,{activeSubscription:t,document:n,isInline:!1})})}),(0,r.jsx)(eg,{children:(0,r.jsx)("div",{className:l6().visibleContentBottomSection,id:ea.bn})})]}),(0,r.jsx)("div",{id:ea.Y4}),(0,r.jsx)(rd,{bottomSectionWrapperRef:v,courseBannerRef:D,document:n,guestInstitutionId:a,previewTextData:m,recommendationsBannerRef:E,relatedDocuments:h,studylistBannerRef:B,uploaderBannerRef:y,userReportedDocument:k,...j})]}),(0,r.jsx)("section",{children:(0,r.jsx)(er.A,{appName:b.appName,currentLanguage:f.currentLanguage,currentLocale:f.locale,session:x,trustPilotConfig:b.trustPilotConfig})}),(0,r.jsx)(l3,{})]}):((0,eo.w)(Error("Document initial page data list is empty"),et.n.CRITICAL,{documentId:n.id}),(0,r.jsx)(ee.u,{}))};function l9(e){let{ab:t,activeSubscription:n,cookieSizes:o,document:a,documentAccess:s,guestInstitutionId:c,laravelUserId:p,pageDataList:h,practiceMaterials:b,previewTextData:x,relatedDocuments:D,seoData:E,testNoPremiumScriptVariant:B,upgradePaymentPlan:y,userStage:I}=e,S=(0,i.useRef)(Date.now()),U=(0,w.A)(),P=(e=>{let t=(0,_.jt)(),n=e.course?.grade,r=e.course?.degree||n?.degree,o=O();return(0,i.useCallback)(i=>{if(o)return Promise.resolve(!1);t(W.q.DOCUMENT_READ,{...e.course&&{"Course ID":e.course.id},"Document ID":e.id,"Institution ID":e.institution.id,"Page Count":e.numberOfPages,"Reading Time":i,...r&&{"Degree ID":r.id},...n&&{"Grade ID":n.id},...e.institution&&(0,$.g)(e.institution)})},[r,n,e.course,e.id,e.institution,e.numberOfPages,o,t])})(a),G=t?.find(e=>"testRatingPopover"===e.test)?.variant,{session:{permissions:J,user:Z}}=(0,l.K)();g(m.J.DocumentViewer,{"Course ID":a.course?.id,"Document Category ID":a.categoryId,"Document ID":a.id,"Institution ID":a.institution?.id,"Page Count":a.numberOfPages,"University ID":a.institution?.id,"University Level":(0,C.P)(a.institution),"University Name":a.institution?.name,...Z&&{"User ID":Z?.id}},.03),(0,j.PD)(),function(e){let{cookieSizes:t,document:n,laravelUserId:r,recommendedDocuments:o,relatedDocuments:a,seoData:s,testNoPremiumScriptVariant:c,user:u,userCanHaveTrial:A=!1,userStage:m}=e,p=(0,_.jt)(),{ab:h,meta:g}=(0,l.K)(),w=(0,Q.X)(),b=K(),f=a?.tier1.length||0,x=a?.tier2.length||0,D=f+x,E=o?.length||0,B=+!!n?.isPremium,y=(0,L.j)({isPreviewMode:n.isPreviewMode,numberOfPages:n.numberOfPages,previewCTA:n.previewCTA,userCanHaveTrial:A}),I=h.find(e=>{let{test:t}=e;return"testAskAIMetadataPrefill"===t}),S=h.find(e=>{let{test:t}=e;return"testGeoguessUserInstitution2"===t})?.variant,k=h.find(e=>{let{test:t}=e;return"testRemoveFacebookAuth"===t})?.variant,j=h.find(e=>"testUnlockPremiumFor$0"===e.test),U=h.find(e=>{let{test:t}=e;return"testCropToAI"===t})?.variant,P=h.find(e=>{let{test:t}=e;return"testShowCourseInCompactTopbar"===t})?.variant,G=h.find(e=>{let{test:t}=e;return"testDocumentPageNavigator"===t})?.variant,J=h.find(e=>{let{test:t}=e;return"testTieredPremium"===t})?.variant,Z=h.find(e=>{let{test:t}=e;return"testTieredPremiumCoreMarket"===t})?.variant,$=h.find(e=>{let{test:t}=e;return"testTieredPremiumRow"===t})?.variant,X=h.find(e=>{let{test:t}=e;return"testPaddle7dayTrial"===t})?.variant,ee=h.find(e=>"testRatingPopover"===e.test)?.variant,et=(0,v._)(h,"testGoogleOneTap"),en=(0,v._)(h,"testAppGenericBannerInMobileDocViewerV2"),er=(0,v._)(h,"testInterstitialLectureRecordingBannerOnDesktop"),ei=(0,v._)(h,"testAdsV0H22025"),eo=O(),ea=(0,C.P)(n.institution),es=(0,C.P)(u?.institution),el=(0,F.XW)(),ec=el?.name?N.N[el.name]??null:null;(0,i.useEffect)(()=>{eo||q(()=>{let e={"Test Candy Shop":(0,T.getCookie)("kitKatTestVariant")??"","Document ID":n.id,Title:n.title,"Page Count":n.numberOfPages,...n.createdAt&&{"Update Date":(0,M.aG)(n.createdAt).toISOString()},"Is New":n.isNew,Premium:B,Rating:n.rating.total,"Document Tier 1 Related Document Count":f,"Document Tier 2 Related Document Count":x,"Document Related Document Count":D,"Document User View Count":n.viewedCount,"Total Document Count":D+E,"Document Positive Experience Probability":n.rating.positiveExperienceProbability,"Document Is First Of Session":H()===n.id,"Published At":n.publishedAt,...n.course&&{...n.course.code&&{"Course Code":n.course.code},"Course Document Count":n.course.documentCount,"Course ID":n.course.id,"Course Name":n.course.name},...n.institution&&{"University ID":n.institution.id,"University Name":n.institution.name,...n.institution.country&&{"University Country ID":n.institution.country.id,"University Country Name":(0,z.A)(n.institution.country.id)},"University Stage":n.institution.stage,...!(0,d.b0)(ea)&&{"University Level":ea}},...n.course?.grade&&{"Grade ID":n.course.grade.id,"Grade Name":n.course.grade.name},"User Signed In":!!u,"User Stage":m,"User Language":g.currentLanguage,...u?.institution&&{"User University ID":u.institution.id,"User University Name":u.institution.name,...u.institution.country?.id&&{"User University Country ID":u.institution.country.id,"User University Country Name":(0,z.A)(u.institution.country.id)},"User University Stage":u.institution.stage,...!(0,d.b0)(es)&&{"User University Level":es}},...!!u&&{"User ID":u.id},...u?.degree&&{"User Degree ID":u.degree?.id,"User Degree Name":u.degree?.name,"User Degree Stage":u.degree?.stage,"User Degree Region":u.degree.region?.code},...u?.country&&{"User Country ID":u.country.id,"User Country Name":u.country.name},...n.course?.degree&&{"Degree ID":n.course.degree.id,"Degree Name":n.course.degree.name,"Degree Stage":n.course.degree.stage??n.course.grade?.degree.stage,"Degree Region":n.course.degree.region?.code},...n?.categoryId&&{"Category ID":n.categoryId,"Category Name":(0,V.lm)(n.categoryId)},"Is Upload Anonymous":n.user?.isAnonymous||null===n.user,...y&&{"Document View Type":y},...n.premiumCause&&{"Premium Cause":n.premiumCause},"Is Premium":"Premium System"===n.premiumCause,...!(0,d.Im)(b)&&b,"Own Document":n.isMine,...u?.hasUnclaimedRewards&&{"Unclaimed Premium Reward":u.hasUnclaimedRewards},...ec&&!u?.isPremium&&{"Shown Floating Element":ec},...S&&{"Test Geoguess User Institution 2":S},...k&&{"Test Remove Facebook Auth":k},...!(0,d.Im)(I?.variant)?{"Test Ask AI Metadata Prefill":I?.variant}:{},...n.documentAcquisitionTypeId&&{"Document Acquisition Type Id":n.documentAcquisitionTypeId},"Has AI Enhanced Title":!!s?.hasAITitle,...J&&{"Test Tiered Premium":J},...Z&&{"Test Tiered Premium Core Market":Z},...$&&{"Test Tiered Premium Row":$},...u?.userPremiumTier&&{"User Premium Tier":(0,R.aL)(u.userPremiumTier.replaceAll("-"," "))},...(0,d.hj)(g?.detectedCountry?.name)&&{"IP Country":g.detectedCountry.name},...(0,d.hj)(X)&&n.isPremium&&!u?.isPremium&&{"Test Paddle 7 Day Trial":X},...n.isPremium&&!u?.isPremium&&w,...U&&{"Test Crop to AI":U},...ei&&{"Test Ads V0 H2 2025":ei},...c&&{"Test No Premium Script H2 2025":c},...P&&{"Test Show Course in Compact Topbar":P},...en&&{"Test app generic banner in mobile doc viewer":en},...G&&{"Test Document Page Navigator":G},"Studocu Cookie Size":t.studocuCookieSize,"Abtest Cookie Size":t.abTestCookieSize,"Studocu Documents Cookie Size":t.studocuDocumentsCookieSize,"User Comparison":Y(u?.id,r),...(0,d.hj)(r)&&{"Laravel User ID":r},...j?.variant&&{"Test Unlock Premium For $0":j.variant},...ee&&{"Test Rating Popover":ee},...et&&{"Test Google One Tap":et},...er&&{"Test Interstitial Lecture Recording Banner On Desktop":er}};p(W.q.DOCUMENT_VIEW,e)})},[])}({cookieSizes:o,document:a,laravelUserId:p,relatedDocuments:D,seoData:E,testNoPremiumScriptVariant:B,user:Z,userCanHaveTrial:J?.canHaveTrial,userStage:I});let X=E?.originalTitle,ee=X&&a.title!==X?X:void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{aiDescription:a.aiSummary?.metaDescription,author:a.user,courseNameAndCode:a.course?(0,u.Sm)(a.course):"",description:a.description,documentDatePublished:a.publishedAt,documentInstitutionType:a.institution?.type,previewText:x?.isMarkdown&&x?.text?f(x?.text):x?.text,ratingNegative:a.rating.negative,ratingPositive:a.rating.positive,seoData:E,title:a.title}),(0,r.jsx)(A,{lapTime:60,onTimerReachLap:e=>(U(a.id,W.q.DOCUMENT_READ_ALGOLIA),P(e))}),(0,r.jsx)(l7,{activeSubscription:n,document:a,documentAccess:s,guestInstitutionId:c,initialPageDataList:h,navigationStartTime:S.current,originalTitle:ee,practiceMaterials:b,previewTextData:x,ratingPopoverVariant:G,relatedDocuments:D,upgradePaymentPlan:y,userStage:I})]})}let l8=(0,d.Oo)(e=>e());var ce=n(94886),ct=n(23807),cn=n(96490);let cr={clickThrough:"https://studocu.sng.link/Eqfil/xy22",viewThrough:"https://i.sng.link/Eqfil/xy22"},ci=e=>{let{className:t,height:n=112,width:i=139}=e;return(0,r.jsxs)("svg",{className:t,fill:"none",height:n,viewBox:"0 0 139 80",width:i,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M61.364 138.132s-29.855-1.478-31.944-6.588c-6.395-15.521-4.274-70.346-.61-84.293 1.414-5.335 27.572-15.458 51.289-9.287 23.684 6.17 20.728 5.72 22.528 8.516 1.799 2.796 8.066 76.388 1.51 84.293-6.588 7.97-42.773 7.359-42.773 7.359Z",fill:"#000"}),(0,r.jsx)("path",{d:"M51.144 43.78s-22.656 4.564-31.718 13.594C7.374 69.425-5.994 105.16-5.576 114.127c.417 8.998 8.966 11.472 33.775-7.36l6.074 29.469c1.67 8.356 9.544 13.98 17.996 12.919l40.62-5.206a6.425 6.425 0 0 0 5.624-6.041l6.202-20.664s1.157.868 5.239 2.378c10.54 3.921 33.325 2.828 28.344-16.454-3.278-12.662-18.575-39.624-26.095-48.012-7.52-8.387-31.75-10.765-31.75-10.765l-29.309-.61Z",fill:"#F36A1C"}),(0,r.jsx)("path",{d:"M60.142 33.85c-10.99-.032-19.185 7.809-17.45 11.183 7.81 15.233 26.545 11.89 26.545 11.89s21.017-4.049 21.017-12.565c.032-10.797-18.318-10.476-30.112-10.508Z",fill:"#F36A1C"}),(0,r.jsx)("path",{d:"m74.572 45.387-.74-21.627H59.404l-.289 20.02c0 1.061.707.9 1.51 1.607l3.568 3.085c1.639 1.414 2.153 3.953 5.752.29l2.153-1.51c1.414-1.029 2.507-.065 2.475-1.865Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M76.243 8.623c-.61-4.114 1.253-7.81 4.145-8.227 2.893-.418 5.72 2.57 6.331 6.716.61 4.114-1.253 7.81-4.145 8.227-2.893.418-5.72-2.603-6.331-6.716ZM47.095 11.644c-2.892-.482-4.724-4.017-4.114-7.906.643-3.888 3.503-6.684 6.395-6.202 2.893.482 4.725 4.017 4.114 7.906-.643 3.92-3.503 6.684-6.395 6.202Z",fill:"#000"}),(0,r.jsx)("path",{d:"M45.777 16.786c-2.892-.482-4.724-4.017-4.113-7.905.643-3.889 3.503-6.685 6.395-6.203 2.892.482 1.06 2.764.418 6.685-.61 3.888.193 7.905-2.7 7.423Z",fill:"#000"}),(0,r.jsx)("path",{d:"M46.902-.697c-.771-5.206 3.856-10.187 10.316-11.15 6.46-.933 12.308 2.506 13.08 7.712.77 5.206-3.857 10.187-10.317 11.151-6.459.932-12.308-2.506-13.079-7.713Z",fill:"#000"}),(0,r.jsx)("path",{d:"M40.154 24.562c-1.575-2.828-1.061-6.138 1.124-7.359 2.218-1.221 5.303.064 6.878 2.892 1.574 2.828 1.06 6.138-1.125 7.36-2.218 1.253-5.303-.065-6.877-2.893ZM92.696 17.846c.418-3.214-1.285-6.106-3.824-6.427-2.507-.322-4.885 2.024-5.302 5.27-.418 3.214 1.285 6.106 3.824 6.427 2.506.29 4.884-2.056 5.302-5.27Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"m74.186 37.353.032-3.502-14.88-.836v7.07c4.693 1.253 10.316-.225 14.848-2.732Z",fill:"#000"}),(0,r.jsx)("path",{d:"M68.294 37.597c11.089-1.439 18.863-11.966 17.365-23.512C84.16 2.54 73.956-5.655 62.868-4.215 51.779-2.778 44.004 7.75 45.503 19.295c1.498 11.547 11.702 19.74 22.791 18.301Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M71.39 7.048c-2.185-2.539-1.286-6.91 2.025-9.77 3.31-2.86 7.776-3.149 9.962-.61 2.185 2.539 1.285 6.91-2.025 9.77-3.31 2.86-7.777 3.149-9.962.61Z",fill:"#000"}),(0,r.jsx)("path",{d:"M65.541-7.895c1.704-2.892 6.139-3.439 9.898-1.221C79.233-6.9 80.903-2.753 79.233.139c-1.704 2.892-6.138 3.439-9.898 1.221-3.793-2.25-5.496-6.395-3.793-9.255ZM42.146 11.194c-.643-4.403 5.303-9.32 8.323-10.187 3.214-.9 5.753-2.217 2.764 2.314-2.185 3.342-3.438 7.937-4.692 15.972-.61 3.792-5.752-3.696-6.395-8.099Z",fill:"#000"}),(0,r.jsx)("path",{d:"M87.844 4.574C87.266.172 80.614-3.01 77.69-3.042c-3.15-.032-5.752-.643-1.896 2.957 2.86 2.667 5.174 6.748 8.42 14.14 1.543 3.503 4.21-5.078 3.631-9.48ZM51.24 3.577c-1.188-4.66 2.7-9.64 8.677-11.183 5.978-1.51 11.794.996 12.983 5.656 1.19 4.66-2.699 9.64-8.676 11.183-5.978 1.51-11.794-.996-12.983-5.656Z",fill:"#000"}),(0,r.jsx)("path",{d:"M43.046 10.037c-1.64-2.539-.418-6.266 2.763-8.323 3.182-2.057 7.07-1.64 8.71.932 1.638 2.539.417 6.266-2.764 8.323-3.182 2.025-7.07 1.607-8.71-.932Z",fill:"#000"}),(0,r.jsx)("path",{d:"M66.698 21.767c0 1.22-.29 2.153-.932 2.153-.642 0-.418-1.06-.418-2.282 0-1.221-.224-2.185.418-2.185.643 0 .932 1.092.932 2.314Z",fill:"#F064FC"}),(0,r.jsx)("path",{d:"M60.078 21.638c1.225 0 2.217-.59 2.217-1.317 0-.728-.992-1.318-2.217-1.318s-2.217.59-2.217 1.318c0 .727.992 1.317 2.217 1.317ZM71.55 21.027c1.226 0 2.218-.59 2.218-1.317 0-.728-.992-1.318-2.217-1.318s-2.218.59-2.218 1.318c0 .727.993 1.317 2.218 1.317ZM41.985 19.902s2.667 1.029 3.182 4.917c0 0 .353.964.546.225.193-.739-1.221-5.624-3.503-5.591-2.282.032-.225.45-.225.45ZM88.519 13.99c-.065.096-3.503 3.567-1.414 6.845 0 0 .803.9.546-.16-.257-1.061-.771-3.857.932-5.496 1.703-1.671.096-1.414-.064-1.189ZM64.69 25.912c1.447.707 4.082 1.029 5.271-.803.16-.257.257-.772.771-.9.514-.129.61 2.764-2.731 3.342-3.375.579-4.82-2.378-3.31-1.639Z",fill:"#000"}),(0,r.jsx)("path",{d:"M54.68 40.92s10.283 10.348 12.34 10.283c2.056-.064-11.762-10.797-12.534-11.119-.739-.353.097.707.193.836Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M79.327 42.045s-15.296 10.187-16.26 11.794c-1.061 1.767 16.678-11.12 17.128-11.794.482-.675-.74-.065-.868 0Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M44.139 46.512c4.563 4.242 13.722 11.215 22.88 9.994 13.209-1.767 22.367-9.608 22.657-9.608.289 0-.257 1.639-6.781 5.366-6.524 3.696-12.405 5.946-21.05 5.463-9.03-.514-19.345-11.569-19.602-12.083-.483-.964 1.51.514 1.896.868Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M90.51 45.74c-.481.097-.674 32.715 9.481 53.475l.964-51.257c0-.032-5.495-3.181-10.444-2.217ZM40.475 44.584c.482.096.675 32.714-9.48 53.474l-.964-51.257s5.495-3.181 10.444-2.217Z",fill:"#000"}),(0,r.jsx)("path",{d:"M127.179 92.113s-22.238-12.92-31.526-17.193c-9.287-4.274-29.565-6.427-29.565-6.427l-.353.032-2.218 14.107 5.945 3.728s-.932 5.206 6.299 12.437c7.23 7.231 32.683 20.246 32.683 20.246s13.336 5.913 23.748-.193c10.413-6.138 4.853-18.446 4.114-21.05-.771-2.634-9.127-5.687-9.127-5.687ZM34.112 70.068l2.442-2.7s-11.73 5.303-18.06 8.099c-6.3 2.795-14.462 10.187-24.296 28.954-9.833 18.768 5.014 23.749 12.084 22.078 7.07-1.671 16.164-13.176 20.631-17.611 4.467-4.467 13.305-27.155 11.473-30.465-1.832-3.31 1.896-.578 1.896-.578l-6.17-7.777Z",fill:"#F36A1C"}),(0,r.jsx)("path",{d:"m51.238 88.501 15.136-.128c2.474 0 4.21-2.314 3.47-4.692l-8.607-27.268c-.483-1.543-1.83-3.647-5.49-3.647H44.553c-3.053 0-5.72 2.506-4.949 4.884L47.8 85.898c.45 1.543 1.864 2.603 3.439 2.603Z",fill:"#000"}),(0,r.jsx)("path",{d:"m49.952 88.984 14.75-.129c2.41 0 4.114-2.25 3.407-4.563l-8.452-27.123c-.482-1.51-2.08-3.021-4.367-3.021H43.396c-2.988 0-5.56 2.442-4.852 4.756l8.002 27.573c.482 1.478 1.864 2.507 3.406 2.507Z",fill:"#E0FF6E"}),(0,r.jsx)("path",{d:"M54.612 62.954h2.346c.386 0 .643-.386.547-.772l-1.479-4.467a.551.551 0 0 0-.546-.417h-2.346c-.385 0-.642.385-.546.77l1.35 4.5c.096.225.417.386.674.386Z",fill:"#000"}),(0,r.jsx)("path",{d:"m58.532 65.331 10.252-1.896c1.703-.321 3.374.804 3.695 2.475a2.997 2.997 0 0 1-2.635 3.535l-10.38 1.189c-1.51.16-2.924-.9-3.085-2.378-.193-1.382.771-2.668 2.153-2.925Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"m59.69 76.321 12.404-1.607a2.754 2.754 0 0 0 2.442-2.603l.032-.289c.129-1.832-1.51-3.31-3.342-3.02l-12.404 1.863c-1.479.225-2.54 1.543-2.378 3.053.128 1.607 1.606 2.796 3.245 2.603Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M60.172 78.442c-.064-1.221.803-2.282 2.089-2.507l8.195-1.35c1.317-.224 2.635.547 3.053 1.736l.192.61c.515 1.479-.546 2.989-2.185 3.15l-8.387.739c-1.51.128-2.86-.964-2.957-2.378Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M62.71 82.588c.096-.964.835-1.735 1.767-1.864l6.78-.996c1.094-.161 2.122.61 2.283 1.735l.096.707c.16 1.253-.74 2.378-1.96 2.442l-6.877.29c-1.254.032-2.218-1.06-2.09-2.314ZM42.721 63.307l-8.195 1.67c-1.35.29-2.12 1.832-1.639 3.471.483 1.672 2.025 2.732 3.407 2.346l8.002-2.346c1.189-.353 1.735-1.8 1.253-3.213-.482-1.318-1.703-2.153-2.828-1.928Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"m46.481 73.654-9.608 2.667c-1.029.29-2.25-.353-2.86-1.542l-.13-.257c-.835-1.607-.288-3.503 1.158-3.857l9.737-2.41c1.157-.29 2.475.579 2.989 1.96.578 1.543-.032 3.085-1.286 3.439Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M47.028 75.743c-.45-1.125-1.543-1.8-2.571-1.575l-6.492 1.479c-1.06.225-1.703 1.35-1.478 2.603l.096.61c.258 1.51 1.64 2.54 2.893 2.121l6.395-2.12c1.157-.322 1.67-1.768 1.157-3.118Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M46.931 80.37c-.482-.835-1.317-1.317-2.056-1.124l-5.335 1.35c-.868.224-1.286 1.253-.932 2.346l.225.674c.386 1.19 1.542 1.896 2.442 1.543l5.11-2.025c.9-.353 1.157-1.639.546-2.763Z",fill:"#A9543D"}),(0,r.jsx)("path",{d:"M37.033 69.766c.257-.065 5.785-1.607 6.877-1.671 1.093-.065-3.02 1.446-5.655 2.056-2.668.643-2.314-.16-1.222-.385ZM39.058 75.743c-.193.16-.032.45.193.353 1.028-.353 2.763-.9 4.145-1.317 2.09-.61.804-1.254-1.51-.579a8.668 8.668 0 0 0-2.828 1.543ZM44.52 79.214c-.642.064-3.791 1.093-4.595 1.543-.803.45 2.571-.29 4.082-.74 1.51-.482.514-.803.514-.803ZM59.143 70.569s9.287-1.832 10.637-1.832c1.382 0-1.96 1.028-3.728 1.189-1.767.16-5.816 1.06-6.459 1.06-.61-.032-.932-.32-.45-.417ZM62.132 75.84s6.555-1.318 8.034-1.35c1.478-.032.289.417-.997.642-1.253.225-6.684 1.029-7.166.997-.482 0 .129-.29.129-.29ZM64.8 80.66s6.009-1.125 6.78-1.028c.771.096.064.578-2.57.9-2.636.321-6.428.803-4.21.128ZM54.711 15.21s3.535-1.96 7.102.45c0 0 .932.483.482-.514-.482-.964-2.731-2.185-5.206-1.574-2.474.578-3.085 1.478-2.924 1.735.16.257.546-.096.546-.096ZM70.008 14.922s2.957-2.732 7.006-1.286c0 0 1.028.225.354-.61-.707-.836-3.182-1.447-5.431-.29-2.282 1.157-2.636 2.186-2.41 2.378.192.225.481-.192.481-.192Z",fill:"#000"}),(0,r.jsx)("path",{d:"M86.12 73.316c3.84.958 14.308 3.937 23.069 7.612.236.104.38-.163.194-.367-2.505-2.6-14.343-7.842-23.245-7.636-.215.006-.259.322-.018.391Z",fill:"#fff"})]})};var co=n(646),ca=n.n(co);let cs=e=>{let{clickThroughLink:t,onBannerClick:n,onClose:i}=e;return(0,r.jsxs)("div",{className:ca().promoAppBanner,children:[(0,r.jsxs)(tl.A,{className:ca().link,href:t,onClick:n,target:"_blank",children:[(0,r.jsxs)("div",{className:ca().content,children:[(0,r.jsx)(eE.E,{color:"inverse",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"get_more_ai_study_help"})}),(0,r.jsxs)("div",{className:ca().buttonWrapper,children:[(0,r.jsx)("span",{className:ca().buttonAddon,children:(0,r.jsx)(ej.I,{icon:eU.fLi,size:"1x"})}),(0,r.jsx)(eE.E,{color:"blue",variant:"title-medium",children:(0,r.jsx)(ef.A,{id:"open_the_app"})})]})]}),(0,r.jsx)(ci,{className:ca().illustration})]}),(0,r.jsx)("div",{className:ca().closeButton,children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{color:"white",icon:eU.yYc,size:"1.5x"}),"aria-label":"Close",color:"white",onClick:i,size:"medium",variant:"tertiary"})})]})},cl={APP_PROMOTION_BANNER_CLICKED:"App Promotion Banner Clicked",APP_PROMOTION_BANNER_DISMISSED:"App Promotion Banner Dismissed",APP_PROMOTION_BANNER_SHOWN:"App Promotion Banner Shown"},cc=()=>{let{ab:e}=(0,l.K)(),t=(e=>{let{campaignName:t,placementName:n,testVariant:r}=e,{pageName:o}=(0,l.K)(),[a,s]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let e=(0,nr.vA)().get("utm_source"),i=window.innerWidth,a=(0,cn.e)(i),l=new URLSearchParams({_dl:"studocu://home",_smtype:"3",...a&&{p:a},pcn:t,...r&&{pcrn:r},pscn:n??o,...e&&{psn:e}}).toString();s({clickThrough:`${cr.clickThrough}?${l}`,viewThrough:`${cr.viewThrough}?${l}`})},[t,n,o,r]),a??cr})({campaignName:"generic app banner",testVariant:(0,v._)(e,"testAppGenericBannerInMobileDocViewerV2")??void 0}),{dismiss:n,isVisible:o}=al(),{trackAppPromotionBannerClicked:a,trackAppPromotionBannerDismissed:s,trackAppPromotionBannerShown:c}=(()=>{let e=(0,_.jt)(),{ab:t}=(0,l.K)(),n=(0,v._)(t,"testAppGenericBannerInMobileDocViewerV2"),r=(0,i.useMemo)(()=>({...n&&{"Test app generic banner in mobile doc viewer":n}}),[n]);return(0,i.useMemo)(()=>({trackAppPromotionBannerClicked:()=>e(cl.APP_PROMOTION_BANNER_CLICKED,r),trackAppPromotionBannerDismissed:()=>e(cl.APP_PROMOTION_BANNER_DISMISSED,r),trackAppPromotionBannerShown:()=>e(cl.APP_PROMOTION_BANNER_SHOWN,r)}),[e,r])})();return((0,i.useEffect)(()=>{if(o&&(c(),t.viewThrough)){let e=new Image(1,1);e.style.display="none",e.src=t.viewThrough}},[o,c,t.viewThrough]),o)?(0,r.jsx)(cs,{clickThroughLink:t.clickThrough,onBannerClick:()=>{a(),n()},onClose:e=>{e.preventDefault(),e.stopPropagation(),n(),s()}}):null};var cu=n(33791),cd=n(20755),cA=n(6530),cm=n(37147),cp=n(51e3),c_=n(64098),ch=n(40568);let cg=e=>{let{index:t,onItemChange:n,studylist:o}=e,[a,s]=(0,i.useState)(o.isDocumentSaved);return(0,r.jsx)("li",{children:(0,r.jsx)(c_.R,{htmlFor:`${o.id}`,label:o.name,children:(0,r.jsx)(ch.Sc,{checked:a,id:`${o.id}`,onChange:e=>{let t=e.target.checked;s(t),n(o.id,o.name,t)},testSelector:`studylist-${t+1}`},o.id)})})};var cw=n(86054),cC=n.n(cw);let cb=e=>{let{onItemChange:t,userStudylists:n=[]}=e,i=(0,I.u)().get("favorites");return(0,r.jsxs)("ul",{className:cC().studylists,children:[n?.length===0&&(0,r.jsx)("li",{children:(0,r.jsx)(c_.R,{htmlFor:"default-studylist",label:i,children:(0,r.jsx)(ch.Sc,{id:"default-studylist",onChange:e=>t(-1,i,e.target.checked),testSelector:"default-studylist"})})},"default-studylist"),n.map((e,n)=>(0,r.jsx)(cg,{index:n,onItemChange:t,studylist:e},e.id))]})};var cf=n(5884),cx=n.n(cf);let cR=e=>{let{document:t,documentSavedSource:n,onHide:o,onToggleSaveButton:a,origin:s,showDocumentTitle:l}=e,c=t.id,u=t.title,d=(0,i.useId)(),{invalidateQueries:A,isLoading:m,userStudylists:p=[]}=i2(c),{addDocumentToStudylist:_}=(0,cd.q)(),{removeDocumentFromStudylist:h}=(0,cm.I)(),{createStudyList:g}=(0,cA.J)(),w=async(e,r,i)=>{if(-1!==e||i){if(i&&-1===e){try{g({document:t,documentSavedSource:n,origin:s,studylistName:r,userStudylistsCount:p.length})}catch(e){console.error("Failed to create studylist",e)}return}i&&-1!==e&&_({document:t,showToast:!0,source:n||"",studylistId:e,studylistName:r,userStudylistsCount:p.length}),i||-1===e||h({document:t,showToast:!0,studylistId:e,studylistName:r}),A(),a?.(c,e,i)}};return(0,i.useEffect)(()=>{m||0!==p.length||((0,cp.IF)({document:t,modalName:"createStudylistModal",origin:s}),o())},[m,p.length]),(0,r.jsxs)(cu.aF,{ariaLabelledBy:d,onHide:o,show:!0,testSelector:"save-document-modal",children:[(0,r.jsxs)(cu.aF.Header,{id:d,children:[(0,r.jsx)(ef.A,{id:"save_to_studylist"}),l&&(0,r.jsx)(eb.Z,{component:"div",size:"small",weight:"normal",children:u})]}),m?(0,r.jsx)(ak.y,{className:cx().spinnerWrapper,size:"medium"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(cu.aF.Body,{children:(0,r.jsx)(cb,{onItemChange:w,userStudylists:p})}),(0,r.jsx)(cu.aF.Footer,{className:cx().footer,children:(0,r.jsx)(eP.$,{addon:(0,r.jsx)(ej.I,{icon:eU.QLR}),color:"gray",onClick:()=>{(0,cp.IF)({document:t,modalName:"createStudylistModal",origin:s}),o()},size:"medium",testSelector:"show-create-studylist-form-button",variant:"plain",children:(0,r.jsx)(ef.A,{id:"create_new_studylist"})})})]})]})};var cv=n(86296),cD=n(34337),cE=n(15538),cB=n(52638),cy=n(61766),cI=n(8143),cS=n(13777);let ck=e=>{let{className:t,color:n="#F19B7D",inverted:i=!1,size:o="1x"}=e;return(0,r.jsx)(ej.I,{className:t,color:n,icon:i?nH._0I:eS._0I,size:o})};var cj=n(50470),cT=n(20140),cM=n.n(cT);let cN=e=>{let{document:t,onHide:n,thumbnails:i}=e;return(0,r.jsx)(eT.default,{modalHeader:(0,r.jsxs)("div",{className:cM().saveDiscoveryHeader,children:[(0,r.jsx)(ck,{size:"1.5x"}),(0,r.jsx)(ef.A,{id:"save_to_studylist"})]}),onHide:()=>{(0,F.Kc)(),n()},origin:ek.C.StudylistDiscoveryModal,show:!0,size:"medium",subtitle:(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)("div",{className:cM().saveDiscoverySubTitle,children:(0,r.jsx)(cj.A,{alignment:"horizontal",degreeGradeName:(0,tS._)(t?.course?.degree?.name,t?.course?.grade?.name),documentDetail:t?.course?.name,thumbnails:i,title:t.title})}),(0,r.jsxs)("div",{className:cM().subtitleContainer,children:[(0,r.jsx)(eb.Z,{color:"default",size:"normal",weight:"bold",children:(0,r.jsx)(ef.A,{id:"sign_in_to_create_studylist"})}),(0,r.jsxs)("div",{className:cM().description,children:[(0,r.jsxs)("div",{className:cM().item,children:[(0,r.jsx)(ej.I,{color:"green-70",icon:eS.QRE,size:"1.25x"}),(0,r.jsx)(eb.Z,{color:"default",size:"small",weight:"normal",children:(0,r.jsx)(ef.A,{id:"never_lose_documents"})})]}),(0,r.jsxs)("div",{className:cM().item,children:[(0,r.jsx)(ej.I,{color:"green-70",icon:eS.QRE,size:"1.25x"}),(0,r.jsx)(eb.Z,{color:"default",size:"small",weight:"normal",children:(0,r.jsx)(ef.A,{id:"collect_content_to_prepare_exam"})})]}),(0,r.jsxs)("div",{className:cM().item,children:[(0,r.jsx)(ej.I,{color:"green-70",icon:eS.QRE,size:"1.25x"}),(0,r.jsx)(eb.Z,{color:"default",size:"small",weight:"normal",children:(0,r.jsx)(ef.A,{id:"get_recommendations_you_need"})})]})]})]})]}),variant:"register"})};var cQ=n(20007),cU=n.n(cQ);let cP=eC()(()=>Promise.all([n.e(380),n.e(2136)]).then(n.bind(n,82136)),{loadableGenerated:{webpack:()=>[82136]}}),cO=eC()(()=>Promise.all([n.e(8352),n.e(7963),n.e(1772),n.e(6848),n.e(8318),n.e(6915)]).then(n.bind(n,26915)),{loadableGenerated:{webpack:()=>[26915]}}),cF=eC()(()=>Promise.all([n.e(4621),n.e(7963),n.e(8352),n.e(1772),n.e(6848),n.e(5771),n.e(8910)]).then(n.bind(n,48910)),{loadableGenerated:{webpack:()=>[48910]}}),cV=(0,i.memo)(e=>{let{children:t,pageContext:n}=e,{ab:o,config:a,pageName:s,pageProps:l,session:{algoliaUserToken:u,user:A}}=n,m="inline-mixed",{modalState:p}=(0,nm.Y0)();(0,i.useEffect)(()=>{let e=new ResizeObserver(e=>{om({alertBarHeight:e[0].contentRect.height})}),t=(0,ey.oc)()?document.querySelector(`#${oA.tl}`):void 0;return t&&e.observe(t),()=>{e.disconnect()}},[]),(e=>{let{algoliaCredentials:t,algoliaUserToken:n}=e;(0,i.useEffect)(()=>{(0,cD.Ay)("init",{apiKey:t?.clientSearchKey,appId:t?.appId,userToken:n||void 0})},[t,n])})({algoliaCredentials:a.algoliaCredentials,algoliaUserToken:u}),(0,i.useEffect)(()=>{let e=(0,F.XW)();e?.name===N.L.SAVE_DOCUMENT&&((0,F.Kc)(),(0,d.Im)(A)||(0,nm.fj)({additionalData:{origin:i5.G.VIEWER_TOOLBAR_SAVE_DOCUMENT},modalType:"save"})),e?.name===N.L.PAY&&((0,d.Im)(A)||A.isPremium?(0,F.Kc)():(0,nm.fj)({modalType:nA.j.PAYMENT_MODAL}))},[]);let _=(0,i.useRef)(null),h=(0,i.useMemo)(()=>({id:l.document.id,type:"document"}),[]),g=(0,cS.x)(o),[w,C]=(0,i.useState)(!1),b=(0,i.useCallback)(e=>{let{isSelectionModeOn:t}=e.detail;C(t)},[C]);return(0,eB.M)(eI.Cj.TOGGLE_CROP_TO_AI_SELECTION_MODE,b,(0,ey.oc)()?window.document:null),(0,r.jsxs)(c.A,{pageContext:n,children:[(0,r.jsx)(cE.A,{}),(0,r.jsx)(cB.A,{appName:a.appName,colorVariant:"white",documentId:l.document.id,pageName:"DocumentViewer",showDiscoveryOptions:!0,showGroups:g,showLocationPicker:!0,showSearchBar:!0,showSearchBarDropdown:!0,sidebarVariant:m,user:A}),(0,r.jsxs)("div",{className:cU().wrapper,children:[(0,r.jsx)(cI.A,{currentMaterial:h,preferCollapsed:!0,showGroups:g,variant:m}),(0,r.jsx)("div",{className:w?(0,t_.R)():void 0,children:(0,r.jsx)(cy.A,{pageName:s})}),(0,r.jsxs)(X.tH,{FallbackComponent:ct.q,onError:ei.l4,children:[(0,r.jsx)("section",{className:cU().pageContentWrapper,ref:_,children:t}),(0,r.jsx)(cc,{})]})]}),p.share.show&&(0,r.jsx)(cP,{currentPage:p.share.currentPage,documentId:l.document.id,onHide:()=>(0,nm.b_)("share")}),p.save.show&&(0,r.jsx)(cR,{document:l.document,documentSavedSource:cv.k.VIEWER,onHide:()=>(0,nm.b_)("save"),origin:p.save.origin}),p.authenticateSaveDocument.show&&(0,r.jsx)(cN,{document:{course:l.document.course,title:l.document.title},onHide:()=>(0,nm.b_)("authenticateSaveDocument"),thumbnails:[{...l.seoData?.images[0],format:"png"}]}),p.report.show&&(0,r.jsx)(cO,{document:l.document,onHide:()=>(0,nm.b_)(nA.j.REPORT),title:p.report.title}),p.paymentModal.show&&(0,r.jsx)(cF,{onHide:()=>(0,nm.b_)(nA.j.PAYMENT_MODAL),paymentOrigin:oO.H5.DOCUMENT_VIEWER,userStage:l.userStage}),(0,r.jsx)(ce.A,{pageContext:n})]})});var cL=!0;function cG(e){let t=(0,i.useRef)(Date.now()),n=l1(e.document,!0),{session:o}=(0,l.K)();return(!function(e){let{cookieSizes:t,document:n,laravelUserId:r,recommendedDocuments:o,relatedDocuments:a,seoData:s,shouldTrack:c,testNoPremiumScriptVariant:u,user:A,userCanHaveTrial:m=!1,userStage:p}=e,h=(0,_.jt)(),{ab:g,meta:w}=(0,l.K)(),b=(0,Q.X)(),f=K(),x=a?.tier1.length||0,D=a?.tier2.length||0,E=x+D,B=o?.length||0,y=+!!n?.isPremium,I=(0,L.j)({isPreviewMode:n.isPreviewMode,numberOfPages:n.numberOfPages,previewCTA:n.previewCTA,userCanHaveTrial:m}),S=g.find(e=>{let{test:t}=e;return"testAskAIMetadataPrefill"===t}),k=g.find(e=>{let{test:t}=e;return"testGeoguessUserInstitution2"===t})?.variant,j=g.find(e=>{let{test:t}=e;return"testRemoveFacebookAuth"===t})?.variant,U=g.find(e=>"testUnlockPremiumFor$0"===e.test),P=g.find(e=>{let{test:t}=e;return"testCropToAI"===t})?.variant,G=g.find(e=>{let{test:t}=e;return"testShowCourseInCompactTopbar"===t})?.variant,J=g.find(e=>{let{test:t}=e;return"testDocumentPageNavigator"===t})?.variant,Z=g.find(e=>{let{test:t}=e;return"testTieredPremium"===t})?.variant,q=g.find(e=>{let{test:t}=e;return"testTieredPremiumCoreMarket"===t})?.variant,$=g.find(e=>{let{test:t}=e;return"testTieredPremiumRow"===t})?.variant,X=g.find(e=>{let{test:t}=e;return"testPaddle7dayTrial"===t})?.variant,ee=g.find(e=>"testRatingPopover"===e.test)?.variant,et=(0,v._)(g,"testAppGenericBannerInMobileDocViewerV2"),en=(0,v._)(g,"testInterstitialLectureRecordingBannerOnDesktop"),er=(0,v._)(g,"testAdsV0H22025"),ei=O(),eo=(0,C.P)(n.institution),ea=(0,C.P)(A?.institution),es=(0,F.XW)(),el=es?.name?N.N[es.name]??null:null;(0,i.useEffect)(()=>{c&&!ei&&l8(()=>{let e={isSAI:!0,"Test Candy Shop":(0,T.getCookie)("kitKatTestVariant")??"Test","Document ID":n.id,Title:n.title,"Page Count":n.numberOfPages,...n.createdAt&&{"Update Date":(0,M.aG)(n.createdAt).toISOString()},"Is New":n.isNew,Premium:y,Rating:n.rating.total,"Document Tier 1 Related Document Count":x,"Document Tier 2 Related Document Count":D,"Document Related Document Count":E,"Document User View Count":n.viewedCount,"Total Document Count":E+B,"Document Positive Experience Probability":n.rating.positiveExperienceProbability,"Document Is First Of Session":H()===n.id,"Published At":n.publishedAt,...n.course&&{...n.course.code&&{"Course Code":n.course.code},"Course Document Count":n.course.documentCount,"Course ID":n.course.id,"Course Name":n.course.name},...n.institution&&{"University ID":n.institution.id,"University Name":n.institution.name,...n.institution.country&&{"University Country ID":n.institution.country.id,"University Country Name":(0,z.A)(n.institution.country.id)},"University Stage":n.institution.stage,...!(0,d.b0)(eo)&&{"University Level":eo}},...n.course?.grade&&{"Grade ID":n.course.grade.id,"Grade Name":n.course.grade.name},"User Signed In":!!A,"User Stage":p,"User Language":w.currentLanguage,...A?.institution&&{"User University ID":A.institution.id,"User University Name":A.institution.name,...A.institution.country?.id&&{"User University Country ID":A.institution.country.id,"User University Country Name":(0,z.A)(A.institution.country.id)},"User University Stage":A.institution.stage,...!(0,d.b0)(ea)&&{"User University Level":ea}},...!!A&&{"User ID":A.id},...A?.degree&&{"User Degree ID":A.degree?.id,"User Degree Name":A.degree?.name,"User Degree Stage":A.degree?.stage,"User Degree Region":A.degree.region?.code},...A?.country&&{"User Country ID":A.country.id,"User Country Name":A.country.name},...n.course?.degree&&{"Degree ID":n.course.degree.id,"Degree Name":n.course.degree.name,"Degree Stage":n.course.degree.stage??n.course.grade?.degree.stage,"Degree Region":n.course.degree.region?.code},...n?.categoryId&&{"Category ID":n.categoryId,"Category Name":(0,V.lm)(n.categoryId)},"Is Upload Anonymous":n.user?.isAnonymous||null===n.user,...I&&{"Document View Type":I},...n.premiumCause&&{"Premium Cause":n.premiumCause},"Is Premium":"Premium System"===n.premiumCause,...!(0,d.Im)(f)&&f,"Own Document":n.isMine,...el&&!A?.isPremium&&{"Shown Floating Element":el},...k&&{"Test Geoguess User Institution 2":k},...j&&{"Test Remove Facebook Auth":j},...!(0,d.Im)(S?.variant)?{"Test Ask AI Metadata Prefill":S?.variant}:{},...n.documentAcquisitionTypeId&&{"Document Acquisition Type Id":n.documentAcquisitionTypeId},"Has AI Enhanced Title":!!s?.hasAITitle,...Z&&{"Test Tiered Premium":Z},...q&&{"Test Tiered Premium Core Market":q},...$&&{"Test Tiered Premium Row":$},...A?.userPremiumTier&&{"User Premium Tier":(0,R.aL)(A.userPremiumTier.replaceAll("-"," "))},...(0,d.hj)(w?.detectedCountry?.name)&&{"IP Country":w.detectedCountry.name},...(0,d.hj)(X)&&n.isPremium&&!A?.isPremium&&{"Test Paddle 7 Day Trial":X},...n.isPremium&&!A?.isPremium&&b,...P&&{"Test Crop to AI":P},...er&&{"Test Ads V0 H2 2025":er},...u&&{"Test No Premium Script H2 2025":u},...G&&{"Test Show Course in Compact Topbar":G},...et&&{"Test app generic banner in mobile doc viewer":et},...J&&{"Test Document Page Navigator":J},"Studocu Cookie Size":t.studocuCookieSize,"Abtest Cookie Size":t.abTestCookieSize,"Studocu Documents Cookie Size":t.studocuDocumentsCookieSize,"User Comparison":Y(A?.id,r),...(0,d.hj)(r)&&{"Laravel User ID":r},...U?.variant&&{"Test Unlock Premium For $0":U.variant},...ee&&{"Test Rating Popover":ee},...en&&{"Test Interstitial Lecture Recording Banner On Desktop":en}};h(W.q.DOCUMENT_VIEW,e)})},[])}({cookieSizes:e.cookieSizes,document:e.document,laravelUserId:void 0,relatedDocuments:void 0,seoData:null,shouldTrack:e?.noHUD===!0,testNoPremiumScriptVariant:void 0,user:o.user,userCanHaveTrial:o.permissions?.canHaveTrial,userStage:e.userStage}),e?.noHUD)?(0,r.jsx)(lz,{document:e.document,documentAbilities:null,documentAccessData:e.documentAccess,initialPageDataList:e.pageDataList,navigationStartTime:t.current,onLastPageView:n,userStage:e.userStage}):(0,r.jsx)(l9,{...e})}cG.getLayout=(e,t)=>t.pageProps?.noHUD?(0,r.jsx)(c.A,{pageContext:t,children:e}):(0,r.jsxs)(cV,{pageContext:t,children:[(0,r.jsx)(s,{}),e]})}},e=>{e.O(0,[3933,7407,6647,6593,636,6411],()=>e(e.s=65464)),_N_E=e.O()}]);