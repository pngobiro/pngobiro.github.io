================================================================================
COMBINED FILE OUTPUT
================================================================================

================================================================================
FILE: main.css
PATH: styles/main.css
================================================================================

/* ========================================
   PDF to HTML Conversion - v9 Rich UI
   Modern Design System with Dark Mode
   ======================================== */

/* ----------------------------------------
   CSS Custom Properties (Design Tokens)
   ---------------------------------------- */
:root {
    /* Color Palette - Light Mode */
    --color-primary: #4f46e5;
    --color-primary-light: #818cf8;
    --color-primary-dark: #3730a3;
    --color-secondary: #0ea5e9;
    --color-accent: #f59e0b;
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-danger: #ef4444;
    --color-info: #3b82f6;
    
    /* Neutral Colors - Light Mode */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f8fafc;
    --color-bg-tertiary: #f1f5f9;
    --color-bg-elevated: #ffffff;
    --color-surface: #ffffff;
    --color-surface-hover: #f8fafc;
    
    /* Text Colors - Light Mode */
    --color-text-primary: #1e293b;
    --color-text-secondary: #475569;
    --color-text-tertiary: #64748b;
    --color-text-muted: #94a3b8;
    --color-text-inverse: #ffffff;
    
    /* Border Colors */
    --color-border: #e2e8f0;
    --color-border-light: #f1f5f9;
    --color-border-focus: var(--color-primary);
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --gradient-success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    --gradient-warm: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --gradient-cool: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    --gradient-card-border: linear-gradient(135deg, var(--color-primary-light), var(--color-secondary));
    
    /* Typography */
    --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-family-serif: 'Source Serif 4', Georgia, 'Times New Roman', serif;
    --font-family-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
    
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;
    
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;
    --line-height-loose: 2;
    
    /* Spacing Scale */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;
    --space-20: 5rem;
    
    /* Border Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
    --shadow-glow: 0 0 20px rgb(79 70 229 / 0.3);
    
    /* Glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-blur: blur(10px);
    
    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-base: 250ms ease;
    --transition-slow: 350ms ease;
    --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    /* Z-Index Scale */
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-fixed: 300;
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --z-tooltip: 600;
    
    /* Container */
    --container-max-width: 1200px;
    --content-max-width: 800px;
}

/* ----------------------------------------
   Dark Mode Variables
   ---------------------------------------- */
[data-theme="dark"] {
    --color-bg-primary: #0f172a;
    --color-bg-secondary: #1e293b;
    --color-bg-tertiary: #334155;
    --color-bg-elevated: #1e293b;
    --color-surface: #1e293b;
    --color-surface-hover: #334155;
    
    --color-text-primary: #f1f5f9;
    --color-text-secondary: #cbd5e1;
    --color-text-tertiary: #94a3b8;
    --color-text-muted: #64748b;
    
    --color-border: #334155;
    --color-border-light: #1e293b;
    
    --glass-bg: rgba(30, 41, 59, 0.8);
    --glass-border: rgba(51, 65, 85, 0.5);
    
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

/* ----------------------------------------
   Reset & Base Styles
   ---------------------------------------- */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
    
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

body {
    font-family: var(--font-family-sans);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-primary);
    background-color: var(--color-bg-secondary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ----------------------------------------
   Skip Link (Accessibility)
   ---------------------------------------- */
.skip-link {
    position: absolute;
    top: -100%;
    left: var(--space-4);
    padding: var(--space-3) var(--space-4);
    background: var(--color-primary);
    color: var(--color-text-inverse);
    text-decoration: none;
    font-weight: var(--font-weight-semibold);
    border-radius: var(--radius-md);
    z-index: var(--z-tooltip);
    transition: top var(--transition-fast);
}

.skip-link:focus {
    top: var(--space-4);
}

/* ----------------------------------------
   Reading Progress Bar
   ---------------------------------------- */
.reading-progress-container {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--color-bg-tertiary);
    z-index: var(--z-fixed);
}

.reading-progress-bar {
    height: 100%;
    background: var(--gradient-primary);
    width: 0%;
    transition: width 100ms ease-out;
    border-radius: 0 var(--radius-full) var(--radius-full) 0;
}

/* ----------------------------------------
   Theme Toggle
   ---------------------------------------- */
.theme-toggle {
    position: fixed;
    top: var(--space-6);
    right: var(--space-6);
    width: 48px;
    height: 48px;
    border-radius: var(--radius-full);
    border: none;
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    box-shadow: var(--shadow-lg);
    cursor: pointer;
    z-index: var(--z-fixed);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform var(--transition-base), box-shadow var(--transition-base);
}

.theme-toggle:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-xl);
}

.theme-toggle:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.theme-toggle-icon {
    font-size: var(--font-size-xl);
    transition: opacity var(--transition-fast), transform var(--transition-base);
}

[data-theme="light"] .dark-icon,
[data-theme="dark"] .light-icon {
    display: none;
}

/* ----------------------------------------
   Page Layout
   ---------------------------------------- */
.page-wrapper {
    display: flex;
    min-height: 100vh;
}

.container {
    flex: 1;
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: var(--space-6);
}

.document-article {
    background: var(--color-bg-primary);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-xl);
    overflow: hidden;
}

.content-wrapper {
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding: var(--space-8);
}

/* ----------------------------------------
   Floating Table of Contents
   ---------------------------------------- */
.floating-toc {
    position: fixed;
    left: var(--space-6);
    top: 50%;
    transform: translateY(-50%);
    width: 220px;
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    box-shadow: var(--shadow-lg);
    z-index: var(--z-sticky);
    max-height: 60vh;
    overflow-y: auto;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.floating-toc.visible {
    opacity: 1;
    visibility: visible;
}

.floating-toc-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--color-border);
}

.floating-toc-list {
    list-style: none;
}

.floating-toc-list li {
    margin-bottom: var(--space-1);
}

.floating-toc-list a {
    display: block;
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-sm);
    color: var(--color-text-tertiary);
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
}

.floating-toc-list a:hover,
.floating-toc-list a.active {
    background: var(--color-primary);
    color: var(--color-text-inverse);
}

@media (max-width: 1400px) {
    .floating-toc {
        display: none;
    }
}

/* ----------------------------------------
   Navigation
   ---------------------------------------- */
.document-nav {
    background: var(--gradient-primary);
    padding: var(--space-4) var(--space-6);
}

.nav-container,
.nav-links {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
    flex-wrap: wrap;
}

/* Progress bar within nav */
.document-nav .progress-bar {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.document-nav .progress-fill {
    height: 100%;
    background: white;
    border-radius: var(--radius-full);
    transition: width var(--transition-base);
}

.document-nav .progress-text {
    font-size: var(--font-size-xs);
    color: rgba(255, 255, 255, 0.8);
    text-align: center;
}

.nav-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: rgba(255, 255, 255, 0.15);
    color: var(--color-text-inverse);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-sm);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all var(--transition-fast);
}

.nav-button:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.nav-button:focus {
    outline: 2px solid white;
    outline-offset: 2px;
}

.nav-button.disabled,
.nav-button[aria-disabled="true"] {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
}

.nav-button--large {
    flex-direction: column;
    align-items: flex-start;
    padding: var(--space-3) var(--space-5);
}

.nav-button--large.nav-button--next {
    align-items: flex-end;
    text-align: right;
}

.nav-label {
    font-size: var(--font-size-xs);
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.nav-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
}

.document-progress {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
    min-width: 150px;
}

.progress-indicator {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-inverse);
}

.progress-separator {
    opacity: 0.5;
}

.progress-bar-container {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: white;
    border-radius: var(--radius-full);
    transition: width var(--transition-base);
}

.progress-label {
    font-size: var(--font-size-xs);
    opacity: 0.8;
}

/* ----------------------------------------
   Breadcrumb
   ---------------------------------------- */
.breadcrumb {
    padding: var(--space-4) var(--space-6);
    background: var(--color-bg-tertiary);
    border-bottom: 1px solid var(--color-border);
}

.breadcrumb-list {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    list-style: none;
    font-size: var(--font-size-sm);
}

.breadcrumb-item {
    display: flex;
    align-items: center;
}

.breadcrumb-item:not(:last-child)::after {
    content: '/';
    margin-left: var(--space-2);
    color: var(--color-text-muted);
}

.breadcrumb-item a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color var(--transition-fast);
}

.breadcrumb-item a:hover {
    color: var(--color-primary-dark);
    text-decoration: underline;
}

.breadcrumb-item.active {
    color: var(--color-text-tertiary);
}

/* ----------------------------------------
   Document Header
   ---------------------------------------- */
.document-header {
    padding: var(--space-12) var(--space-8);
    text-align: center;
    background: var(--gradient-cool);
    position: relative;
    overflow: hidden;
}

[data-theme="dark"] .document-header {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
}

.document-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
}

.header-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: var(--color-bg-primary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-primary);
    margin-bottom: var(--space-4);
    box-shadow: var(--shadow-md);
    position: relative;
}

.document-title {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
    position: relative;
    line-height: var(--line-height-tight);
}

.title-meta {
    display: flex;
    justify-content: center;
    gap: var(--space-6);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    position: relative;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

/* ----------------------------------------
   Content Sections
   ---------------------------------------- */
.content-section {
    margin-bottom: var(--space-12);
    scroll-margin-top: var(--space-8);
}

.section-header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
}

.section-number {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary-light);
    opacity: 0.3;
    line-height: 1;
    min-width: 50px;
}

.section-title {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-family: var(--font-family-serif);
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0;
    line-height: var(--line-height-tight);
}

.title-icon {
    font-size: var(--font-size-xl);
}

/* ----------------------------------------
   Content Cards
   ---------------------------------------- */
.content-card {
    background: var(--color-surface);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    margin-bottom: var(--space-6);
    border: 1px solid var(--color-border);
    position: relative;
    transition: transform var(--transition-base), box-shadow var(--transition-base);
}

.content-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-card-border);
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    opacity: 0;
    transition: opacity var(--transition-base);
}

.content-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.content-card:hover::before {
    opacity: 1;
}

/* ----------------------------------------
   Typography
   ---------------------------------------- */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-serif);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    line-height: var(--line-height-tight);
}

h1 { font-size: var(--font-size-4xl); margin-bottom: var(--space-6); }
h2 { font-size: var(--font-size-2xl); margin-top: var(--space-8); margin-bottom: var(--space-4); }
h3 { font-size: var(--font-size-xl); margin-top: var(--space-6); margin-bottom: var(--space-3); }
h4 { font-size: var(--font-size-lg); margin-top: var(--space-4); margin-bottom: var(--space-2); }
h5, h6 { font-size: var(--font-size-base); margin-top: var(--space-3); margin-bottom: var(--space-2); }

p {
    margin-bottom: var(--space-4);
    color: var(--color-text-primary);
}

strong {
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
}

em {
    font-style: italic;
    color: var(--color-text-secondary);
}

/* ----------------------------------------
   Enhanced Lists
   ---------------------------------------- */
/* Base list styles */
ul, ol {
    margin-bottom: var(--space-6);
    padding-left: var(--space-6);
}

li {
    margin-bottom: var(--space-3);
    color: var(--color-text-primary);
    line-height: var(--line-height-relaxed);
}

/* Enhanced list - works with standard <li> elements */
.enhanced-list {
    list-style: none;
    padding-left: 0;
    margin-bottom: var(--space-6);
}

.enhanced-list > li {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4) var(--space-5);
    background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-3);
    border-left: 4px solid var(--color-primary);
    transition: all var(--transition-fast);
    position: relative;
    overflow: hidden;
}

.enhanced-list > li:hover {
    background: linear-gradient(135deg, var(--color-surface-hover) 0%, var(--color-bg-secondary) 100%);
    border-left-color: var(--color-primary-dark);
    transform: translateX(6px);
    box-shadow: var(--shadow-md);
}

.enhanced-list > li::before {
    content: '';
    width: 10px;
    height: 10px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    margin-top: 6px;
    flex-shrink: 0;
    box-shadow: 0 0 8px rgba(79, 70, 229, 0.4);
}

/* Numbered Enhanced List */
ol.enhanced-list {
    counter-reset: enhanced-counter;
}

ol.enhanced-list > li {
    counter-increment: enhanced-counter;
}

ol.enhanced-list > li::before {
    content: counter(enhanced-counter);
    width: 32px;
    height: 32px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    margin-top: 0;
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

/* Nested Lists */
.enhanced-list ul,
.enhanced-list ol {
    margin-top: var(--space-3);
    margin-bottom: var(--space-3);
    padding-left: var(--space-8);
}

/* Level 2 nested lists */
.enhanced-list > li > ul,
.enhanced-list > li > ol {
    margin-left: calc(var(--space-3) + 32px);
}

.enhanced-list > li > ul > li,
.enhanced-list > li > ol > li {
    background: linear-gradient(135deg, var(--color-bg-tertiary) 0%, var(--color-bg-secondary) 100%);
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-sm);
    border-left-color: var(--color-secondary);
}

.enhanced-list > li > ul > li::before {
    background: var(--color-secondary);
    box-shadow: 0 0 8px rgba(14, 165, 233, 0.4);
}

.enhanced-list > li > ol > li::before {
    background: var(--color-secondary);
    box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

/* Level 3 nested lists */
.enhanced-list > li > ul > li > ul > li,
.enhanced-list > li > ul > li > ol > li,
.enhanced-list > li > ol > li > ul > li,
.enhanced-list > li > ol > li > ol > li {
    background: var(--color-bg-secondary);
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-sm);
    border-left-color: var(--color-accent);
}

.enhanced-list > li > ul > li > ul > li::before,
.enhanced-list > li > ol > li > ul > li::before {
    background: var(--color-accent);
    box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
}

/* ----------------------------------------
   List Variants
   ---------------------------------------- */

/* Checklist variant */
.enhanced-list.checklist > li::before {
    content: 'âœ“';
    width: 28px;
    height: 28px;
    background: var(--gradient-success);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    margin-top: 0;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.enhanced-list.checklist > li {
    border-left-color: var(--color-success);
}

/* Feature list variant */
.enhanced-list.feature-list {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.enhanced-list.feature-list > li {
    flex-direction: column;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-left: 4px solid var(--color-primary);
    padding: var(--space-5);
    transition: all var(--transition-base);
}

.enhanced-list.feature-list > li:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-left-color: var(--color-primary-dark);
}

.enhanced-list.feature-list > li::before {
    content: '';
    width: 40px;
    height: 40px;
    background: var(--gradient-primary);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-3);
    margin-top: 0;
}

/* Steps list variant */
.enhanced-list.steps-list {
    counter-reset: step-counter;
    position: relative;
}

.enhanced-list.steps-list::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 20px;
    bottom: 20px;
    width: 2px;
    background: linear-gradient(to bottom, var(--color-primary), var(--color-secondary));
}

.enhanced-list.steps-list > li {
    counter-increment: step-counter;
    position: relative;
    padding-left: calc(var(--space-5) + 40px);
    background: transparent;
    border: none;
}

.enhanced-list.steps-list > li::before {
    content: counter(step-counter);
    position: absolute;
    left: 0;
    top: 0;
    width: 32px;
    height: 32px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    margin-top: 0;
    z-index: 1;
    box-shadow: 0 0 0 4px var(--color-bg-primary);
}

.enhanced-list.steps-list > li:hover {
    transform: none;
    background: transparent;
}

/* Compact list variant */
.enhanced-list.compact > li {
    padding: var(--space-2) var(--space-3);
    margin-bottom: var(--space-2);
    font-size: var(--font-size-sm);
}

.enhanced-list.compact > li::before {
    width: 6px;
    height: 6px;
    margin-top: 5px;
}

ol.enhanced-list.compact > li::before {
    width: 24px;
    height: 24px;
    font-size: var(--font-size-xs);
}

/* Bordered list variant */
.enhanced-list.bordered > li {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-left: 4px solid var(--color-primary);
}

.enhanced-list.bordered > li:hover {
    border-color: var(--color-primary-light);
}

/* Icon list variant - requires data-icon attribute */
.enhanced-list.icon-list > li::before {
    content: attr(data-icon);
    font-size: var(--font-size-lg);
    background: transparent;
    box-shadow: none;
    width: auto;
    height: auto;
}

/* Card list variant */
.enhanced-list.card-list > li {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base);
}

.enhanced-list.card-list > li:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
}

/* ----------------------------------------
   Dark Mode List Adjustments
   ---------------------------------------- */
[data-theme="dark"] .enhanced-list > li {
    background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
}

[data-theme="dark"] .enhanced-list > li:hover {
    background: linear-gradient(135deg, var(--color-surface-hover) 0%, var(--color-bg-secondary) 100%);
}

[data-theme="dark"] .enhanced-list > li > ul > li,
[data-theme="dark"] .enhanced-list > li > ol > li {
    background: linear-gradient(135deg, var(--color-bg-tertiary) 0%, var(--color-bg-secondary) 100%);
}

[data-theme="dark"] .enhanced-list.feature-list > li {
    background: var(--color-surface);
}

[data-theme="dark"] .enhanced-list.bordered > li,
[data-theme="dark"] .enhanced-list.card-list > li {
    background: var(--color-surface);
    border-color: var(--color-border);
}

/* ----------------------------------------
   List Content Styling
   ---------------------------------------- */
.enhanced-list > li strong {
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
}

.enhanced-list > li p {
    margin-bottom: 0;
    margin-top: var(--space-2);
}

.enhanced-list > li p:first-child {
    margin-top: 0;
}

/* ----------------------------------------
   Responsive Lists
   ---------------------------------------- */
@media (max-width: 768px) {
    .enhanced-list.feature-list {
        grid-template-columns: 1fr;
    }
    
    .enhanced-list > li {
        padding: var(--space-3) var(--space-4);
    }
    
    .enhanced-list.steps-list::before {
        left: 12px;
    }
    
    .enhanced-list.steps-list > li {
        padding-left: calc(var(--space-4) + 32px);
    }
}

/* ----------------------------------------
   Callouts
   ---------------------------------------- */
.callout {
    border-radius: var(--radius-xl);
    padding: var(--space-5);
    margin: var(--space-6) 0;
    border: 1px solid;
    position: relative;
    overflow: hidden;
}

.callout::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
}

.callout-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
}

.callout-icon {
    font-size: var(--font-size-xl);
}

.callout-title {
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-base);
}

.callout-content p:last-child {
    margin-bottom: 0;
}

/* Callout Variants */
.callout--note {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #93c5fd;
}
.callout--note::before { background: #3b82f6; }
.callout--note .callout-title { color: #1e40af; }

.callout--warning {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}
.callout--warning::before { background: #f59e0b; }
.callout--warning .callout-title { color: #92400e; }

.callout--danger {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fca5a5;
}
.callout--danger::before { background: #ef4444; }
.callout--danger .callout-title { color: #991b1b; }

.callout--tip {
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border-color: #6ee7b7;
}
.callout--tip::before { background: #10b981; }
.callout--tip .callout-title { color: #065f46; }

/* Dark mode callouts */
[data-theme="dark"] .callout--note {
    background: linear-gradient(135deg, #1e3a5f 0%, #1e293b 100%);
    border-color: #3b82f6;
}
[data-theme="dark"] .callout--note .callout-title { color: #93c5fd; }

[data-theme="dark"] .callout--warning {
    background: linear-gradient(135deg, #422006 0%, #1e293b 100%);
    border-color: #f59e0b;
}
[data-theme="dark"] .callout--warning .callout-title { color: #fcd34d; }

[data-theme="dark"] .callout--danger {
    background: linear-gradient(135deg, #450a0a 0%, #1e293b 100%);
    border-color: #ef4444;
}
[data-theme="dark"] .callout--danger .callout-title { color: #fca5a5; }

[data-theme="dark"] .callout--tip {
    background: linear-gradient(135deg, #064e3b 0%, #1e293b 100%);
    border-color: #10b981;
}
[data-theme="dark"] .callout--tip .callout-title { color: #6ee7b7; }

/* ----------------------------------------
   Collapsible Sections
   ---------------------------------------- */
.collapsible-section {
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    margin: var(--space-4) 0;
    overflow: hidden;
}

.collapsible-trigger {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    width: 100%;
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
    cursor: pointer;
    font-weight: var(--font-weight-medium);
    transition: background var(--transition-fast);
    list-style: none;
}

.collapsible-trigger::-webkit-details-marker {
    display: none;
}

.collapsible-trigger:hover {
    background: var(--color-surface-hover);
}

.trigger-icon {
    transition: transform var(--transition-base);
    font-size: var(--font-size-sm);
}

details[open] .trigger-icon {
    transform: rotate(90deg);
}

.collapsible-content {
    padding: var(--space-4);
    background: var(--color-surface);
    border-top: 1px solid var(--color-border);
}

/* ----------------------------------------
   Code Blocks
   ---------------------------------------- */
code {
    font-family: var(--font-family-mono);
    font-size: 0.9em;
    background: var(--color-bg-tertiary);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    color: var(--color-danger);
}

.code-block-wrapper {
    margin: var(--space-6) 0;
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
}

.code-block-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3) var(--space-4);
    background: #1e293b;
    border-bottom: 1px solid #334155;
}

.code-language {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.copy-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-md);
    color: #94a3b8;
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.copy-button:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

.copy-button.copied {
    background: var(--color-success);
    color: white;
}

.code-block {
    margin: 0;
    padding: var(--space-4);
    background: #0f172a;
    overflow-x: auto;
    font-size: var(--font-size-sm);
    line-height: var(--line-height-relaxed);
}

.code-block code {
    background: transparent;
    padding: 0;
    color: #e2e8f0;
    font-size: inherit;
}

/* ----------------------------------------
   Tables
   ---------------------------------------- */
.table-wrapper {
    margin: var(--space-6) 0;
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
}

.table-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-4);
    background: var(--color-bg-tertiary);
    border-bottom: 1px solid var(--color-border);
    font-weight: var(--font-weight-medium);
}

.table-header .table-icon {
    font-size: var(--font-size-lg);
}

.table-header .table-title {
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
}

.table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Scroll hint for mobile */
.table-container::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 30px;
    background: linear-gradient(to right, transparent, var(--color-surface));
    pointer-events: none;
    opacity: 0;
    transition: opacity var(--transition-fast);
}

.table-wrapper {
    position: relative;
}

.table-wrapper.scrollable .table-container::after {
    opacity: 1;
}

.content-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-size-sm);
}

.content-table th,
.content-table td {
    padding: var(--space-3) var(--space-4);
    text-align: left;
    border-bottom: 1px solid var(--color-border);
    vertical-align: top;
}

.content-table th {
    background: var(--gradient-primary);
    color: white;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    position: sticky;
    top: 0;
    z-index: 1;
}

.content-table tbody tr {
    transition: background var(--transition-fast);
}

.content-table tbody tr:hover {
    background: var(--color-bg-secondary);
}

.content-table tbody tr:nth-child(even) {
    background: var(--color-bg-tertiary);
}

.content-table tbody tr:nth-child(even):hover {
    background: var(--color-surface-hover);
}

/* First column sticky on mobile */
@media (max-width: 768px) {
    .content-table--sticky-col th:first-child,
    .content-table--sticky-col td:first-child {
        position: sticky;
        left: 0;
        background: var(--color-surface);
        z-index: 1;
        border-right: 2px solid var(--color-border);
    }
    
    .content-table--sticky-col th:first-child {
        background: var(--color-primary-dark);
        z-index: 2;
    }
    
    .content-table--sticky-col tbody tr:nth-child(even) td:first-child {
        background: var(--color-bg-tertiary);
    }
}

/* Comparison Table Variant */
.content-table--comparison th {
    text-align: center;
}

.content-table--comparison td {
    text-align: center;
}

.content-table--comparison td:first-child {
    text-align: left;
    font-weight: var(--font-weight-medium);
    background: var(--color-bg-tertiary);
}

/* Highlight cells */
.table-cell--highlight {
    background: rgba(79, 70, 229, 0.1) !important;
    font-weight: var(--font-weight-medium);
}

.table-cell--success {
    background: rgba(16, 185, 129, 0.1) !important;
    color: var(--color-success);
}

.table-cell--warning {
    background: rgba(245, 158, 11, 0.1) !important;
    color: var(--color-warning);
}

.table-cell--danger {
    background: rgba(239, 68, 68, 0.1) !important;
    color: var(--color-danger);
}

/* Compact table variant */
.content-table--compact th,
.content-table--compact td {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-xs);
}

/* Bordered table variant */
.content-table--bordered th,
.content-table--bordered td {
    border: 1px solid var(--color-border);
}

/* Caption */
.content-table caption {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    text-align: left;
    caption-side: top;
    background: var(--color-bg-tertiary);
    border-bottom: 1px solid var(--color-border);
}

/* Responsive table - card layout on mobile */
@media (max-width: 480px) {
    .content-table--responsive thead {
        display: none;
    }
    
    .content-table--responsive tbody tr {
        display: block;
        margin-bottom: var(--space-4);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        overflow: hidden;
    }
    
    .content-table--responsive tbody td {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: var(--space-3);
        border-bottom: 1px solid var(--color-border-light);
    }
    
    .content-table--responsive tbody td:last-child {
        border-bottom: none;
    }
    
    .content-table--responsive tbody td::before {
        content: attr(data-label);
        font-weight: var(--font-weight-semibold);
        font-size: var(--font-size-xs);
        text-transform: uppercase;
        color: var(--color-text-tertiary);
        margin-right: var(--space-3);
        flex-shrink: 0;
    }
}

/* ----------------------------------------
   Figures & Images
   ---------------------------------------- */
.content-figure {
    margin: var(--space-8) 0;
    text-align: center;
}

.figure-image-wrapper {
    position: relative;
    display: inline-block;
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
    cursor: zoom-in;
}

.figure-image {
    display: block;
    max-width: 100%;
    height: auto;
    transition: transform var(--transition-base);
}

.figure-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    color: white;
    opacity: 0;
    transition: opacity var(--transition-base);
}

.figure-image-wrapper:hover .figure-overlay {
    opacity: 1;
}

.figure-image-wrapper:hover .figure-image {
    transform: scale(1.02);
}

.overlay-icon {
    font-size: var(--font-size-2xl);
}

.overlay-text {
    font-size: var(--font-size-sm);
}

.figure-caption {
    margin-top: var(--space-3);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    font-style: italic;
}

/* ----------------------------------------
   Key Points Section
   ---------------------------------------- */
.key-points-section {
    margin: var(--space-12) 0;
    border-radius: var(--radius-2xl);
    overflow: hidden;
    box-shadow: var(--shadow-xl);
}

.key-points-wrapper {
    background: var(--gradient-primary);
    padding: var(--space-8);
    position: relative;
}

.key-points-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
}

.key-points-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-6);
    position: relative;
}

.key-points-icon {
    font-size: var(--font-size-2xl);
}

.key-points-title {
    color: white;
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin: 0;
}

.key-points-list {
    list-style: none;
    padding: 0;
    margin: 0;
    position: relative;
}

.key-point-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-3);
    backdrop-filter: blur(4px);
    transition: all var(--transition-fast);
}

.key-point-item:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateX(4px);
}

.key-point-item:last-child {
    margin-bottom: 0;
}

.point-marker {
    color: #fcd34d;
    font-size: var(--font-size-lg);
    flex-shrink: 0;
}

.key-point-item p {
    color: white;
    margin: 0;
}

.key-point-item strong {
    color: white;
}

/* ----------------------------------------
   Definition Terms
   ---------------------------------------- */
.term-definition {
    font-weight: var(--font-weight-semibold);
    color: var(--color-primary);
    cursor: help;
    border-bottom: 2px dotted var(--color-primary);
    position: relative;
}

.term-definition:hover::after {
    content: attr(data-definition);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: var(--space-3) var(--space-4);
    background: var(--color-text-primary);
    color: var(--color-text-inverse);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-normal);
    font-style: normal;
    border-radius: var(--radius-lg);
    white-space: nowrap;
    max-width: 300px;
    white-space: normal;
    z-index: var(--z-tooltip);
    box-shadow: var(--shadow-lg);
}

/* ----------------------------------------
   Lightbox Modal
   ---------------------------------------- */
.lightbox-modal {
    position: fixed;
    inset: 0;
    z-index: var(--z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-8);
}

.lightbox-modal[hidden] {
    display: none;
}

.lightbox-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(4px);
}

.lightbox-content {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.lightbox-close {
    position: absolute;
    top: calc(-1 * var(--space-10));
    right: 0;
    width: 40px;
    height: 40px;
    background: white;
    border: none;
    border-radius: var(--radius-full);
    font-size: var(--font-size-2xl);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform var(--transition-fast);
}

.lightbox-close:hover {
    transform: scale(1.1);
}

.lightbox-image {
    max-width: 100%;
    max-height: 80vh;
    object-fit: contain;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-2xl);
}

.lightbox-caption {
    margin-top: var(--space-4);
    color: white;
    font-size: var(--font-size-sm);
    text-align: center;
}

/* ----------------------------------------
   Math Equations
   ---------------------------------------- */
.equation {
    margin: var(--space-6) 0;
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-lg);
    overflow-x: auto;
    text-align: center;
}

.math-inline {
    padding: 0 var(--space-1);
}

/* ----------------------------------------
   Horizontal Rule
   ---------------------------------------- */
hr {
    border: none;
    height: 2px;
    background: linear-gradient(to right, transparent, var(--color-border), transparent);
    margin: var(--space-10) 0;
}

/* ----------------------------------------
   Index Page Styles
   ---------------------------------------- */
.index-main {
    background: var(--color-bg-primary);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-xl);
    overflow: hidden;
}

.index-hero {
    position: relative;
    padding: var(--space-16) var(--space-8);
    background: var(--gradient-primary);
    text-align: center;
    overflow: hidden;
}

.index-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.hero-content {
    position: relative;
    z-index: 1;
}

.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(4px);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: white;
    margin-bottom: var(--space-6);
}

.hero-title {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-5xl);
    font-weight: var(--font-weight-bold);
    color: white;
    margin-bottom: var(--space-4);
    line-height: var(--line-height-tight);
}

.hero-subtitle {
    font-size: var(--font-size-lg);
    color: rgba(255, 255, 255, 0.9);
    max-width: 600px;
    margin: 0 auto var(--space-6);
}

.hero-meta {
    display: flex;
    justify-content: center;
    gap: var(--space-6);
    color: rgba(255, 255, 255, 0.8);
}

.hero-meta .meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

/* Topics Section */
.topics-section {
    padding: var(--space-12) var(--space-8);
}

.section-heading {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-8);
}

.heading-icon {
    font-size: var(--font-size-xl);
}

/* Topics Grid */
.topics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-6);
}

/* Topic Card */
.topic-card {
    display: flex;
    flex-direction: column;
    padding: var(--space-6);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    text-decoration: none;
    color: inherit;
    position: relative;
    overflow: hidden;
    transition: all var(--transition-base);
}

.topic-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-card-border);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--transition-base);
}

.topic-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
    border-color: var(--color-primary-light);
}

.topic-card:hover::before {
    transform: scaleX(1);
}

.card-number {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary-light);
    opacity: 0.2;
    line-height: 1;
    margin-bottom: var(--space-2);
}

.card-content {
    flex: 1;
}

.card-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
    transition: color var(--transition-fast);
}

.topic-card:hover .card-title {
    color: var(--color-primary);
}

.card-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.card-meta {
    display: flex;
    gap: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--color-text-tertiary);
    margin-bottom: var(--space-3);
}

.card-arrow {
    position: absolute;
    bottom: var(--space-6);
    right: var(--space-6);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-lg);
    color: var(--color-text-tertiary);
    transition: all var(--transition-fast);
}

.topic-card:hover .card-arrow {
    background: var(--color-primary);
    color: white;
    transform: translateX(4px);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .container {
        padding: var(--space-4);
    }
    
    .content-wrapper {
        padding: var(--space-6);
    }
    
    .document-header {
        padding: var(--space-8) var(--space-6);
    }
    
    .document-title {
        font-size: var(--font-size-3xl);
    }
}

@media (max-width: 768px) {
    :root {
        --font-size-4xl: 2rem;
        --font-size-3xl: 1.75rem;
        --font-size-2xl: 1.5rem;
    }
    
    .theme-toggle {
        top: var(--space-4);
        right: var(--space-4);
        width: 40px;
        height: 40px;
    }
    
    .nav-container,
    .nav-links {
        flex-direction: column;
        gap: var(--space-3);
    }
    
    .nav-button {
        width: 100%;
        justify-content: center;
        padding: var(--space-3) var(--space-4);
        min-height: 44px; /* Touch-friendly target size */
    }
    
    .nav-button--large {
        flex-direction: row;
        align-items: center;
    }
    
    .document-progress {
        order: -1;
        width: 100%;
    }
    
    .document-nav {
        padding: var(--space-3) var(--space-4);
    }
    
    .document-nav .progress-bar {
        width: 100%;
    }
    
    .content-wrapper {
        padding: var(--space-4);
    }
    
    .section-header {
        flex-direction: column;
        gap: var(--space-2);
    }
    
    .section-number {
        font-size: var(--font-size-2xl);
    }
    
    .title-meta {
        flex-direction: column;
        gap: var(--space-2);
    }
    
    .breadcrumb-list {
        flex-wrap: wrap;
    }
    
    .index-hero {
        padding: var(--space-10) var(--space-6);
    }
    
    .hero-title {
        font-size: var(--font-size-3xl);
    }
    
    .hero-meta {
        flex-direction: column;
        gap: var(--space-2);
    }
    
    .topics-section {
        padding: var(--space-8) var(--space-4);
    }
    
    .topics-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    :root {
        --font-size-4xl: 1.75rem;
        --font-size-3xl: 1.5rem;
        --font-size-2xl: 1.25rem;
        --font-size-xl: 1.125rem;
    }
    
    .container {
        padding: var(--space-2);
    }
    
    .document-article {
        border-radius: var(--radius-xl);
    }
    
    .content-card {
        padding: var(--space-4);
        border-radius: var(--radius-lg);
    }
    
    .enhanced-list .list-item {
        padding: var(--space-2) var(--space-3);
    }
    
    .callout {
        padding: var(--space-4);
    }
    
    .key-points-wrapper {
        padding: var(--space-6);
    }
    
    .code-block {
        font-size: var(--font-size-xs);
    }
}

/* ----------------------------------------
   Print Styles
   ---------------------------------------- */
@media print {
    * {
        background: white !important;
        color: black !important;
        box-shadow: none !important;
    }
    
    .reading-progress-container,
    .theme-toggle,
    .floating-toc,
    .document-nav,
    .lightbox-modal,
    .copy-button,
    .figure-overlay {
        display: none !important;
    }
    
    .page-wrapper {
        display: block;
    }
    
    .document-article {
        box-shadow: none;
    }
    
    .content-card {
        border: 1px solid #ccc;
        page-break-inside: avoid;
    }
    
    .content-section {
        page-break-inside: avoid;
    }
    
    .key-points-section {
        border: 2px solid #333;
    }
    
    a {
        text-decoration: underline;
    }
    
    a[href]::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
    }
    
    .nav-button[href]::after {
        content: none;
    }
}

/* ----------------------------------------
   Focus Styles (Accessibility)
   ---------------------------------------- */
:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 2px;
}

button:focus-visible,
a:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 2px;
}

/* ----------------------------------------
   Selection Styles
   ---------------------------------------- */
::selection {
    background: var(--color-primary-light);
    color: white;
}

[data-theme="dark"] ::selection {
    background: var(--color-primary);
}


/* ========================================
   Quiz System Styles (v9.4)
   ======================================== */

/* Quiz Section Container */
.quiz-section {
    margin: var(--space-12) 0;
    padding: var(--space-8);
    background: var(--color-bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--color-border);
}

.quiz-header {
    text-align: center;
    margin-bottom: var(--space-8);
}

.quiz-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: var(--gradient-primary);
    color: white;
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-4);
}

.quiz-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
}

.quiz-description {
    color: var(--color-text-secondary);
    font-size: var(--font-size-base);
}

/* Quiz Info & Meta */
.quiz-info {
    margin-bottom: var(--space-6);
}

.quiz-meta {
    display: flex;
    justify-content: center;
    gap: var(--space-4);
    flex-wrap: wrap;
}

.quiz-meta span {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.difficulty-badge {
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-medium);
    text-transform: capitalize;
}

.difficulty-beginner { background: rgba(16, 185, 129, 0.1); color: var(--color-success); }
.difficulty-intermediate { background: rgba(245, 158, 11, 0.1); color: var(--color-warning); }
.difficulty-advanced { background: rgba(239, 68, 68, 0.1); color: var(--color-danger); }

/* Quiz Progress */
.quiz-progress {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-lg);
}

.quiz-progress-bar {
    flex: 1;
    height: 8px;
    background: var(--color-border);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.quiz-progress-fill {
    height: 100%;
    background: var(--gradient-primary);
    transition: width var(--transition-base);
}

.quiz-progress-text {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    white-space: nowrap;
}

/* Question Card */
.quiz-question {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    margin-bottom: var(--space-6);
    transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.quiz-question:focus-within {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.quiz-question.answered {
    border-color: var(--color-primary-light);
}

.quiz-question.correct {
    border-color: var(--color-success);
    background: rgba(16, 185, 129, 0.05);
}

.quiz-question.incorrect {
    border-color: var(--color-danger);
    background: rgba(239, 68, 68, 0.05);
}

.question-header {
    display: flex;
    align-items: flex-start;
    flex-wrap: wrap;
    gap: var(--space-3);
    margin-bottom: var(--space-4);
}

.question-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: var(--gradient-primary);
    color: white;
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    flex-shrink: 0;
}

.question-text {
    flex: 1 1 100%;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
    line-height: var(--line-height-relaxed);
    margin: 0;
}

.question-points {
    margin-left: auto;
    padding: var(--space-1) var(--space-3);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    white-space: nowrap;
}

.question-media {
    margin: var(--space-4) 0;
}

.question-media img {
    max-width: 100%;
    border-radius: var(--radius-lg);
}

/* Multiple Choice / Multiple Select Options */
.quiz-options {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.quiz-option {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.quiz-option:hover {
    background: var(--color-surface-hover);
    border-color: var(--color-primary-light);
}

.quiz-option.selected {
    background: rgba(79, 70, 229, 0.1);
    border-color: var(--color-primary);
}

.quiz-option.correct {
    background: rgba(16, 185, 129, 0.1);
    border-color: var(--color-success);
}

.quiz-option.incorrect {
    background: rgba(239, 68, 68, 0.1);
    border-color: var(--color-danger);
}

.quiz-option input[type="radio"],
.quiz-option input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: var(--color-primary);
    flex-shrink: 0;
}

.option-text {
    flex: 1;
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
}

.option-indicator {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-lg);
    flex-shrink: 0;
}

.select-instruction {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    font-style: italic;
    margin-bottom: var(--space-3);
}

/* True/False Buttons */
.true-false-options {
    display: flex;
    gap: var(--space-4);
}

.tf-button {
    flex: 1;
    padding: var(--space-4) var(--space-6);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    background: var(--color-bg-secondary);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.tf-button:hover {
    border-color: var(--color-primary-light);
    transform: translateY(-2px);
}

.tf-button.selected {
    border-color: var(--color-primary);
    background: rgba(79, 70, 229, 0.1);
}

.tf-button.true { color: var(--color-success); }
.tf-button.false { color: var(--color-danger); }

.tf-button.correct {
    background: rgba(16, 185, 129, 0.2);
    border-color: var(--color-success);
}

.tf-button.incorrect {
    background: rgba(239, 68, 68, 0.2);
    border-color: var(--color-danger);
}

/* Fill in the Blank */
.fill-blank-container {
    font-size: var(--font-size-lg);
    line-height: 2.5;
    color: var(--color-text-primary);
}

.blank-input {
    display: inline-block;
    min-width: 120px;
    padding: var(--space-2) var(--space-3);
    border: 2px dashed var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg-secondary);
    font-size: var(--font-size-base);
    font-family: var(--font-family-sans);
    text-align: center;
    transition: border-color var(--transition-fast);
    vertical-align: middle;
}

.blank-input:focus {
    outline: none;
    border-color: var(--color-primary);
    border-style: solid;
}

.blank-input.correct {
    border-color: var(--color-success);
    border-style: solid;
    background: rgba(16, 185, 129, 0.1);
}

.blank-input.incorrect {
    border-color: var(--color-danger);
    border-style: solid;
    background: rgba(239, 68, 68, 0.1);
}

/* Matching Question */
.matching-container {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: var(--space-4);
    align-items: start;
}

.matching-column {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.matching-item {
    padding: var(--space-3) var(--space-4);
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
}

.matching-select {
    padding: var(--space-3) var(--space-4);
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-base);
    font-family: var(--font-family-sans);
    color: var(--color-text-primary);
    cursor: pointer;
    transition: border-color var(--transition-fast);
}

.matching-select:focus {
    outline: none;
    border-color: var(--color-primary);
}

.matching-select.correct {
    border-color: var(--color-success);
    background: rgba(16, 185, 129, 0.1);
}

.matching-select.incorrect {
    border-color: var(--color-danger);
    background: rgba(239, 68, 68, 0.1);
}

.matching-connector {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    color: var(--color-text-muted);
    font-size: var(--font-size-xl);
    padding: var(--space-3) 0;
    line-height: 2.5;
}

/* Ordering Question */
.ordering-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.ordering-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    cursor: grab;
    transition: all var(--transition-fast);
    user-select: none;
}

.ordering-item:hover {
    border-color: var(--color-primary-light);
    background: var(--color-surface-hover);
}

.ordering-item:active {
    cursor: grabbing;
}

.ordering-item.dragging {
    opacity: 0.5;
    border-style: dashed;
}

.ordering-item .drag-handle {
    color: var(--color-text-muted);
    font-size: var(--font-size-lg);
    cursor: grab;
}

.ordering-item .position-number {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-secondary);
    flex-shrink: 0;
}

.ordering-item .item-text {
    flex: 1;
    color: var(--color-text-primary);
}

.ordering-item.correct {
    border-color: var(--color-success);
    background: rgba(16, 185, 129, 0.1);
}

.ordering-item.incorrect {
    border-color: var(--color-danger);
    background: rgba(239, 68, 68, 0.1);
}

/* Short Answer */
.short-answer-container textarea {
    width: 100%;
    min-height: 120px;
    padding: var(--space-4);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    background: var(--color-bg-secondary);
    font-family: var(--font-family-sans);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-primary);
    resize: vertical;
    transition: border-color var(--transition-fast);
}

.short-answer-container textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

.short-answer-container textarea::placeholder {
    color: var(--color-text-muted);
}

.char-counter {
    text-align: right;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin-top: var(--space-2);
}

/* Image-Based Question */
.image-question-container {
    position: relative;
}

.image-instruction {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    font-style: italic;
    margin-bottom: var(--space-3);
}

.image-question-wrapper {
    position: relative;
    display: inline-block;
    max-width: 100%;
}

.image-question-wrapper img {
    max-width: 100%;
    border-radius: var(--radius-lg);
    display: block;
}

.hotspot {
    position: absolute;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 3px solid var(--color-primary);
    background: rgba(79, 70, 229, 0.2);
    cursor: pointer;
    transform: translate(-50%, -50%);
    transition: all var(--transition-fast);
    padding: 0;
}

.hotspot:hover {
    transform: translate(-50%, -50%) scale(1.2);
    background: rgba(79, 70, 229, 0.4);
}

.hotspot:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3);
}

.hotspot.selected {
    background: var(--color-primary);
    border-color: white;
}

.hotspot.correct {
    background: var(--color-success);
    border-color: white;
}

.hotspot.incorrect {
    background: var(--color-danger);
    border-color: white;
}

/* Feedback & Explanation */
.question-feedback {
    margin-top: var(--space-4);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
}

.question-feedback.correct {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid var(--color-success);
}

.question-feedback.incorrect {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid var(--color-danger);
}

.feedback-icon {
    font-size: var(--font-size-xl);
    flex-shrink: 0;
}

.feedback-text {
    flex: 1;
}

.feedback-text strong {
    display: block;
    margin-bottom: var(--space-1);
    color: var(--color-text-primary);
}

.feedback-text p {
    margin: 0;
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}

/* Hint Button & Content */
.hint-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    margin-top: var(--space-3);
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    font-family: var(--font-family-sans);
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.hint-button:hover {
    background: var(--color-surface-hover);
    color: var(--color-primary);
    border-color: var(--color-primary-light);
}

.hint-content {
    margin-top: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: rgba(245, 158, 11, 0.1);
    border-left: 3px solid var(--color-warning);
    border-radius: 0 var(--radius-md) var(--radius-md) 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Quiz Navigation & Actions */
.quiz-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--space-8);
    padding-top: var(--space-6);
    border-top: 1px solid var(--color-border);
}

.quiz-nav-buttons {
    display: flex;
    gap: var(--space-3);
}

.quiz-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    font-family: var(--font-family-sans);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.quiz-button--secondary {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
}

.quiz-button--secondary:hover {
    background: var(--color-surface-hover);
    border-color: var(--color-primary-light);
}

.quiz-button--primary {
    background: var(--gradient-primary);
    border: none;
    color: white;
}

.quiz-button--primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.quiz-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* Quiz Results */
.quiz-results {
    text-align: center;
    padding: var(--space-8);
}

.results-header {
    margin-bottom: var(--space-4);
}

.results-icon {
    font-size: var(--font-size-5xl);
    display: block;
    margin-bottom: var(--space-2);
}

.results-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.results-score {
    font-size: 4rem;
    font-weight: var(--font-weight-bold);
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: var(--space-4);
}

.results-message {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-6);
}

.results-breakdown {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--space-4);
    margin-bottom: var(--space-8);
}

.breakdown-item {
    padding: var(--space-4);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
}

.breakdown-value {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
}

.breakdown-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-top: var(--space-1);
}

.results-actions {
    display: flex;
    justify-content: center;
    gap: var(--space-4);
    flex-wrap: wrap;
}

/* Loading State */
.quiz-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-12);
    color: var(--color-text-secondary);
}

.quiz-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--color-border);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: quiz-spin 1s linear infinite;
    margin-bottom: var(--space-4);
}

@keyframes quiz-spin {
    to { transform: rotate(360deg); }
}

.quiz-error {
    text-align: center;
    color: var(--color-danger);
}

.error-icon {
    font-size: var(--font-size-3xl);
    display: block;
    margin-bottom: var(--space-2);
}

/* Dark Mode Quiz Adjustments */
[data-theme="dark"] .quiz-option:hover {
    background: var(--color-bg-tertiary);
}

[data-theme="dark"] .quiz-question.correct {
    background: rgba(16, 185, 129, 0.1);
}

[data-theme="dark"] .quiz-question.incorrect {
    background: rgba(239, 68, 68, 0.1);
}

[data-theme="dark"] .tf-button {
    background: var(--color-bg-tertiary);
}

[data-theme="dark"] .blank-input,
[data-theme="dark"] .matching-select,
[data-theme="dark"] .ordering-item,
[data-theme="dark"] .short-answer-container textarea {
    background: var(--color-bg-tertiary);
}

[data-theme="dark"] .hint-content {
    background: rgba(245, 158, 11, 0.15);
}

/* Quiz Responsive Styles */
@media (max-width: 768px) {
    .quiz-section {
        padding: var(--space-4);
        margin: var(--space-6) 0;
    }
    
    .quiz-question {
        padding: var(--space-4);
    }
    
    .question-header {
        flex-wrap: wrap;
    }
    
    .question-points {
        margin-left: 0;
        margin-top: var(--space-2);
    }
    
    .matching-container {
        grid-template-columns: 1fr;
        gap: var(--space-2);
    }
    
    .matching-connector {
        display: none;
    }
    
    .matching-item {
        margin-bottom: var(--space-1);
    }
    
    .true-false-options {
        flex-direction: column;
    }
    
    .quiz-actions {
        flex-direction: column;
        gap: var(--space-4);
    }
    
    .quiz-nav-buttons {
        width: 100%;
        justify-content: center;
    }
    
    .quiz-button {
        flex: 1;
        justify-content: center;
    }
    
    .results-breakdown {
        grid-template-columns: 1fr;
    }
    
    .results-actions {
        flex-direction: column;
    }
    
    .results-actions .quiz-button {
        width: 100%;
    }
}

/* Quiz Print Styles */
@media print {
    .quiz-section {
        box-shadow: none;
        border: 2px solid #333;
    }
    
    .quiz-button,
    .hint-button,
    .quiz-actions {
        display: none !important;
    }
    
    .quiz-question {
        page-break-inside: avoid;
    }
}


/* ========================================
   Quiz Media Styles (v9.4 Enhanced)
   Images, Videos, Audio in Questions
   ======================================== */

/* Question Media Container */
.question-media {
    margin: var(--space-4) 0;
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.question-media--image img {
    max-width: 100%;
    height: auto;
    display: block;
    border-radius: var(--radius-lg);
}

.question-media--video .question-media-video,
.question-media--youtube .video-wrapper {
    width: 100%;
    border-radius: var(--radius-lg);
    background: var(--color-bg-tertiary);
}

.question-media--youtube .video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
}

.question-media--youtube .video-wrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: var(--radius-lg);
}

.question-media--audio .question-media-audio {
    width: 100%;
}

.media-caption {
    margin-top: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    text-align: center;
    font-style: italic;
}

/* Image-Based Answer Options */
.quiz-options--images {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
}

.quiz-option--image {
    flex-direction: column;
    align-items: stretch;
    padding: var(--space-3);
}

.quiz-option--image input[type="radio"],
.quiz-option--image input[type="checkbox"] {
    position: absolute;
    top: var(--space-3);
    left: var(--space-3);
    z-index: 1;
}

.option-content--image {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
    width: 100%;
}

.option-image {
    width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: var(--radius-md);
    background: var(--color-bg-tertiary);
}

.quiz-option--image .option-text {
    text-align: center;
    font-size: var(--font-size-sm);
    margin-top: var(--space-2);
}

.quiz-option--image .option-indicator {
    position: absolute;
    top: var(--space-3);
    right: var(--space-3);
}

/* Image option states */
.quiz-option--image.selected {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
}

.quiz-option--image.correct {
    border-color: var(--color-success);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

.quiz-option--image.incorrect {
    border-color: var(--color-danger);
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

/* Responsive adjustments for image options */
@media (max-width: 480px) {
    .quiz-options--images {
        grid-template-columns: 1fr;
    }
    
    .option-image {
        max-height: 150px;
    }
}

/* Dark mode media adjustments */
[data-theme="dark"] .question-media--video,
[data-theme="dark"] .question-media--audio {
    background: var(--color-bg-tertiary);
    padding: var(--space-2);
    border-radius: var(--radius-lg);
}

[data-theme="dark"] .option-image {
    background: var(--color-bg-tertiary);
}


/* ========================================
   Floating Quiz Button (v9.4)
   ======================================== */

.floating-quiz-btn {
    position: fixed;
    bottom: var(--space-6);
    right: var(--space-6);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    background: var(--gradient-primary);
    color: white;
    text-decoration: none;
    border-radius: var(--radius-full);
    box-shadow: var(--shadow-lg);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    z-index: var(--z-fixed);
    transition: all var(--transition-base);
}

.floating-quiz-btn:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-xl);
}

.floating-quiz-btn:focus {
    outline: 2px solid white;
    outline-offset: 2px;
}

.quiz-btn-icon {
    font-size: var(--font-size-lg);
}

/* Hide text on mobile, show only icon */
@media (max-width: 480px) {
    .floating-quiz-btn {
        padding: var(--space-3);
        border-radius: var(--radius-full);
    }
    
    .quiz-btn-text {
        display: none;
    }
}

/* Quiz link in header meta */
.meta-item--quiz a {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
}

.meta-item--quiz a:hover {
    text-decoration: underline;
}

/* Nav button quiz variant */
.nav-button--quiz {
    background: rgba(79, 70, 229, 0.2);
    border-color: rgba(79, 70, 229, 0.3);
}

.nav-button--quiz:hover {
    background: rgba(79, 70, 229, 0.3);
}


/* ========================================
   Quiz Hub Page Styles (v9.4)
   ======================================== */

.quiz-hub-header {
    text-align: center;
}

.quiz-hub-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    margin-top: var(--space-2);
}

/* Quiz Hub Stats */
.quiz-hub-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-8);
    margin-top: var(--space-6);
    padding: var(--space-6);
    background: var(--color-bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
}

.stat-item {
    text-align: center;
}

.stat-value {
    display: block;
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.stat-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Quiz Hub Controls */
.quiz-hub-controls {
    display: flex;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-lg);
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.filter-group label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
}

.quiz-filter {
    padding: var(--space-2) var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg-primary);
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
    cursor: pointer;
}

.quiz-filter:focus {
    outline: none;
    border-color: var(--color-primary);
}

/* Quiz Cards Grid */
.quiz-hub-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-6);
}

/* Quiz Card */
.quiz-card {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
}

.quiz-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity var(--transition-base);
}

.quiz-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.quiz-card:hover::before {
    opacity: 1;
}

.quiz-card--completed::before {
    background: var(--gradient-success);
    opacity: 1;
}

.quiz-card-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
}

.quiz-card-icon {
    font-size: var(--font-size-xl);
}

.quiz-card-topic {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.quiz-card-badge {
    margin-left: auto;
    padding: var(--space-1) var(--space-2);
    background: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
}

.quiz-card-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
}

.quiz-card-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
    line-height: var(--line-height-relaxed);
}

.quiz-card-meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    margin-bottom: var(--space-4);
}

.quiz-meta-item {
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
}

/* Quiz Card Progress */
.quiz-card-progress {
    margin-bottom: var(--space-4);
}

.quiz-card-progress .progress-bar {
    height: 6px;
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-full);
    overflow: hidden;
    margin-bottom: var(--space-1);
}

.quiz-card-progress .progress-fill {
    height: 100%;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    transition: width var(--transition-base);
}

.quiz-card-progress .progress-label {
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
}

/* Quiz Card Score (for completed) */
.quiz-card-score {
    display: flex;
    align-items: baseline;
    gap: var(--space-2);
    margin-bottom: var(--space-4);
    padding: var(--space-3);
    background: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-lg);
}

.score-value {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-success);
}

.score-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Quiz Card Actions */
.quiz-card-actions {
    display: flex;
    gap: var(--space-3);
}

.quiz-card-btn {
    flex: 1;
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    text-align: center;
    text-decoration: none;
    transition: all var(--transition-fast);
}

.quiz-card-btn--primary {
    background: var(--gradient-primary);
    color: white;
}

.quiz-card-btn--primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
}

.quiz-card-btn--secondary {
    background: var(--color-bg-tertiary);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border);
}

.quiz-card-btn--secondary:hover {
    background: var(--color-surface-hover);
    border-color: var(--color-primary-light);
}

/* Dark Mode Quiz Hub */
[data-theme="dark"] .quiz-hub-stats {
    background: var(--color-bg-tertiary);
}

[data-theme="dark"] .quiz-card {
    background: var(--color-bg-tertiary);
}

[data-theme="dark"] .quiz-filter {
    background: var(--color-bg-secondary);
    border-color: var(--color-border);
}

/* Responsive Quiz Hub */
@media (max-width: 768px) {
    .quiz-hub-stats {
        flex-direction: column;
        gap: var(--space-4);
    }
    
    .quiz-hub-controls {
        flex-direction: column;
    }
    
    .quiz-hub-grid {
        grid-template-columns: 1fr;
    }
    
    .quiz-card-actions {
        flex-direction: column;
    }
}


/* ========================================
   Comprehensive Exam Styles (v9.4)
   ======================================== */

/* Exam Header */
.exam-header {
    background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
    color: white;
}

[data-theme="dark"] .exam-header {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

.exam-badge {
    background: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
}

.exam-subtitle {
    font-size: var(--font-size-lg);
    opacity: 0.9;
    margin-top: var(--space-2);
}

/* Exam Info Cards */
.exam-info-cards {
    display: flex;
    justify-content: center;
    gap: var(--space-4);
    margin-top: var(--space-6);
    flex-wrap: wrap;
}

.exam-info-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-4) var(--space-6);
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    min-width: 120px;
}

.exam-info-card .info-icon {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-2);
}

.exam-info-card .info-value {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
}

.exam-info-card .info-label {
    font-size: var(--font-size-xs);
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Topics Covered */
.exam-topics-covered {
    margin-top: var(--space-6);
    text-align: center;
}

.exam-topics-covered h3 {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    opacity: 0.8;
    margin-bottom: var(--space-3);
    color: inherit;
}

.topics-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-2);
}

.topic-tag {
    padding: var(--space-1) var(--space-3);
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
}

/* Exam Instructions */
.exam-instructions {
    margin-bottom: var(--space-8);
}

.exam-instructions ul {
    margin: 0;
    padding-left: var(--space-6);
}

.exam-instructions li {
    margin-bottom: var(--space-2);
}

/* Exam Section */
.exam-section {
    border: 2px solid var(--color-primary);
}

.exam-section .quiz-header {
    display: none;
}

/* Question Topic Indicator */
.question-topic-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-2);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-md);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
}

/* Exam Results Enhancement */
.exam-results-breakdown {
    margin-top: var(--space-6);
    padding: var(--space-6);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
}

.topic-score-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-3) 0;
    border-bottom: 1px solid var(--color-border);
}

.topic-score-item:last-child {
    border-bottom: none;
}

.topic-score-name {
    font-weight: var(--font-weight-medium);
}

.topic-score-value {
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.topic-score-value.passed {
    color: var(--color-success);
}

.topic-score-value.failed {
    color: var(--color-danger);
}

/* Responsive Exam */
@media (max-width: 768px) {
    .exam-info-cards {
        gap: var(--space-2);
    }
    
    .exam-info-card {
        padding: var(--space-3);
        min-width: 100px;
    }
    
    .exam-info-card .info-value {
        font-size: var(--font-size-base);
    }
}

/* ----------------------------------------
   Topic Breakdown in Results
   ---------------------------------------- */
.topic-breakdown {
    margin-top: var(--space-6);
    padding: var(--space-6);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
}

.topic-breakdown-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-4);
    color: var(--color-text-primary);
    text-align: center;
}

.topic-breakdown-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.topic-breakdown-item {
    padding: var(--space-4);
    background: var(--color-bg-primary);
    border-radius: var(--radius-md);
    border-left: 4px solid var(--color-border);
}

.topic-breakdown-item.good {
    border-left-color: var(--color-success);
}

.topic-breakdown-item.fair {
    border-left-color: var(--color-warning);
}

.topic-breakdown-item.needs-work {
    border-left-color: var(--color-danger);
}

.topic-breakdown-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-2);
}

.topic-name {
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
}

.topic-score {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-lg);
}

.topic-breakdown-item.good .topic-score {
    color: var(--color-success);
}

.topic-breakdown-item.fair .topic-score {
    color: var(--color-warning);
}

.topic-breakdown-item.needs-work .topic-score {
    color: var(--color-danger);
}

.topic-progress-bar {
    height: 8px;
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-full);
    overflow: hidden;
    margin-bottom: var(--space-2);
}

.topic-progress-fill {
    height: 100%;
    border-radius: var(--radius-full);
    transition: width 0.5s ease;
}

.topic-breakdown-item.good .topic-progress-fill {
    background: var(--color-success);
}

.topic-breakdown-item.fair .topic-progress-fill {
    background: var(--color-warning);
}

.topic-breakdown-item.needs-work .topic-progress-fill {
    background: var(--color-danger);
}

.topic-details {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Question Topic Badge Enhancement */
.question-header .question-topic-badge {
    order: -1;
    flex-basis: 100%;
    width: fit-content;
    margin-bottom: var(--space-2);
    background: linear-gradient(135deg, var(--color-primary-light), var(--color-secondary));
    color: white;
    font-weight: var(--font-weight-medium);
}

@media (max-width: 768px) {
    .topic-breakdown {
        padding: var(--space-4);
    }
    
    .topic-breakdown-item {
        padding: var(--space-3);
    }
}

/* ----------------------------------------
   Exam Banner in Quiz Hub
   ---------------------------------------- */
.exam-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-6);
    padding: var(--space-6);
    margin-bottom: var(--space-8);
    background: var(--gradient-primary);
    border-radius: var(--radius-xl);
    color: white;
    box-shadow: var(--shadow-lg);
}

.exam-banner-content {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    flex-wrap: wrap;
}

.exam-banner-icon {
    font-size: 3rem;
}

.exam-banner-text h3 {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin: 0 0 var(--space-1) 0;
    color: white;
}

.exam-banner-text p {
    margin: 0;
    opacity: 0.9;
    font-size: var(--font-size-sm);
}

.exam-banner-meta {
    display: flex;
    gap: var(--space-4);
    font-size: var(--font-size-sm);
    opacity: 0.9;
}

.exam-banner-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-6);
    background: white;
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
    border-radius: var(--radius-lg);
    text-decoration: none;
    white-space: nowrap;
    transition: transform 0.2s, box-shadow 0.2s;
}

.exam-banner-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

@media (max-width: 768px) {
    .exam-banner {
        flex-direction: column;
        text-align: center;
        padding: var(--space-4);
    }
    
    .exam-banner-content {
        flex-direction: column;
    }
    
    .exam-banner-meta {
        justify-content: center;
    }
}

/* ========================================
   Definitions Grid - Interactive Cards
   ======================================== */
.definitions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    margin: var(--space-6) 0;
}

.definition-card {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-surface);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: all var(--transition-base);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.definition-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-primary);
    transform: scaleX(0);
    transition: transform var(--transition-base);
}

.definition-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--color-primary-light);
}

.definition-card:hover::before {
    transform: scaleX(1);
}

.definition-card--first {
    border-color: var(--color-success);
}

.definition-card--first::before {
    background: var(--color-success);
}

.definition-card--first:hover {
    border-color: var(--color-success);
    box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.3);
}

.definition-card--multiple {
    border-color: var(--color-secondary);
}

.definition-card--multiple::before {
    background: var(--color-secondary);
}

.definition-card--multiple:hover {
    border-color: var(--color-secondary);
    box-shadow: 0 10px 25px -5px rgba(14, 165, 233, 0.3);
}

.definition-card--none {
    border-color: var(--color-warning);
}

.definition-card--none::before {
    background: var(--color-warning);
}

.definition-card--none:hover {
    border-color: var(--color-warning);
    box-shadow: 0 10px 25px -5px rgba(245, 158, 11, 0.3);
}

.definition-card--grand {
    border-color: var(--color-accent);
}

.definition-card--grand::before {
    background: var(--gradient-accent);
}

.definition-card--grand:hover {
    border-color: var(--color-accent);
    box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.3);
}

.definition-icon {
    font-size: 2.5rem;
    line-height: 1;
    flex-shrink: 0;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.definition-content {
    flex: 1;
}

.definition-term {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
    font-family: var(--font-family-serif);
}

.definition-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    line-height: var(--line-height-normal);
    margin: 0;
}

.definition-text strong {
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
}

/* Comparison Chart */
.comparison-chart {
    margin: var(--space-6) 0;
    padding: var(--space-5);
    background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
    border-radius: var(--radius-xl);
    border: 1px solid var(--color-border);
}

.chart-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-4) 0;
    text-align: center;
}

.chart-row {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    margin-bottom: var(--space-3);
}

.chart-row:last-child {
    margin-bottom: 0;
}

.chart-label {
    min-width: 100px;
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    font-size: var(--font-size-sm);
}

.chart-bars {
    flex: 1;
    display: flex;
    align-items: center;
}

.chart-bar {
    height: 40px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    padding: 0 var(--space-3);
    color: white;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-xs);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
    position: relative;
    overflow: hidden;
}

.chart-bar:hover {
    transform: scale(1.02);
    box-shadow: var(--shadow-md);
}

.chart-bar--gravidity {
    background: var(--gradient-primary);
}

.chart-bar--parity {
    background: var(--gradient-secondary);
}

.bar-label {
    position: relative;
    z-index: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .definitions-grid {
        grid-template-columns: 1fr;
    }
    
    .definition-card {
        padding: var(--space-3);
    }
    
    .definition-icon {
        font-size: 2rem;
    }
    
    .chart-row {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
    }
    
    .chart-bars {
        width: 100%;
    }
    
    .chart-bar {
        width: 100% !important;
    }
}

/* Dark mode adjustments */
[data-theme="dark"] .definition-card {
    background: var(--color-bg-elevated);
    border-color: var(--color-border);
}

[data-theme="dark"] .comparison-chart {
    background: linear-gradient(135deg, var(--color-bg-elevated) 0%, var(--color-bg-secondary) 100%);
}

/* ========================================
   Engaging Content Cards & Components
   ======================================== */

/* Card Variants */
.content-card--accent {
    background: linear-gradient(135deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 100%);
    border-left: 4px solid var(--color-primary);
}

.content-card--gradient {
    background: linear-gradient(135deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 50%, var(--color-bg-tertiary) 100%);
}

.content-card--alternate {
    background: var(--color-bg-elevated);
}

.content-card--stats {
    background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
}

/* Card Header with Icon */
.card-header-with-icon {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-5);
    padding-bottom: var(--space-4);
    border-bottom: 2px solid var(--color-border-light);
}

.card-icon {
    font-size: 2rem;
    line-height: 1;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.card-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0;
    font-family: var(--font-family-serif);
}

.card-intro {
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    line-height: var(--line-height-relaxed);
}

.section-intro {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
}

/* Feature Grid */
.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.feature-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-5);
    background: var(--color-surface);
    border-radius: var(--radius-xl);
    border: 2px solid var(--color-border-light);
    transition: all var(--transition-base);
}

.feature-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--color-primary-light);
}

.feature-icon {
    font-size: 2.5rem;
    margin-bottom: var(--space-3);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.feature-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.feature-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* Aims Grid */
.aims-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.aim-card {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--color-primary);
    transition: all var(--transition-base);
}

.aim-card:hover {
    transform: translateX(4px);
    box-shadow: var(--shadow-md);
    border-left-color: var(--color-primary-dark);
}

.aim-number {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary-light);
    opacity: 0.5;
    line-height: 1;
    min-width: 40px;
}

.aim-content {
    flex: 1;
}

.aim-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.aim-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.stat-card {
    display: flex;
    gap: var(--space-4);
    padding: var(--space-5);
    border-radius: var(--radius-xl);
    color: white;
}

.stat-card--danger {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

.stat-card--warning {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.stat-icon {
    font-size: 3rem;
    line-height: 1;
    opacity: 0.9;
}

.stat-content {
    flex: 1;
}

.stat-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    margin: 0 0 var(--space-2) 0;
}

.stat-definition {
    font-size: var(--font-size-sm);
    opacity: 0.9;
    margin: 0 0 var(--space-3) 0;
}

.stat-value {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    margin: var(--space-3) 0;
    line-height: 1;
}

.stat-unit {
    font-size: var(--font-size-sm);
    opacity: 0.9;
    margin: 0 0 var(--space-1) 0;
}

.stat-source {
    font-size: var(--font-size-xs);
    opacity: 0.8;
    margin: 0;
    font-style: italic;
}

/* Success Factors */
.success-factors {
    margin-top: var(--space-6);
    padding: var(--space-4);
    background: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.factors-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-3) 0;
}

.factors-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.factor-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.factor-icon {
    font-size: var(--font-size-lg);
}

.factor-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Factors Grid */
.factors-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.factor-card {
    background: var(--color-surface);
    border-radius: var(--radius-xl);
    overflow: hidden;
    border: 2px solid var(--color-border-light);
    transition: all var(--transition-base);
}

.factor-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.factor-card--age { border-top: 4px solid var(--color-primary); }
.factor-card--parity { border-top: 4px solid var(--color-secondary); }
.factor-card--physique { border-top: 4px solid var(--color-warning); }
.factor-card--health { border-top: 4px solid var(--color-success); }

.factor-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
}

.factor-emoji {
    font-size: 2rem;
}

.factor-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.factor-body {
    padding: var(--space-4);
}

.factor-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-3) 0;
    line-height: var(--line-height-normal);
}

.factor-range {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
    padding: var(--space-2);
    background: rgba(79, 70, 229, 0.1);
    border-radius: var(--radius-md);
}

.range-label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
}

.range-value {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.factor-alerts {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.alert-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-2);
    padding: var(--space-3);
    border-radius: var(--radius-md);
}

.alert--danger {
    background: rgba(239, 68, 68, 0.1);
    border-left: 3px solid var(--color-danger);
}

.alert--warning {
    background: rgba(245, 158, 11, 0.1);
    border-left: 3px solid var(--color-warning);
}

.alert-icon {
    font-size: var(--font-size-lg);
    flex-shrink: 0;
}

.alert-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

.alert-text strong {
    color: var(--color-text-primary);
}

.complications-list {
    margin-top: var(--space-3);
}

.complications-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.complication-items {
    list-style: none;
    padding: 0;
    margin: 0;
}

.complication-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-2);
    padding: var(--space-2) 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.complication-item::before {
    content: 'â€¢';
    color: var(--color-secondary);
    font-weight: bold;
}

.height-indicator {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
    padding: var(--space-2);
    background: rgba(245, 158, 11, 0.1);
    border-radius: var(--radius-md);
}

.height-label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
}

.height-value {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    color: var(--color-warning);
}

.risk-boxes {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-2);
}

.risk-box {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.risk--low {
    background: rgba(239, 68, 68, 0.1);
    color: var(--color-danger);
}

.risk--high {
    background: rgba(245, 158, 11, 0.1);
    color: var(--color-warning);
}

.risk-icon {
    font-size: var(--font-size-lg);
}

.risk-text {
    font-size: var(--font-size-xs);
    line-height: var(--line-height-tight);
}

/* Vulnerability Grid */
.vulnerability-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.vulnerability-card {
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
    transition: all var(--transition-base);
}

.vulnerability-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary-light);
}

.vuln-icon {
    font-size: 2rem;
    margin-bottom: var(--space-2);
}

.vuln-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.vuln-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* Process Steps */
.process-section {
    margin-top: var(--space-4);
}

.process-subtitle {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-3) 0;
    font-family: var(--font-family-serif);
}

.process-intro {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-4) 0;
    line-height: var(--line-height-relaxed);
}

.process-steps {
    display: grid;
    gap: var(--space-3);
}

.process-step {
    display: flex;
    gap: var(--space-4);
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--color-primary);
    transition: all var(--transition-base);
}

.process-step:hover {
    transform: translateX(4px);
    box-shadow: var(--shadow-md);
    border-left-color: var(--color-primary-dark);
}

.step-number {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary-light);
    opacity: 0.3;
    line-height: 1;
    min-width: 40px;
}

.step-content {
    flex: 1;
}

.step-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.step-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* History Categories */
.history-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.history-category {
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border-light);
    transition: all var(--transition-base);
}

.history-category:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary-light);
}

.history-icon {
    font-size: 2rem;
    margin-bottom: var(--space-2);
}

.history-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.history-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

.additional-history {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-4);
    margin-top: var(--space-4);
}

.history-item {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-lg);
}

.history-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 80px;
    padding: var(--space-1) var(--space-2);
    background: var(--color-primary);
    color: white;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    border-radius: var(--radius-md);
    text-transform: uppercase;
}

.history-item-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* Exam Sections */
.exam-sections {
    margin-top: var(--space-4);
}

.exam-section {
    margin-bottom: var(--space-5);
    padding-bottom: var(--space-5);
    border-bottom: 1px solid var(--color-border-light);
}

.exam-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.exam-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-3) 0;
    font-family: var(--font-family-serif);
}

.exam-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

.exam-checklist {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.exam-item {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--color-surface);
    border-radius: var(--radius-md);
    transition: all var(--transition-base);
}

.exam-item:hover {
    background: var(--color-surface-hover);
}

.exam-check {
    font-size: var(--font-size-lg);
    color: var(--color-success);
    font-weight: bold;
    flex-shrink: 0;
}

.exam-content {
    flex: 1;
}

.exam-item-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-1) 0;
}

.exam-item-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

.exam-objectives {
    margin-bottom: var(--space-4);
}

.objectives-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.objectives-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.objective-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-2);
    padding: var(--space-2) 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.objective-item::before {
    content: 'âœ“';
    color: var(--color-success);
    font-weight: bold;
}

.exam-procedure {
    margin-top: var(--space-4);
}

.procedure-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-3) 0;
}

.procedure-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-3) 0;
    line-height: var(--line-height-relaxed);
}

.procedure-text:last-child {
    margin-bottom: 0;
}

/* Findings Grid */
.findings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    margin: var(--space-5) 0;
}

.finding-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 2px solid var(--color-border-light);
    transition: all var(--transition-base);
}

.finding-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary-light);
}

.finding-icon {
    font-size: 2rem;
    margin-bottom: var(--space-2);
}

.finding-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-2) 0;
}

.finding-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .feature-grid,
    .aims-grid,
    .stats-grid,
    .factors-grid,
    .vulnerability-grid,
    .history-categories,
    .findings-grid {
        grid-template-columns: 1fr;
    }
    
    .process-steps {
        gap: var(--space-2);
    }
    
    .additional-history {
        grid-template-columns: 1fr;
    }
    
    .risk-boxes {
        grid-template-columns: 1fr;
    }
    
    .stat-card {
        flex-direction: column;
        text-align: center;
    }
    
    .stat-value {
        font-size: var(--font-size-3xl);
    }
}

/* Dark Mode Adjustments */
[data-theme="dark"] .content-card--accent {
    background: linear-gradient(135deg, var(--color-bg-elevated) 0%, var(--color-bg-secondary) 100%);
}

[data-theme="dark"] .content-card--gradient {
    background: linear-gradient(135deg, var(--color-bg-elevated) 0%, var(--color-bg-secondary) 50%, var(--color-bg-tertiary) 100%);
}

[data-theme="dark"] .content-card--stats {
    background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
}

[data-theme="dark"] .factor-card,
[data-theme="dark"] .vulnerability-card,
[data-theme="dark"] .history-category,
[data-theme="dark"] .finding-card {
    background: var(--color-bg-secondary);
    border-color: var(--color-border);
}

[data-theme="dark"] .process-step,
[data-theme="dark"] .aim-card,
[data-theme="dark"] .exam-item {
    background: var(--color-bg-secondary);
}

[data-theme="dark"] .feature-card {
    background: var(--color-bg-secondary);
}

@media (max-width: 768px) {
    .exam-banner {
        flex-wrap: wrap;
    }
    
    .exam-banner-btn {
        width: 100%;
        justify-content: center;
    }
}


================================================================================
FILE: content_cleaned.txt
PATH: content_cleaned.txt
================================================================================

<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="./favicon.png">
    <link rel="preload" href="./static/media/SourceSansPro-Regular.DZLUzqI4.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="./static/media/SourceSansPro-SemiBold.sKQIyTMz.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="./static/media/SourceSansPro-Bold.-6c9oR8J.woff2" as="font" type="font/woff2" crossorigin="">

    <title>app</title>

    <!-- initialize window.prerenderReady to false and then set to true in React app when app is ready for indexing -->
    <script>
      window.prerenderReady = false
    </script>
    <script type="module" crossorigin="" src="./static/js/index.BlylrL8P.js"></script>
    <link rel="stylesheet" crossorigin="" href="./static/css/index.DpJG_94W.css">
  <style media=""></style><style data-emotion="st-emotion-cache-global" data-s=""></style><style data-emotion="st-emotion-cache" data-s=""></style><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/index.BqlD3NTA.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/index.DW_MHI2K.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/FormClearHelper.UtDFKbpT.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/FileHelper.DV2KuUj6.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/ProgressBar.BtMHwdZZ.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/Hooks.YZgOFmbn.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pieree369-olmocr.hf.space/static/js/UploadFileInfo.C-jY39rj.js"></head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"><div class=""><div class="withScreencast" data-testid="stScreencast"><div class="stApp stAppEmbeddingId-t9y22iyb9tjb st-emotion-cache-1r4qj8v ee4bbma0" data-testid="stApp" data-test-script-state="notRunning" data-test-connection-state="CONNECTED"><header tabindex="-1" class="stAppHeader st-emotion-cache-12fmjuu e4hpqof0" data-testid="stHeader"><div class="stDecoration st-emotion-cache-1dp5vir e4hpqof1" data-testid="stDecoration" id="stDecoration"></div><div class="stAppToolbar st-emotion-cache-15ecox0 e4hpqof2" data-testid="stToolbar"><div class="stToolbarActions st-emotion-cache-1p1m4ay e1i26tt72" data-testid="stToolbarActions"></div><span id="MainMenu" class="stMainMenu st-emotion-cache-czk5ss ev04twb8" data-testid="stMainMenu" aria-haspopup="true" aria-expanded="false"><button kind="headerNoPadding" data-testid="stBaseButton-headerNoPadding" aria-label="" class="st-emotion-cache-l1ktzw em9zgd018"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="e144pc0f1 st-emotion-cache-1pbsqtx ex0cdmw0"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg></button></span></div></header><div class="stAppViewContainer appview-container st-emotion-cache-1yiq2ps eht7o1d0" data-testid="stAppViewContainer" data-layout="narrow"><section tabindex="0" class="stMain st-emotion-cache-bm2z3a eht7o1d1" data-testid="stMain"><div class="stMainBlockContainer block-container st-emotion-cache-mtjnbi eht7o1d4" data-testid="stMainBlockContainer"><div data-testid="stVerticalBlockBorderWrapper" data-test-scroll-behavior="normal" class="st-emotion-cache-0 eu6p4el5"><div class="st-emotion-cache-b95f0i eu6p4el4"><div class="stVerticalBlock st-emotion-cache-1n76uvr eu6p4el3" data-testid="stVerticalBlock" width="704"><div class="stElementContainer element-container st-emotion-cache-kj6hex eu6p4el1" data-testid="stElementContainer" data-stale="false" width="auto"><div class="stHeading" data-testid="stHeading"><div data-testid="stMarkdownContainer" class="st-emotion-cache-1104ytp e1icttdg0"><div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 id="olmocr">OLMOCR<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#olmocr" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div></div></div></div><div class="stElementContainer element-container st-emotion-cache-kj6hex eu6p4el1" data-testid="stElementContainer" data-stale="false" width="auto"><div class="st-emotion-cache-8atqhb e1mlolmg0"><div class="stFileUploader st-emotion-cache-0 e17y52ym15" data-testid="stFileUploader" width="704"><label data-testid="stWidgetLabel" aria-hidden="true" class="st-emotion-cache-1s2v671 e1dx5vew0"><div data-testid="stMarkdownContainer" class="st-emotion-cache-wq5ihp e1icttdg0"><p>Upload a PDF or Image</p></div></label><section role="presentation" tabindex="0" data-testid="stFileUploaderDropzone" aria-label="Upload a PDF or Image" class="st-emotion-cache-1gulkj5 e17y52ym0"><input data-testid="stFileUploaderDropzoneInput" accept="application/streamlit,.pdf,.png,.jpg,.jpeg" type="file" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(50%); height: 1px; margin: 0px -1px -1px 0px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap;" tabindex="-1"><div data-testid="stFileUploaderDropzoneInstructions" class="st-emotion-cache-u8hs99 e17y52ym1"><span class="st-emotion-cache-nwtri e17y52ym2"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="e144pc0f1 st-emotion-cache-6rlrad ex0cdmw0"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95A5.469 5.469 0 0112 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11A2.98 2.98 0 0122 15c0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"></path></svg></span><div class="st-emotion-cache-j7qwjs e17y52ym4"><span class="st-emotion-cache-9ycgxx e17y52ym3">Drag and drop file here</span><small class="st-emotion-cache-1rpn56r ejh2rmr0">Limit 200MB per file â€¢ PDF, PNG, JPG, JPEG</small></div></div><button kind="secondary" data-testid="stBaseButton-secondary" aria-label="" class="st-emotion-cache-ocsh0s em9zgd02">Browse files</button></section><div class="st-emotion-cache-fis6aj e17y52ym5"><ul class="st-emotion-cache-14m29r0 e17y52ym6"><li class="st-emotion-cache-1l95nvm e17y52ym7"><div class="stFileUploaderFile st-emotion-cache-12xsiil e17y52ym10" data-testid="stFileUploaderFile"><div class="st-emotion-cache-10ix4kq e17y52ym12"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="e144pc0f1 st-emotion-cache-4mjat2 ex0cdmw0"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"></path></svg></div><div class="stFileUploaderFileData st-emotion-cache-1l4firl e17y52ym8"><div class="stFileUploaderFileName st-emotion-cache-1uixxvy e17y52ym9" data-testid="stFileUploaderFileName" title="Introduction to Traumatology 1.pdf">Introduction to Traumatology 1.pdf</div><small class="st-emotion-cache-1rpn56r ejh2rmr0">486.0KB</small></div><div data-testid="stFileUploaderDeleteBtn"><button kind="minimal" data-testid="stBaseButton-minimal" aria-label="" class="st-emotion-cache-8ccstr em9zgd06"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="e144pc0f1 st-emotion-cache-1pbsqtx ex0cdmw0"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg></button></div></div></li></ul></div></div></div></div><div class="stElementContainer element-container st-emotion-cache-kj6hex eu6p4el1" data-testid="stElementContainer" data-stale="false" width="auto"><div class="stButton st-emotion-cache-8atqhb e1mlolmg0" data-testid="stButton"><button kind="secondary" data-testid="stBaseButton-secondary" aria-label="" class="st-emotion-cache-ocsh0s em9zgd02"><div data-testid="stMarkdownContainer" class="st-emotion-cache-1hyd1ho e1icttdg0"><p>Submit</p></div></button></div></div><div class="stElementContainer element-container st-emotion-cache-kj6hex eu6p4el1" data-testid="stElementContainer" data-stale="false" width="auto"><div class="stMarkdown" data-testid="stMarkdown"><div data-testid="stMarkdownContainer" class="st-emotion-cache-1104ytp e1icttdg0"><p><strong>Processing file:</strong> Introduction to Traumatology 1.pdf</p></div></div></div><div class="stElementContainer element-container st-emotion-cache-kj6hex eu6p4el1" data-testid="stElementContainer" data-stale="false" width="auto"><div class="stMarkdown" data-testid="stMarkdown"><div data-testid="stMarkdownContainer" class="st-emotion-cache-1104ytp e1icttdg0"><div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="introduction-to-traumatology-trm-203">INTRODUCTION TO TRAUMATOLOGY (TRM 203)<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#introduction-to-traumatology-trm-203" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="module-17">Module 17<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#module-17" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<p>MR. KOROS E.K
BSc.N, UoN, RN, BLS, ACLS, Lecturer
UNITED AGAINST COVID-19
WE SHALL OVERCOME...</p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="objectives">Objectives<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#objectives" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="broad-objective">Broad Objective<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#broad-objective" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>By the end of the unit, the student/learner will be able to describe the historical background, trends and terminologies used in traumatology</li>
</ul>
<p>Specific Objectives;</p>
<ul>
<li>By the end of each lesson, the student will be able to;
i. Discuss the Historical Background and present trends of Traumatology
ii. Define Terminologies used in traumatology
iii. Explain the mechanism of injury
iv. Outline the process of Fracture Healing</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id=""><span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="introduction">Introduction<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#introduction" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>
<p>Traumatology is a branch of medicine that deals with the study of wounds and injuries caused by accidents or violence to a person, and the surgical therapy and repair of the damage.</p>
</li>
<li>
<p>The term traumatology comes from two Greek words; â€˜traumaâ€™, meaning injury or wound and â€˜logosâ€™ meaning science or study.</p>
</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="historical-background">Historical Background<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#historical-background" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Assignment (Group Work)</li>
</ul>
<p>Q: Discuss the Historical Background and present trends in Traumatology</p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="branches-of-traumatology">Branches of Traumatology<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#branches-of-traumatology" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>
<p>Medical traumatology; study of specializing in the treatment of wounds and injuries caused by violence or general accidents.</p>
</li>
<li>
<p>Focuses on the surgical procedures and future physical therapy patients need to repair the damage and recover properly.</p>
</li>
<li>
<p>Psychological traumatology; damage to one's mind due to a distressing event or as a result of overwhelming amounts of stress in one's life.</p>
</li>
<li>
<p>Usually involves some type of physical trauma that poses as a threat to one's sense of security and survival.</p>
</li>
<li>
<p>Often leaves people feeling overwhelmed, anxious, and threatened.</p>
</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="current-trends-in-traumatology">Current Trends in Traumatology<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#current-trends-in-traumatology" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>(Assignment) â€“ find out the current trends</li>
<li>In addition...take note that;</li>
<li>Road Traffic Accidents (RTA) are major causes of long term morbidity and mortality in developing nations, Kenya inclusive.</li>
<li>NB: These includes motorcycle accidents.</li>
<li>WHO predicts that by the year 2020, Road Traffic Accidents (RTA) will be second leading cause of loss of life for worldâ€™s</li>
</ul>
<p><img src="assets/images/image-20260204-f0584688.jpeg" alt="img-0.jpeg"></p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="injury-scale-of-the-global-problem">Injury: Scale of the Global Problem<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#injury-scale-of-the-global-problem" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p><img src="assets/images/image-20260204-e6f59639.jpeg" alt="img-1.jpeg"></p>
<ul>
<li>5.8 million deaths/year</li>
<li>10% of worlds deaths</li>
<li>32% more deaths than HIV, TB and Malaria combined</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="trauma-terminologies">Trauma Terminologies<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#trauma-terminologies" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Trauma can be defined as any form of physical or psychological injury to adult or child sustained due to direct force of externally applied energy or stress leading to loss of function (e.g. fractures sustained from road traffic accidents or birth trauma) or anxiety due to stress</li>
</ul>
<ul>
<li>
<p>Penetrating trauma is an injury that occurs when an object pierces the skin and enters a tissue of the body, creating an open wound.</p>
<ul>
<li>
<p>Blunt trauma (non-penetrating trauma) is any physical trauma to a body part, either by impact, injury or physical attack.</p>
</li>
<li>
<p>The skin is not necessarily broken and the damage may not be visible externally but injury may extend deep inside body tissues</p>
</li>
<li>
<p>Psychological trauma is a type of damage to the mind that occurs as a result of a distressing event (may lead to PTSD)</p>
</li>
<li>
<p>Post-Traumatic Stress Disorder (PTSD) is a psychological disorder that can develop in response to prolonged, repeated experience of interpersonal trauma.</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>Major trauma is any injury that has the potential to cause prolonged disability or death</li>
<li>Polytrauma; condition of a person who has been subjected to multiple traumatic injuries not necessarily blast related e.g. a serious head injury in addition to a serious burn.</li>
<li>Defined via an Injury Severity Score (ISS) â‰¥ 16</li>
<li>Advanced Trauma Life support (ATLS) is a training program for medical providers in the management of acute trauma cases</li>
<li>Secondary trauma; stress amongst individuals who conduct therapy with trauma victims.</li>
<li>Workers who have had a history of trauma are more likely to develop secondary trauma syndrome.</li>
</ul>
<ul>
<li>
<p>Trauma surgery is a surgical specialty that utilizes both operative and non-operative management to treat traumatic injuries, typically in an acute setting. It is a sub-specialty of orthopaedic surgery.</p>
<ul>
<li>Trauma Centre is a hospital equipped and staffed to provide specialized trauma care for patients suffering from major traumatic injuries such as falls, motor vehicle collisions or gunshot wounds.</li>
</ul>
</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="mechanism-of-injury">Mechanism of Injury<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#mechanism-of-injury" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="introduction-to-mechanisms-of-injury">Introduction to Mechanisms of Injury<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#introduction-to-mechanisms-of-injury" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>Biomechanics of road traffic collision injuries - diagnosing and managing injured patients</li>
<li>Physical Principles and Physics;</li>
<li>Kinetic Energy â†’ (what does it say?)</li>
<li>Newtonâ€™s First Law of Motion â†’ (what is it?)</li>
<li>Law of Conservation of Energy (mention it)</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="mechanism-of-injury-cont">Mechanism of Injury Cont'...<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#mechanism-of-injury-cont" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="factors-affecting-type-of-injury">Factors affecting type of injury<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#factors-affecting-type-of-injury" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>Ability of body to disperse energy delivered</li>
<li>Force and energy (Size of object, Velocity, Acceleration or Deceleration, Affected body area)</li>
<li>Duration and direction</li>
<li>The larger the area of force dissipation, the more pressure is reduced to a specific spot.</li>
<li>Position of victim</li>
<li>The impact resistance of body parts has a bearing on types of tissue disruption.</li>
<li>Organs that have gas inside are easily compressed.</li>
<li>Liquid-containing organs are less compressible.</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="837deaab">Contâ€™â€¦<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#837deaab" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Different forms of energy produce different kinds of trauma;
i. Mechanical e.g. road-traffic accidents
ii. Thermal e.g. burns/frost bite (dry heat/extreme cold)
iii. Electrical i.e. electrocution
iv. Electromagnetic or nuclear (ionizing radiations) e.g.</li>
<li>excludes poisoning or toxic ingestion</li>
<li>Mechanical injury (RTA + Falls) accounts for majority of trauma cases (63%)</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="mechanism-of-injury">Mechanism of Injury<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#mechanism-of-injury" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ol>
<li>Frontal Impact Collisions</li>
<li>Lateral Impact Collisions (T bone)</li>
<li>Rear-end Impact Collisions</li>
<li>Roll-over Mechanism</li>
<li>Rotational Impact</li>
<li>Open Vehicle or Motorcycle/Moped</li>
<li>Pedestrian Vs. Car</li>
<li>Falls from Height</li>
<li>Objects falling on Victim</li>
<li>Penetrating Injury/Trauma (Guns vs. Knives)</li>
<li>Blunt Trauma</li>
</ol>
<p><img src="assets/images/image-20260204-44b34cd0.jpeg" alt="img-2.jpeg">
<img src="assets/images/image-20260204-fde1ed11.jpeg" alt="img-3.jpeg">
<img src="assets/images/image-20260204-80700988.jpeg" alt="img-4.jpeg">
<img src="assets/images/image-20260204-0fe148f1.jpeg" alt="img-5.jpeg">
<img src="assets/images/image-20260204-e76c1a42.jpeg" alt="img-6.jpeg"></p>
<ol>
<li>Head on Collision (Frontal Impact)</li>
</ol>
<ul>
<li>
<p>Forward motion stops abruptly;</p>
</li>
<li>
<p>A vehicle traveling at a higher rate of speed hits another vehicle that is moving at a slower rate of speed or is not moving at all and the vehicles are oriented with the passengers towards each other</p>
</li>
<li>
<p>Occupant usually travels in pathways relative to the dashboard, down and under or up and over the pathway;</p>
</li>
<li>
<p>Occupants of the vehicle traveling faster will continue to move forward even after the car has been stopped by the collision until they have impacted against another structure (steering wheel, windshield etc.)</p>
</li>
</ul>
<ol start="2">
<li>Lateral Impact Collisions;</li>
</ol>
<ul>
<li>Impart energy to the near-side occupant</li>
<li>Seat belts offer little protection.</li>
<li>The body is pushed in one direction, while the head moves toward the impacting object.</li>
</ul>
<ol start="3">
<li>Rear-end Impact;</li>
</ol>
<ul>
<li>Vehicle struck from behind and rapidly accelerates or auto-moves forward under occupant</li>
</ul>
<ol start="4">
<li>Roll-over Mechanism;</li>
</ol>
<ul>
<li>Vehicle struck from side. Patient may be ejected or struck hard against interior of the vehicle.</li>
<li>Injury pattern differ if vehicle remains in place or moves away from part of impact</li>
</ul>
<ol start="5">
<li>Rotational Impact;</li>
</ol>
<ul>
<li>Off-centre portion of vehicle strikes on immovable object or one that is moving more slowly and in the opposite direction</li>
</ul>
<ol start="6">
<li>
<p>Open Vehicles or Motorcycle/Moped</p>
</li>
<li>
<p>Pedestrian Injuries;</p>
</li>
</ol>
<ul>
<li>Three predominant mechanism of injury in pedestrians;</li>
<li>First impact: auto strikes body with its bumpers.</li>
<li>Second impact: adult is thrown on hood and/or grille of vehicle.</li>
<li>Third impact: body strikes the ground or some other object.</li>
</ul>
<p>Waddell's triad: Pattern of injuries in children and people of short stature</p>
<ul>
<li>Bumper impact; bumper hits pelvis and femur (lower limb injury e.g. fracture femur)</li>
<li>Hood impact; body hits hood leading to chest and abdominal injuries</li>
<li>Ground impact; Head hits vehicle or ground; leads to head and cervical spine injuries</li>
</ul>
<p><img src="assets/images/image-20260204-c378369f.jpeg" alt="img-7.jpeg"></p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="child">Child<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#child" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p>Faces oncoming vehicle
Waddell's Triad</p>
<p>Bumperâ†’ Femur fracture
Hoodâ†’ Chest and Abdominopelvic injuries
Groundâ†’ Head injuries</p>
<p><img src="assets/images/image-20260204-1eb10dfd.jpeg" alt="img-8.jpeg">
Fig. 11 Diagram shows the classical three phases of pedestrian injury.</p>
<ul>
<li>Adult</li>
<li>Turns from oncoming vehicle</li>
<li>O'Donohue's Triad</li>
<li>Bumper â†’ Tib-fib fracture, Knee ligament tears</li>
<li>Hood Femur/pelvic fractures</li>
</ul>
<ol start="8">
<li>Falls from a Height</li>
</ol>
<ul>
<li>
<p>Severity of injuries impacted by:</p>
</li>
<li>
<p>Height</p>
</li>
<li>
<p>Position</p>
</li>
<li>
<p>Don Juan syndrome or loverâ€™s leap</p>
</li>
<li>
<p>Surface</p>
</li>
<li>
<p>Physical condition</p>
</li>
<li>
<p>Injury follows path of energy through body</p>
</li>
<li>
<p>Fall onto buttocks; pelvic fracture, coccygeal fracture, or lumbar compression fracture</p>
</li>
<li>
<p>Fall onto feet; â€œDon Juan Syndromeâ€</p>
</li>
<li>
<p>Bilateral heel fractures</p>
</li>
<li>
<p>Compression fractures of vertebrae</p>
</li>
<li>
<p>Bilateral Collesâ€™ fractures</p>
</li>
</ul>
<ol start="9">
<li>Penetrating Injury/Trauma (Fire arms/Stab wounds)</li>
</ol>
<ul>
<li>
<p>Involves disruption of skin and tissues in a focused area</p>
</li>
<li>
<p>Low velocity: Caused by sharp edges</p>
</li>
<li>
<p>Medium and high velocity: Object might flatten out, tumble, or ricochet</p>
</li>
<li>
<p>Stab wound severity depends on:</p>
</li>
<li>
<p>Anatomic area involved</p>
</li>
<li>
<p>Depth of penetration</p>
</li>
<li>
<p>Blade length</p>
</li>
<li>
<p>Angle of penetration</p>
</li>
<li>
<p>Gun-shot wounds severity depends on:</p>
</li>
<li>
<p>Type of firearm: hand gun, short gun, rifle...</p>
</li>
<li>
<p>Velocity of projectile; creates a permanent cavity</p>
</li>
<li>
<p>Physical design/size of projectile;</p>
</li>
<li>
<p>Distance of victim from muzzle;</p>
</li>
<li>
<p>Type of tissue struck</p>
</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="fracture-bone-healing">Fracture/Bone Healing<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#fracture-bone-healing" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Fracture healing occurs by the formation of new bone tissue, rather than formation of non-specialized fibrous scar tissue.</li>
<li>New bone is formed by activation of osteoclasts &amp; osteoblasts.</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="factors-enhancing-fracture-healing">Factors enhancing fracture healing:<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#factors-enhancing-fracture-healing" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Adequate nutrition</li>
<li>Adequate blood supply</li>
<li>Absence of infection</li>
<li>Immobilization of fracture fragments</li>
<li>Exercise: weight bearing for long bones</li>
<li>Hormones: growth hormone calcitonin, vitamin D,</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="factors-hindering-fracture-healing">Factors hindering fracture healing:<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#factors-hindering-fracture-healing" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<ul>
<li>Presence of infective organisms e.g. streptococci</li>
<li>Fat embolism in medullary canal</li>
<li>Excessive bone tissue fragments</li>
<li>Deficient blood supply</li>
<li>Continued mobility (lack of proper reduction and immobilization)</li>
<li>Age - old age due to slowing</li>
<li>Metabolic bone disease (e.g. Pagetâ€™s disease)</li>
</ul>
<p>NB:</p>
<ul>
<li>Factors influencing fracture healing can be categorized as local and systemic factors (Assignment)</li>
<li>The process of fracture healing can be supported by various treatment options with immobilization a mainstay;</li>
<li>Inappropriate treatment may result in a variety of complications.</li>
<li>Depending on the fracture site, normal healing in adults may take 3-12 weeks and involve five main stages.</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="fracture-healing-process-stages">Fracture Healing Process/Stages<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#fracture-healing-process-stages" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p>i. Haematoma formation.
ii. Fibrocartilage formation.
iii. Callus formation.
iv. Ossification.
v. Consolidation and remodeling</p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="stages-in-bone-healing-process">Stages in Bone Healing Process<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#stages-in-bone-healing-process" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="stage-1-haematoma-formation-inflammation">Stage 1: Haematoma Formation (Inflammation)<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#stage-1-haematoma-formation-inflammation" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>Occurs within 24hrs;</li>
<li>Cells move to the site</li>
<li>Blood clot forms (haematoma); a loose delicate mesh of fibrins forms around the # site.</li>
<li>New cells (fibroblasts) develop in the area and fresh capillaries are formed around the broken ends of bone. This protectively encloses the damaged bone, acting as a scaffold of the capillary buds &amp; fibroblasts.</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="stage-2-fibrocartilage-formation-cellular-proliferation">Stage 2: Fibrocartilage Formation/Cellular Proliferation<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#stage-2-fibrocartilage-formation-cellular-proliferation" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>Takes place at the # site where torn ends of the periosteum, endosteum &amp; bone marrow supply the cells that proliferate &amp; differentiate into fibrocartilage, hyaline cartilage &amp; fibrous connective tissues.</li>
</ul>
<p>Stages in Bone Healing Process cont'd...</p>
<p>Stage 3: Callus formation (Reparative Phase)</p>
<ul>
<li>Occurs 6-10 days after injury,</li>
<li>Gradual lay down of bone by osteoblasts to join broken ends of bones</li>
<li>Granulation tissues changes &amp; a provisional callus (a large loosely woven mass of bone &amp; cartilage) forms.</li>
</ul>
<p>Stage 4: Ossification</p>
<ul>
<li>A permanent callus of true, rigid bone forms by the deposition of calcium salts which knit the fractured bone ends together (external to internal).</li>
<li>During the 3rd to 10th week of healing.</li>
<li>Callus converts into bone. This firmly binds the fractured ends &amp; completes healing.</li>
</ul>
<p>Stages in Bone Healing Process cont'd...</p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h2 level="2" id="stage-5-consolidation-and-remodeling">Stage 5: Consolidation and Remodeling<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#stage-5-consolidation-and-remodeling" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h2></div>
<ul>
<li>Fracture calcifies in several months.</li>
<li>The callus is remodeled by osteoblasts and osteoblastic activity.</li>
<li>Remodeling is governed by the stress, function and strain imposed on it by the muscles &amp; weight bearing.</li>
</ul>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="bone-healing-process">Bone healing process<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#bone-healing-process" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p><img src="assets/images/image-20260204-56dd4552.jpeg" alt="img-9.jpeg">
â‘  Hematoma formation</p>
<p><img src="assets/images/image-20260204-5b2311e3.jpeg" alt="img-10.jpeg">
â‘¡ Fibrocartilaginous callus formation</p>
<p><img src="assets/images/image-20260204-92a3fc70.jpeg" alt="img-11.jpeg">
â‘¢ Bony callus formation</p>
<p><img src="assets/images/image-20260204-42fd41fd.jpeg" alt="img-12.jpeg">
â‘£ Bone remodeling</p>
<p>Copyright Â© 2004 Pearson Education, Inc., publishing as Benjamin Cummings.</p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="bone-healing">Bone Healing<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#bone-healing" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p><img src="assets/images/image-20260204-5d03d312.jpeg" alt="img-13.jpeg"></p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="any-questions-so-far">ANY QUESTIONS SO FAR?<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#any-questions-so-far" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p><img src="assets/images/image-20260204-2f3537e3.jpeg" alt="img-14.jpeg"></p>
<div data-testid="stHeadingWithActionElements" class="st-emotion-cache-1p9ibxm e1icttdg2"><h1 level="1" id="references-further-readings">References/ Further Readings<span data-testid="stHeaderActionElements" class="st-emotion-cache-gi0tri e1icttdg3"><a href="#references-further-readings" class="st-emotion-cache-yinll1 e1icttdg1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></span></h1></div>
<p>i. David, L., Hamblen, A., Hamish, R. and Simpson, W. (2007.) Adamâ€™s Outline of Fractures, 12th Ed. Churchill Livingstone, Elsevier.
ii. Dandy, D. and Edwards, D. (2009). Essential Orthopaedics and Trauma. 5th Ed. Churchill Livingstone, Edinburgh
iii. Kenneth, A, et al (2010). Handbook of Fractures. 4th Ed. Wolters Kluwer, Philadelphia
iv. McRae, S. and Esser, M. (2008). Practical Fracture Management. 5th Ed. Elsevier Churchill Livingstone, Edinburgh
v. Sherry, E. and Bokor, D. (1997). Sports Medicine â€“ Problems and Practical Management. Greenwich Medical Media, London
vi. Louis, S., David, W. and Selvadurai, G. (2010). Apleyâ€™s System of Orthopaedics and Fractures, 8th Ed.</p>
<p>There is Hope of a bright future...all is not lost;</p>
<p>Let's all cooperate to control Covid-19:</p>
<p>Stay Safe...Stay at home.</p>
<p>Let's Practice the guidelines recommended by WHO, CDC and GOK...</p>
<p>...and...</p>
<p>...above all...</p>
<p>PRAY !!!</p>
<p>Jer. 29:11, 2 Chr.7:12-16, Phil. 4:6-7, Heb. 13:6-7, Joel 2:32, Acts 10:21, Rom. 3:13</p>
<p>THANK YOU</p></div></div></div></div></div></div></div><div data-testid="stAppIframeResizerAnchor" data-iframe-height="true" class="st-emotion-cache-1dumvfu eht7o1d9"></div></section></div></div></div><div data-testid="portal" id="portal" class="st-emotion-cache-1q6lfs0 e19n7mk11"></div></div><div class=""></div></div>
  

</body></html>

================================================================================
FILE: exam-template.html
PATH: exam-template.html
================================================================================

<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[EXAM TITLE] - [COURSE NAME]</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles/main.css">
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <div class="page-wrapper">
        <div class="container">
            <article class="document-article">

                <!-- Navigation -->
                <nav class="document-nav" role="navigation">
                    <div class="nav-links">
                        <a href="index.html" class="nav-button">
                            <span class="nav-icon">ðŸ </span>
                            <span class="nav-text">Home</span>
                        </a>
                        <a href="quiz-hub.html" class="nav-button">
                            <span class="nav-icon">ðŸ“</span>
                            <span class="nav-text">All Quizzes</span>
                        </a>
                    </div>
                </nav>

                <!-- Exam Header -->
                <header class="document-header exam-header">
                    <div class="header-badge exam-badge">
                        <span>ðŸŽ“</span>
                        <span>Comprehensive Exam</span>
                    </div>
                    <h1 class="document-title">[EXAM TITLE]</h1>
                    <p class="exam-subtitle">Test your knowledge across all course topics</p>

                    <!-- Exam Info Cards -->
                    <div class="exam-info-cards">
                        <div class="exam-info-card">
                            <span class="info-icon">ðŸ“š</span>
                            <span class="info-value">[X] Topics</span>
                            <span class="info-label">Covered</span>
                        </div>
                        <div class="exam-info-card">
                            <span class="info-icon">â“</span>
                            <span class="info-value">[X] Questions</span>
                            <span class="info-label">Total</span>
                        </div>
                        <div class="exam-info-card">
                            <span class="info-icon">â±ï¸</span>
                            <span class="info-value">[X] Minutes</span>
                            <span class="info-label">Time Limit</span>
                        </div>
                        <div class="exam-info-card">
                            <span class="info-icon">ðŸŽ¯</span>
                            <span class="info-value">[X]%</span>
                            <span class="info-label">To Pass</span>
                        </div>
                    </div>

                    <!-- Topics Covered List -->
                    <div class="exam-topics-covered">
                        <h3>Topics Covered:</h3>
                        <div class="topics-list">
                            <span class="topic-tag">Topic 1: [Name]</span>
                            <span class="topic-tag">Topic 2: [Name]</span>
                            <span class="topic-tag">Topic 3: [Name]</span>
                            <!-- Add more as needed -->
                        </div>
                    </div>
                </header>

                <!-- Main Content -->
                <main id="main-content" class="content-wrapper">

                    <!-- Exam Instructions -->
                    <div class="exam-instructions callout callout--warning">
                        <div class="callout-header">
                            <span class="callout-icon">âš ï¸</span>
                            <h4 class="callout-title">Exam Instructions</h4>
                        </div>
                        <div class="callout-content">
                            <ul>
                                <li>This exam covers material from <strong>all course topics</strong></li>
                                <li>You have <strong>[X] minutes</strong> to complete the exam</li>
                                <li>A score of <strong>[X]% or higher</strong> is required to pass</li>
                                <li>Questions are shuffled - your exam may differ from others</li>
                                <li>Review your answers before submitting</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Exam Quiz Section -->
                    <section class="quiz-section exam-section" id="exam-quiz">
                        <!-- 
                            âš ï¸ PATH RESOLUTION WARNING:
                            Image paths in the quiz JS file MUST be relative to THIS HTML file.
                            Since this file is in the ROOT, use: "assets/images/image.jpg"
                        -->
                        <div class="quiz-container" data-quiz-id="comprehensive-exam"
                            data-quiz-js="quizzes/comprehensive-exam.js">

                            <div class="quiz-loading">
                                <div class="quiz-spinner"></div>
                                <p>Loading exam...</p>
                            </div>

                            <div class="quiz-content" hidden></div>
                            <div class="quiz-results" hidden></div>
                        </div>
                    </section>

                </main>

                <!-- Bottom Navigation -->
                <nav class="document-nav" role="navigation">
                    <div class="nav-links">
                        <a href="index.html" class="nav-button">
                            <span class="nav-icon">ðŸ </span>
                            <span class="nav-text">Back to Home</span>
                        </a>
                    </div>
                </nav>

            </article>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/theme.js"></script>
    <script src="js/quiz.js"></script>
</body>

</html>

================================================================================
FILE: index-template-v1.1.html
PATH: index-template-v1.1.html
================================================================================

<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[DOCUMENT TITLE] - Table of Contents</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <div class="page-wrapper">
        <div class="container">
            <main id="main-content" class="index-main">
                
                <!-- Hero Section -->
                <header class="index-hero">
                    <div class="hero-content">
                        <div class="hero-badge">
                            <span>[ICON]</span>
                            <span>[CATEGORY/SUBJECT]</span>
                        </div>
                        <h1 class="hero-title">[DOCUMENT TITLE]</h1>
                        <p class="hero-subtitle">[DOCUMENT DESCRIPTION OR SUBTITLE]</p>
                        <div class="hero-meta">
                            <div class="meta-item">
                                <span>ðŸ“š</span>
                                <span>[TOTAL] Topics</span>
                            </div>
                            <div class="meta-item">
                                <span>â±ï¸</span>
                                <span>[ESTIMATED TIME] total</span>
                            </div>
                            <div class="meta-item">
                                <span>ðŸ“…</span>
                                <span>Last updated: [DATE]</span>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Topics Section -->
                <section class="topics-section" aria-labelledby="topics-heading">
                    <h2 id="topics-heading" class="section-heading">
                        <span class="heading-icon">ðŸ“–</span>
                        <span>Topics</span>
                    </h2>
                    
                    <div class="topics-grid">
                        
                        <!-- Topic Card 1 -->
                        <a href="topics/topic-01.html" class="topic-card">
                            <div class="card-number">01</div>
                            <div class="card-content">
                                <h3 class="card-title">[TOPIC 1 TITLE]</h3>
                                <p class="card-description">[Brief description of topic content]</p>
                                <div class="card-meta">
                                    <span>â±ï¸ [X] min</span>
                                    <span>ðŸ“„ [X] sections</span>
                                </div>
                            </div>
                            <div class="card-arrow">â†’</div>
                        </a>
                        
                        <!-- Topic Card 2 -->
                        <a href="topics/topic-02.html" class="topic-card">
                            <div class="card-number">02</div>
                            <div class="card-content">
                                <h3 class="card-title">[TOPIC 2 TITLE]</h3>
                                <p class="card-description">[Brief description of topic content]</p>
                                <div class="card-meta">
                                    <span>â±ï¸ [X] min</span>
                                    <span>ðŸ“„ [X] sections</span>
                                </div>
                            </div>
                            <div class="card-arrow">â†’</div>
                        </a>
                        
                        <!-- Topic Card 3 -->
                        <a href="topics/topic-03.html" class="topic-card">
                            <div class="card-number">03</div>
                            <div class="card-content">
                                <h3 class="card-title">[TOPIC 3 TITLE]</h3>
                                <p class="card-description">[Brief description of topic content]</p>
                                <div class="card-meta">
                                    <span>â±ï¸ [X] min</span>
                                    <span>ðŸ“„ [X] sections</span>
                                </div>
                            </div>
                            <div class="card-arrow">â†’</div>
                        </a>
                        
                        <!-- Add more topic cards as needed -->
                        <!-- Copy the topic-card block and update number, href, title, description -->
                        
                    </div>
                </section>

            </main>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', savedTheme);
    </script>
</body>
</html>


================================================================================
FILE: pdf-to-html-conversion-prompt-v9.9.md
PATH: pdf-to-html-conversion-prompt-v9.9.md
================================================================================

# PDF to HTML Conversion System Prompt (v9.8) - Rich UI Edition

**Version:** 9.8  
**Last Updated:** January 16, 2026  
**Focus:** Modern UI/UX patterns with 100% content fidelity, nested lists, mathematical equations, and comprehensive interactive quiz system

---

## Overview

This is the comprehensive **PDF to HTML Conversion System Prompt - Rich UI Edition**, featuring enhanced content organization patterns, advanced UI components, mathematical equations support, interactive quiz system, and modern design systems while maintaining absolute content fidelity.

## Core Mission

Convert PDF documents into **visually stunning, accessible, and pedagogically effective** HTML pages while ensuring **100% VERBATIM content preservation**. Create highly appealing and effective learning materials with **modern UI/UX patterns**, that maintain absolute fidelity to the original text content with interactive quizzes to reinforce learning and assess comprehension.

---

## âš ï¸ CRITICAL: ANTI-SUMMARIZATION WARNING

### ðŸš¨ ABSOLUTE PROHIBITION ON SUMMARIZATION

**This is the most important rule in this entire prompt:**

> **DO NOT SUMMARIZE, CONDENSE, SHORTEN, OR OMIT ANY CONTENT FROM THE SOURCE TEXT**

Every single paragraph, sentence, list item, heading, table row, callout, and detail from the source text MUST be transferred to the HTML output **verbatim** without exception.

### What This Means in Practice:

| âŒ PROHIBITED | âœ… REQUIRED |
|---------------|-------------|
| Combining multiple paragraphs into one | Keep every paragraph separate |
| Removing "redundant" or similar content | Include all content, even if repetitive |
| Shortening long explanations | Keep full explanations verbatim |
| Omitting examples or illustrations | Include all examples and illustrations |
| Merging list items | Keep every list item separate |
| Skipping introductory/transitional text | Include all introductory and transitional text |
| Simplifying technical language | Keep original wording exactly |
| Removing citations or references | Include all citations and references |
| Condensing tables | Keep complete tables with all rows |
| Excluding "minor" sections | Include ALL sections, regardless of size |

### Mandatory Verification Steps:

1. **Before submitting any HTML file**, run the detection script:
   ```bash
   python3 detect_summarization_simple.py topics/topic-XX.html content_cleaned.txt [start_line] [end_line]
   ```

2. **Acceptable thresholds**:
   - Word count ratio: **â‰¥ 80%** (above this is acceptable)
   - Paragraph count ratio: **â‰¥ 90%**
   - List item ratio: **â‰¥ 85%**
   - H2 heading ratio: **â‰¥ 90%**

3. **If any indicator shows "LOW" or "MISSING"**, the file is summarizing content and must be fixed.

4. **Common causes of summarization to avoid**:
   - Thinking certain content is "not important"
   - Combining similar paragraphs
   - Removing examples to "save space"
   - Shortening explanations for "brevity"
   - Skipping "obvious" or "well-known" content
   - Merging related concepts into single sections

### Remember:

> **The source text is the authority. If it's in the source, it must be in the HTML. No exceptions.**

---

## Image Handling & Lightbox

All images must be wrapped in a `content-figure` container containing a `figure-image-wrapper`. The `figure-image-wrapper` class triggers the lightbox functionality via `interactions.js`.

### Image Source Reference

**IMPORTANT**: Use the **exact image filenames** as they appear in `content_cleaned.txt`. Do NOT rename or map images.

#### Image Usage Instructions
1. **Check `content_cleaned.txt`** for image references like:
   ```html
   <img src="assets/images/image-20251225-9d805e34.jpeg" alt="img-1.jpeg">
   ```
2. **Path Resolution Rule**: Use the correct relative path based on the HTML file's location:
   - **Files in `topics/` directory**: Use `../assets/images/`
   - **Files in root directory** (e.g., `index.html`, `comprehensive-exam.html`): Use `assets/images/`
3. **Do NOT rename** images from their timestamp format
4. **Do NOT use** numbered formats like `img-1.jpeg` - use the actual filename

### HTML Structure for Images

```html
<figure class="content-figure">
    <div class="figure-image-wrapper"> <!-- This class triggers the lightbox -->
        <img src="../assets/images/image-20251225-9d805e34.jpeg" alt="[Alt Text]" class="figure-image">
        <div class="figure-overlay">
            <span class="overlay-icon">ðŸ”</span>
            <span class="overlay-text">Click to zoom</span>
        </div>
    </div>
    <figcaption class="figure-caption">Fig. [X.Y]: [Caption Text]</figcaption>
</figure>
```

**NOTE:** Do NOT add `data-lightbox="true"` to the figure element. The interaction logic targets `.figure-image-wrapper` directly.

### Image Path Examples

```html
<!-- Correct: Use exact filenames from content_cleaned.txt -->
<img src="../assets/images/image-20251225-9d805e34.jpeg" alt="Gingivitis showing inflamed gums">
<img src="../assets/images/image-20251225-b2c235cf.jpeg" alt="Fibre-optic Endoscope">
<img src="../assets/images/image-20251225-f38697c2.jpeg" alt="Periodontitis diagram">

<!-- Incorrect: Don't use simplified numbered format -->
<img src="../assets/images/img-1.jpeg" alt="...">
<img src="../assets/images/img-12.jpeg" alt="...">
```

---

## List Handling & Visual Enhancement

### Overview

Lists are critical for presenting information in a structured, digestible format. This section provides comprehensive guidelines for converting all types of lists from PDF to HTML with enhanced visual styling that makes points stand out and improves readability.

### Core Principles

1. **Content Fidelity**: Maintain 100% verbatim content - no summarization or condensation
2. **Visual Hierarchy**: Use appropriate list variants to match content type
3. **Accessibility**: Ensure lists are properly structured with semantic HTML
4. **Modern Styling**: Apply enhanced-list class for beautiful, interactive lists

### List Types & When to Use Each

#### 1. Standard Unordered Lists (`<ul>`)

**Use Cases**: Bullet points, features, characteristics, examples, general lists

```html
<ul class="enhanced-list">
    <li>Leadership and governance</li>
    <li>Health financing</li>
    <li>Service delivery</li>
    <li>Human resources for health (HRH)</li>
    <li>Medical products, vaccines and technologies</li>
    <li>Health information systems (HIS)</li>
</ul>
```

**When to Use**:
- Listing features, characteristics, or attributes
- Presenting examples or instances
- General bullet-point content
- Items where order doesn't matter

#### 2. Numbered Lists (`<ol>`)

**Use Cases**: Sequential steps, rankings, ordered procedures, numbered points

```html
<ol class="enhanced-list">
    <li>Explain the concepts of health systems and health systems management</li>
    <li>Identify and discuss the structure, roles and responsibilities of the Kenya health system</li>
    <li>Apply the concept of critical thinking in decision making</li>
    <li>Discuss good practices in team leadership and management</li>
</ol>
```

**When to Use**:
- Sequential steps or procedures
- Learning objectives
- Ranked items
- Content where order is important

#### 3. Roman Numeral Lists

**Use Cases**: Sub-points, hierarchical information, traditional academic formatting

```html
<ol class="enhanced-list" style="list-style-type: lower-roman;">
    <li>Deal with the issue as soon as it arises</li>
    <li>Take the time to get the facts straight</li>
    <li>Listen to everyone's views</li>
    <li>Seek solutions</li>
    <li>Follow laid down dispute settlement procedures</li>
    <li>Record actions and expectations</li>
</ol>
```

**When to Use**:
- Sub-points under main sections
- Hierarchical information
- Traditional academic or legal documents
- When the source uses i., ii., iii., etc.

âš ï¸ **CRITICAL**: Never use paragraph-based Roman numerals (e.g., `<p>i. Item</p>`). Always convert to proper `<ol>` with `style="list-style-type: lower-roman;"`.

#### 4. Checklist Variant

**Use Cases**: Requirements, criteria, completed items, verification lists

```html
<ul class="enhanced-list checklist">
    <li>Availability of an adequate number of managers at all levels of the health system</li>
    <li>Managers have the appropriate competences â€“ knowledge, skills and understanding</li>
    <li>Critical management support systems are functional</li>
    <li>A working environment which enhances managers' performance</li>
    <li>Well planned and monitored activities</li>
</ul>
```

**When to Use**:
- Requirements or criteria
- Verification checklists
- Completed items
- "Must-have" features

#### 5. Steps List Variant

**Use Cases**: Sequential processes, workflows, procedures, step-by-step instructions

```html
<ul class="enhanced-list steps-list">
    <li>Scan for up-to-date knowledge about yourself, your work group, and your environment</li>
    <li>Focus staff's work on achieving organisational mission, strategy, and priorities</li>
    <li>Align and mobilise stakeholders' and staff's time and energies</li>
    <li>Inspire your staff to be committed and to continuously learn</li>
</ul>
```

**When to Use**:
- Sequential processes
- Workflows
- Step-by-step instructions
- When visual timeline is helpful

#### 6. Feature List Variant

**Use Cases**: Grid of features, cards, key points, highlights

```html
<ul class="enhanced-list feature-list">
    <li><strong>Scanning</strong> - identify client and stakeholder needs</li>
    <li><strong>Focusing</strong> - articulate the organization's mission</li>
    <li><strong>Aligning</strong> - mobilise stakeholders' time and energies</li>
    <li><strong>Inspiring</strong> - inspire staff to be committed</li>
</ul>
```

**When to Use**:
- Grid layout for features
- Card-style presentation
- Key points or highlights
- When items can be displayed side-by-side

#### 7. Compact List Variant

**Use Cases**: Quick references, side notes, supplementary information

```html
<ul class="enhanced-list compact">
    <li>Point one - brief description</li>
    <li>Point two - brief description</li>
    <li>Point three - brief description</li>
</ul>
```

**When to Use**:
- Quick reference lists
- Space-constrained areas
- Supplementary information
- When items are brief

#### 8. Bordered List Variant

**Use Cases**: Key outcomes, categories, distinct sections, organizational outcomes

```html
<ul class="enhanced-list bordered">
    <li><strong>Effectiveness</strong> - the right services are offered</li>
    <li><strong>Efficiency</strong> - services delivered in the right way</li>
    <li><strong>Sustainability</strong> - long-term viability</li>
</ul>
```

**When to Use**:
- Key outcomes or results
- Categories or types
- Distinct sections
- When visual separation is needed

#### 9. Card List Variant

**Use Cases**: Detailed information, comprehensive descriptions, longer list items

```html
<ul class="enhanced-list card-list">
    <li>
        <strong>Planning</strong><br>
        Set short-term organizational goals and performance objectives, develop multi-year and annual plans, allocate adequate resources.
    </li>
    <li>
        <strong>Organizing</strong><br>
        Ensure a structure that provides accountability, strengthen work processes to implement the plan, align staff capacities with planned activities.
    </li>
</ul>
```

**When to Use**:
- Detailed information cards
- Comprehensive descriptions
- Longer list items
- When items need more space

#### 10. Icon List Variant

**Use Cases**: Features with icons, visual indicators, emoji-enhanced lists

```html
<ul class="enhanced-list icon-list">
    <li data-icon="ðŸ“š">Comprehensive curriculum coverage</li>
    <li data-icon="ðŸŽ“">Expert faculty guidance</li>
    <li data-icon="ðŸ“">Interactive quizzes and assessments</li>
    <li data-icon="ðŸ†">Certification upon completion</li>
</ul>
```

**When to Use**:
- Features with visual icons
- Emoji-enhanced lists
- When visual indicators add value
- Playful or engaging content

### Nested Lists

Nested lists are supported and automatically styled with different colors and indentation for each level.

```html
<ul class="enhanced-list">
    <li>
        <strong>Primary Level</strong>
        <ul>
            <li>Secondary item A</li>
            <li>Secondary item B
                <ul>
                    <li>Tertiary item 1</li>
                    <li>Tertiary item 2</li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        <strong>Primary Level 2</strong>
        <ul>
            <li>Secondary item C</li>
            <li>Secondary item D</li>
        </ul>
    </li>
</ul>
```

**Nested List Behavior**:
- Level 1: Primary color (indigo gradient)
- Level 2: Secondary color (blue gradient)
- Level 3: Accent color (amber gradient)
- Automatic indentation and spacing
- Different bullet/number styles for each level

### Conversion Rules

#### Rule 1: Convert Paragraph-Based Lists to Proper HTML Lists

âŒ **INCORRECT** (Paragraph-based):
```html
<p>i. Deal with the issue as soon as it arises;</p>
<p>ii. Take the time to get the facts straight;</p>
<p>iii. Listen to everyone's views;</p>
```

âœ… **CORRECT** (Proper HTML list):
```html
<ol class="enhanced-list" style="list-style-type: lower-roman;">
    <li>Deal with the issue as soon as it arises</li>
    <li>Take the time to get the facts straight</li>
    <li>Listen to everyone's views</li>
</ol>
```

#### Rule 2: Always Use `enhanced-list` Class

All lists MUST use the `enhanced-list` class for proper styling:

```html
<!-- âœ… Correct -->
<ul class="enhanced-list">
    <li>Item one</li>
</ul>

<!-- âŒ Incorrect - missing class -->
<ul>
    <li>Item one</li>
</ul>
```

#### Rule 3: Maintain Verbatim Content

Never summarize or condense list items. Keep all text exactly as in the source:

âŒ **INCORRECT** (Summarized):
```html
<ul class="enhanced-list">
    <li>Leadership, financing, and service delivery</li>
</ul>
```

âœ… **CORRECT** (Verbatim):
```html
<ul class="enhanced-list">
    <li>Leadership and governance</li>
    <li>Health financing</li>
    <li>Service delivery</li>
</ul>
```

#### Rule 4: Preserve List Item Count

Never merge or remove list items. Keep every item separate:

âŒ **INCORRECT** (Merged):
```html
<ul class="enhanced-list">
    <li>Leadership, governance, and financing</li>
</ul>
```

âœ… **CORRECT** (Separate items):
```html
<ul class="enhanced-list">
    <li>Leadership and governance</li>
    <li>Health financing</li>
</ul>
```

### Special Cases

#### Case 1: Single-Item Lists

If a list has only one item, it's still a list:

```html
<ul class="enhanced-list">
    <li>Health facilities can deliver a full service, unimpeded by non-functioning health care technology</li>
</ul>
```

#### Case 2: Lists with Inline Formatting

Preserve all inline formatting (bold, italic, links) within list items:

```html
<ul class="enhanced-list">
    <li><strong>Effectiveness</strong> - the right services are offered</li>
    <li><strong>Efficiency</strong> - services delivered in the right way</li>
    <li><strong>Sustainability</strong> - long-term viability</li>
</ul>
```

#### Case 3: Lists with Multiple Sentences

Keep all sentences within a single list item:

```html
<ul class="enhanced-list">
    <li>Good health services are those which deliver effective, safe, quality personal and non-personal health interventions to those that need them, when and where needed, with minimum waste of resources.</li>
    <li>A well-performing health workforce is one that works in ways that are responsive, fair and efficient to achieve the best health outcomes possible, given available resources and circumstances. This means there are sufficient staff, fairly distributed; they are competent, responsive and productive.</li>
</ul>
```

#### Case 4: Lists with Sub-points

Use nested lists for hierarchical information:

```html
<ul class="enhanced-list">
    <li>
        <strong>Primary Point</strong>
        <ul>
            <li>Sub-point 1</li>
            <li>Sub-point 2</li>
        </ul>
    </li>
</ul>
```

### List Styling Features

The `enhanced-list` class provides:

- âœ… Gradient backgrounds
- âœ… Smooth hover effects
- âœ… Animated transitions
- âœ… Visual hierarchy
- âœ… Dark mode support
- âœ… Responsive design
- âœ… Accessibility features
- âœ… Custom markers/icons

### Common Mistakes to Avoid

| Mistake | Why It's Wrong | Correct Approach |
|----------------|----------------|------------------|
| Using `<p>` tags for lists | Not semantic, no list styling | Use `<ul>` or `<ol>` with `enhanced-list` class |
| Merging list items | Loses content fidelity | Keep each item separate |
| Removing "redundant" items | Violates anti-summarization rule | Keep all items verbatim |
| Using inline styles | Breaks design system | Use variant classes |
| Forgetting `enhanced-list` class | No styling applied | Always include the class |
| Using numbered format for Roman | Wrong numbering style | Use `style="list-style-type: lower-roman;"` |

### Verification Checklist

Before finalizing any HTML file with lists:

- [ ] All lists use `<ul>` or `<ol>` tags (never `<p>` tags)
- [ ] All lists have the `enhanced-list` class
- [ ] No paragraph-based Roman numeral lists exist
- [ ] All list items are separate (not merged)
- [ ] All text is verbatim from source
- [ ] Inline formatting is preserved
- [ ] Nested lists are properly structured
- [ ] Appropriate list variant is used
- [ ] List item count matches source

### Examples from Real Documents

#### Example 1: WHO Building Blocks (Standard Unordered List)

**Source Text**:
```
According to WHO (2007), a health system can be analysed in its totality by using different groups or blocks. These building blocks are:
â€¢ Leadership and governance
â€¢ Health financing
â€¢ Service delivery
â€¢ Human resources for health (HRH)
â€¢ Medical products, vaccines and technologies
â€¢ Health information systems (HIS)
```

**HTML Output**:
```html
<p>According to WHO (2007), a health system can be analysed in its totality by using different groups or blocks. These building blocks are:</p>
<ul class="enhanced-list">
    <li>Leadership and governance</li>
    <li>Health financing</li>
    <li>Service delivery</li>
    <li>Human resources for health (HRH)</li>
    <li>Medical products, vaccines and technologies</li>
    <li>Health information systems (HIS)</li>
</ul>
```

#### Example 2: Learning Objectives (Numbered List)

**Source Text**:
```
By the end of this module, the student should be able to:
1. Explain the concepts of health systems and health systems management
2. Identify and discuss the structure, roles and responsibilities of the Kenya health system
3. Apply the concept of critical thinking in decision making
4. Discuss good practices in team leadership and management
```

**HTML Output**:
```html
<p>By the end of this module, the student should be able to:</p>
<ol class="enhanced-list">
    <li>Explain the concepts of health systems and health systems management</li>
    <li>Identify and discuss the structure, roles and responsibilities of the Kenya health system</li>
    <li>Apply the concept of critical thinking in decision making</li>
    <li>Discuss good practices in team leadership and management</li>
</ol>
```

#### Example 3: Conflict Resolution Steps (Roman Numeral List)

**Source Text**:
```
Whether a problem involves an individual or a group, it is important for everyone to:
i. Deal with the issue as soon as it arises;
ii. Take the time to get the facts straight;
iii. Listen to everyone's views;
iv. Seek solutions;
v. Follow laid down dispute settlement procedures;
vi. Record actions and expectations.
```

**HTML Output**:
```html
<p>Whether a problem involves an individual or a group, it is important for everyone to:</p>
<ol class="enhanced-list" style="list-style-type: lower-roman;">
    <li>Deal with the issue as soon as it arises</li>
    <li>Take the time to get the facts straight</li>
    <li>Listen to everyone's views</li>
    <li>Seek solutions</li>
    <li>Follow laid down dispute settlement procedures and a fair process that everyone understands as provided for in the organisations' policies, union agreement or employment law</li>
    <li>Record actions and expectations</li>
</ol>
```

#### Example 4: Management Practices (Steps List)

**Source Text**:
```
The eight leading and managing practices are:
- Scan for up-to-date knowledge about yourself, your work group, your organisation, and your environment
- Focus staff's work on achieving organisational mission, strategy, and priorities
- Align and mobilise stakeholders' and staff's time and energies as well as the material and financial resources to support organisational goals and priorities
- Inspire your staff to be committed and to continuously learn how to adapt and do things better
```

**HTML Output**:
```html
<p>The eight leading and managing practices are:</p>
<ul class="enhanced-list steps-list">
    <li>Scan for up-to-date knowledge about yourself, your work group, your organisation, and your environment</li>
    <li>Focus staff's work on achieving organisational mission, strategy, and priorities</li>
    <li>Align and mobilise stakeholders' and staff's time and energies as well as the material and financial resources to support organisational goals and priorities</li>
    <li>Inspire your staff to be committed and to continuously learn how to adapt and do things better</li>
</ul>
```

#### Example 5: Organizational Outcomes (Bordered List)

**Source Text**:
```
The objective of good leading and managing practices is to enhance organisational:
â€¢ Effectiveness- the right services are offered
â€¢ Efficiency- services delivered in the right way
â€¢ Sustainability.
```

**HTML Output**:
```html
<p>The objective of good leading and managing practices is to enhance organisational:</p>
<ul class="enhanced-list bordered">
    <li><strong>Effectiveness</strong> - the right services are offered</li>
    <li><strong>Efficiency</strong> - services delivered in the right way</li>
    <li><strong>Sustainability</strong></li>
</ul>
```

#### Example 6: Necessary Conditions (Checklist)

**Source Text**:
```
Necessary conditions for effective health systems management include:
â€¢ Availability of an adequate number of managers at all levels of the health system
â€¢ Managers have the appropriate competences â€“ knowledge, skills and understanding
â€¢ Critical management support systems are functional
â€¢ A working environment which enhances managers' performance
â€¢ Well planned and monitored activities
```

**HTML Output**:
```html
<p>Necessary conditions for effective health systems management include:</p>
<ul class="enhanced-list checklist">
    <li>Availability of an adequate number of managers at all levels of the health system</li>
    <li>Managers have the appropriate competences â€“ knowledge, skills and understanding</li>
    <li>Critical management support systems are functional</li>
    <li>A working environment which enhances managers' performance</li>
    <li>Well planned and monitored activities</li>
</ul>
```

---

## Interactive Quiz System

### Quiz System Overview

The quiz system provides 8 different question types to assess learner comprehension. Quizzes are stored in JSON format with versioning support, rendered dynamically via JavaScript, and fully integrated with the existing Rich UI design system.

### Quiz Question Types

#### 1. Multiple Choice (Single Answer)
Standard single-answer questions with 2-6 options.
- **Use Case**: Testing recall of specific facts, definitions, concepts
- **Features**: Radio button selection, immediate feedback, explanation display

#### 2. Multiple Select (Multiple Correct Answers)
Questions where learners select all correct answers.
- **Use Case**: Testing comprehensive understanding of related concepts
- **Features**: Checkbox selection, partial credit option, "Select all that apply" indicator

#### 3. True/False
Binary choice questions for quick knowledge checks.
- **Use Case**: Verifying understanding of statements, common misconceptions
- **Features**: Two-option format, confidence indicator option

#### 4. Fill in the Blank
Text input questions with exact or fuzzy matching.
- **Use Case**: Testing terminology, formulas, key terms
- **Features**: Case-insensitive matching, multiple acceptable answers, hint system
- **CRITICAL**: Question text MUST include `__id__` placeholders (e.g., `__b1__`, `__b2__`) where input fields should appear
- **Example**: "The liver converts ammonia into __b1__." with blank ID "b1"

#### 5. Matching
Pair items from two columns (drag-and-drop or dropdown).
- **Use Case**: Testing relationships, associations, categorization
- **Features**: Drag-and-drop interface, dropdown fallback, visual feedback

#### 6. Ordering/Sequencing
Arrange items in correct order.
- **Use Case**: Testing processes, procedures, chronological events
- **Features**: Drag-and-drop reordering with live sorting, numbered positions, step validation
- **Implementation Note**: Use "live" sorting during `dragover` events for robust behavior across all environments (including local `file://` protocol).

#### 7. Short Answer
Free-text response with keyword matching.
- **Use Case**: Testing deeper understanding, explanations
- **Features**: Keyword detection, partial credit, model answer display

#### 8. Image-Based Questions
Questions involving image interaction (hotspots, labeling).
- **Use Case**: Anatomy, diagrams, visual identification
- **Features**: Clickable regions, label placement, image zoom

### Media Support (Optional)

Every question can optionally include media (image, video, audio, YouTube) and answer options can optionally include images. All media fields are **optional** - questions work perfectly with text only.

#### Supported Media Types
| Type | Description | Use Case |
|------|-------------|----------|
| `image` | Static image file | Diagrams, photos, charts |
| `video` | Video file (mp4, webm) | Demonstrations, procedures |
| `audio` | Audio file (mp3, wav) | Pronunciation, sounds |
| `youtube` | YouTube embed | Educational videos |

#### Image Answer Options
For multiple-choice and multiple-select questions, each option can optionally include an image. This is useful for visual identification questions where learners select from images rather than text.

#### âš ï¸ CRITICAL: Quiz Media Path Resolution
Image and media paths in quiz data files MUST be relative to the **HTML file** that will host the quiz.
- If the quiz is hosted in a file within `topics/` (e.g., `topics/topic-01.html`), use `../assets/images/`.
- If the quiz is hosted in a file in the **root** (e.g., `comprehensive-exam.html`), use `assets/images/`.

### Quiz JSON Schema (v1.0)

Store quiz data in `quizzes/` directory with the following structure:

```
project-name/
â”œâ”€â”€ quizzes/
â”‚   â”œâ”€â”€ quiz-schema.json          # Schema definition
â”‚   â”œâ”€â”€ topic-01-quiz.json        # Quiz for topic 01
â”‚   â”œâ”€â”€ topic-02-quiz.json        # Quiz for topic 02
â”‚   â””â”€â”€ ...
```

#### Complete Quiz JSON Schema

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Quiz Schema v1.0",
  "type": "object",
  "required": ["schemaVersion", "quizId", "metadata", "questions"],
  "properties": {
    "schemaVersion": {
      "type": "string",
      "description": "Schema version for compatibility",
      "pattern": "^\\d+\\.\\d+$",
      "example": "1.0"
    },
    "quizId": {
      "type": "string",
      "description": "Unique identifier for the quiz",
      "pattern": "^[a-z0-9-]+$"
    },
    "metadata": {
      "type": "object",
      "required": ["title", "topicId", "createdAt"],
      "properties": {
        "title": { "type": "string" },
        "description": { "type": "string" },
        "topicId": { "type": "string" },
        "difficulty": { "enum": ["beginner", "intermediate", "advanced"] },
        "estimatedTime": { "type": "integer", "description": "Minutes" },
        "passingScore": { "type": "integer", "minimum": 0, "maximum": 100 },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "tags": { "type": "array", "items": { "type": "string" } }
      }
    },
    "settings": {
      "type": "object",
      "properties": {
        "shuffleQuestions": { "type": "boolean", "default": false },
        "shuffleOptions": { "type": "boolean", "default": false },
        "showFeedback": { "enum": ["immediate", "end", "never"], "default": "immediate" },
        "allowRetry": { "type": "boolean", "default": true },
        "showCorrectAnswers": { "type": "boolean", "default": true },
        "timeLimit": { "type": "integer", "description": "Seconds, 0 for unlimited" }
      }
    },
    "questions": {
      "type": "array",
      "items": { "$ref": "#/definitions/question" }
    }
  }
}
```

#### Question Type Definitions

```json
{
  "definitions": {
    "question": {
      "type": "object",
      "required": ["id", "type", "question", "points"],
      "properties": {
        "id": { "type": "string" },
        "type": {
          "enum": [
            "multiple-choice",
            "multiple-select",
            "true-false",
            "fill-blank",
            "matching",
            "ordering",
            "short-answer",
            "image-based"
          ]
        },
        "question": { "type": "string" },
        "points": { "type": "integer", "minimum": 1 },
        "hint": { "type": "string", "description": "OPTIONAL: Hint for the question" },
        "explanation": { "type": "string", "description": "OPTIONAL: Explanation shown after answering" },
        "media": {
          "type": "object",
          "description": "OPTIONAL: Media attachment for the question",
          "properties": {
            "type": { "enum": ["image", "video", "audio", "youtube"] },
            "url": { "type": "string", "description": "URL to media file" },
            "alt": { "type": "string", "description": "Alt text for accessibility" },
            "caption": { "type": "string", "description": "OPTIONAL: Caption below media" },
            "mimeType": { "type": "string", "description": "OPTIONAL: MIME type for video/audio" },
            "videoId": { "type": "string", "description": "YouTube video ID (for youtube type)" },
            "startTime": { "type": "integer", "description": "OPTIONAL: Start time in seconds (youtube)" },
            "autoplay": { "type": "boolean", "default": false },
            "loop": { "type": "boolean", "default": false },
            "muted": { "type": "boolean", "default": false }
          }
        }
      },
      "allOf": [
        {
          "if": { "properties": { "type": { "const": "multiple-choice" } } },
          "then": {
            "properties": {
              "options": {
                "type": "array",
                "minItems": 2,
                "maxItems": 6,
                "items": {
                  "type": "object",
                  "required": ["id", "isCorrect"],
                  "properties": {
                    "id": { "type": "string" },
                    "text": { "type": "string", "description": "Text label (OPTIONAL if image provided)" },
                    "isCorrect": { "type": "boolean" },
                    "image": {
                      "type": "object",
                      "description": "OPTIONAL: Image for this option",
                      "properties": {
                        "url": { "type": "string" },
                        "alt": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "multiple-select" } } },
          "then": {
            "properties": {
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["id", "isCorrect"],
                  "properties": {
                    "id": { "type": "string" },
                    "text": { "type": "string", "description": "Text label (OPTIONAL if image provided)" },
                    "isCorrect": { "type": "boolean" },
                    "image": {
                      "type": "object",
                      "description": "OPTIONAL: Image for this option",
                      "properties": {
                        "url": { "type": "string" },
                        "alt": { "type": "string" }
                      }
                    }
                  }
                }
              },
              "partialCredit": { "type": "boolean", "default": true }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "true-false" } } },
          "then": {
            "properties": {
              "correctAnswer": { "type": "boolean" }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "fill-blank" } } },
          "then": {
            "description": "âš ï¸ CRITICAL: The 'question' field MUST contain __id__ placeholders (e.g., __b1__, __b2__) that match the blank IDs. Example: 'The liver converts ammonia into __b1__.' with blank id='b1'",
            "properties": {
              "blanks": {
                "type": "array",
                "description": "Array of blank definitions. Each blank.id must have a matching __id__ placeholder in the question text.",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "description": "Blank identifier (e.g., 'b1', '1', 'answer1'). Must match placeholder in question." },
                    "acceptedAnswers": { "type": "array", "items": { "type": "string" }, "description": "List of acceptable answers" },
                    "caseSensitive": { "type": "boolean", "default": false }
                  }
                }
              }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "matching" } } },
          "then": {
            "properties": {
              "pairs": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string" },
                    "left": { "type": "string" },
                    "right": { "type": "string" }
                  }
                }
              }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "ordering" } } },
          "then": {
            "properties": {
              "items": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string" },
                    "text": { "type": "string" },
                    "correctPosition": { "type": "integer" }
                  }
                }
              }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "short-answer" } } },
          "then": {
            "properties": {
              "keywords": { "type": "array", "items": { "type": "string" } },
              "minKeywords": { "type": "integer" },
              "modelAnswer": { "type": "string" },
              "maxLength": { "type": "integer" }
            }
          }
        },
        {
          "if": { "properties": { "type": { "const": "image-based" } } },
          "then": {
            "properties": {
              "imageUrl": { "type": "string" },
              "imageAlt": { "type": "string" },
              "hotspots": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string" },
                    "x": { "type": "number" },
                    "y": { "type": "number" },
                    "radius": { "type": "number" },
                    "label": { "type": "string" },
                    "isCorrect": { "type": "boolean" }
                  }
                }
              },
              "options": {
                "type": "array",
                "description": "OPTIONAL: Alternative to hotspots for multiple-choice style image questions",
                "items": {
                  "type": "object",
                  "required": ["id", "isCorrect"],
                  "properties": {
                    "id": { "type": "string" },
                    "text": { "type": "string" },
                    "isCorrect": { "type": "boolean" }
                  }
                }
              }
            }
          }
        }
      ]
    }
  }
}
```

### Quiz Loading Methods

The quiz system supports 3 loading methods (tried in order):

| Method | Attribute | Works with file:// | Requires Server |
|--------|-----------|-------------------|-----------------|
| **JSONP (Recommended)** | `data-quiz-js` | âœ… Yes | No |
| Fetch API | `data-quiz-src` | âŒ No | Yes |
| Embedded JSON | `<script id="quiz-data-[id]">` | âœ… Yes | No |

#### Method 1: JSONP Script Loading (Recommended)

**Best for:** Opening HTML files directly in browser (`file://` protocol)

**CRITICAL IMPLEMENTATION NOTE**:
The JS file MUST wrap the JSON object in a function call to `registerQuiz()`. Do NOT just export the JSON object directly.

```javascript
// quizzes/topic-01-quiz.js
registerQuiz("topic-01-quiz", {  // <--- MUST USE THIS WRAPPER
  "schemaVersion": "1.0",
  "quizId": "topic-01-quiz",
  "metadata": { ... },
  "questions": [ ... ]
});
```

HTML usage:
```html
<div class="quiz-container" 
     data-quiz-id="topic-01-quiz"
     data-quiz-js="../quizzes/topic-01-quiz.js">
```

#### Method 2: Fetch API (Requires Web Server)

**Best for:** Deployment on web servers (http/https)

```html
<div class="quiz-container" 
     data-quiz-id="topic-01-quiz"
     data-quiz-src="../quizzes/topic-01-quiz.json">
```

#### Method 3: Embedded JSON

**Best for:** Single-file distribution

```html
<script type="application/json" id="quiz-data-topic-01-quiz">
{
  "schemaVersion": "1.0",
  "quizId": "topic-01-quiz",
  ...
}
</script>

<div class="quiz-container" data-quiz-id="topic-01-quiz">
```

### Quiz HTML Integration

Add quiz sections to topic pages using this structure:

```html
<!-- Quiz Section -->
<section class="quiz-section" id="topic-quiz" aria-labelledby="quiz-title">
    <div class="quiz-header">
        <div class="quiz-badge">
            <span class="quiz-icon">ðŸ“</span>
            <span>Knowledge Check</span>
        </div>
        <h2 id="quiz-title" class="quiz-title">Test Your Understanding</h2>
        <p class="quiz-description">Complete this quiz to assess your comprehension of the topic.</p>
    </div>
    
    <!-- Quiz Container - JSONP method (works with file://) -->
    <div class="quiz-container" 
         data-quiz-id="topic-01-quiz"
         data-quiz-js="../quizzes/topic-01-quiz.js">
        
        <!-- Loading State -->
        <div class="quiz-loading">
            <div class="quiz-spinner"></div>
            <p>Loading quiz...</p>
        </div>
        
        <!-- Quiz Content (injected by JS) -->
        <div class="quiz-content" hidden></div>
        
        <!-- Quiz Results (shown after completion) -->
        <div class="quiz-results" hidden></div>
    </div>
</section>
```

### IMPORTANT: Quiz Implementation Checklist

Before verifying a quiz, ensure:

1.  **JSONP Wrapper**: The `.js` file uses `registerQuiz("id", { ... })`.
2.  **Schema Version**: `"schemaVersion": "1.0"` is present.
3.  **Unique IDs**: All questions and options have unique `id` values.
4.  **Points**: Every question has a `points` integer value (e.g., `points: 1`).
5.  **Question Text**: The field is `"question"`, NOT `"text"`.
6.  **Question Type**: Use `"multiple-choice"`, NOT `"single"`.
7.  **Relative Paths**: Images in quizzes use correct relative paths (e.g., `../assets/`).

---

## Complete Conversion Workflow (v9.4)

### Workflow Overview
1. **Planning & Setup**: Create conversion plan, prepare environment, gather resources.
2. **Initial Extraction**: Convert PDF to intermediate format (MMD) using Mathpix.
3. **MMD Review & Correction**: Manually review and correct OCR errors, clean artifacts.
4. **HTML Templating**: Set up base HTML structure with Rich UI components.
5. **Content Transfer & Semantic Conversion**: Transfer ALL content verbatim with proper semantic markup. Every paragraph, list item, heading, table row, and detail from the source must be included without exception. Use the anti-summarization checklist to verify completeness.
6. **100% Content Verification**: Validate verbatim content preservation. Use the detect_summarization_simple.py script to verify word count ratios are above 80% and section counts match.
7. **Visual Enhancement & Rich UI Implementation**: Apply styling and interactive components.
8. **Quiz Creation**: Create quiz JSON files for each topic.
9. **Resource Handling**: Extract/download and organize images.
10. **Technical & Accessibility Validation**: Validate HTML, CSS, links, accessibility.
11. **Finalization**: Link pages, test navigation, verify dark mode, test quizzes.

### Quiz Creation Workflow

After completing content conversion for a topic:

1. **Identify Key Concepts**: Review the topic content and identify 5-10 key concepts to test
2. **Choose Question Types**: Select appropriate question types for each concept:
   - Facts/definitions â†’ Multiple Choice or True/False
   - Relationships â†’ Matching
   - Processes/sequences â†’ Ordering
   - Terminology â†’ Fill in the Blank
   - Deep understanding â†’ Short Answer
   - Visual content â†’ Image-based
3. **Create Quiz JSON**: Create `quizzes/topic-XX-quiz.json` following the schema
4. **Write Questions**: Write clear, unambiguous questions testing one concept each
5. **Add Explanations**: Provide educational explanations for all questions
6. **Set Metadata**: Configure difficulty, passing score, time estimate
7. **Integrate HTML**: Add quiz section to the topic HTML file
8. **Test Quiz**: Verify all question types work correctly in both themes

### Content Preservation Rules

1. **CRITICAL: ALL original pedagogical content must be preserved EXACTLY AS-IS**
2. **NO content creation, modification, summarization, condensation, shortening, abbreviation, omission, exclusion, skipping, truncation, reduction, or rephrasing is allowed**
3. **DO NOT "modernize" or "enhance" the meaning or wording of the content**
4. **DO NOT combine, merge, or consolidate multiple paragraphs, sentences, or concepts**
5. **DO NOT simplify or paraphrase complex content - keep it verbatim**
6. **DO NOT remove or skip ANY content from the source text**
7. **The ONLY allowed changes are:**
   - Adding HTML structural and semantic tags
   - Applying CSS styling for visual presentation
   - Converting formatting (bold, italic) to HTML elements
   - Adding accessibility attributes
   - Correcting OCR errors identified during MMD review
   - Adding interactive UI components that organize but do not alter content
   - **v9.4 NEW**: Adding quiz sections that test comprehension of the original content

### Content Splitting Guidelines (v9.5)

**CRITICAL: Split large content into manageable sizes - not too big, not too fragmented**

When converting large PDF documents to HTML, follow these guidelines for content splitting:

#### When to Split Content

Split content when a single HTML file becomes:
- **Too large to navigate**: More than 8-10 major sections (H2 headings)
- **Too long to read**: Estimated read time exceeds 20-25 minutes
- **Too slow to load**: File size exceeds 500KB
- **Hard to maintain**: Contains multiple distinct topics that should be separate

#### Splitting Principles

1. **Logical Topic Boundaries**: Split at natural topic breaks (between major sections, chapters, or distinct subject areas)
2. **Maintain Continuity**: Ensure each split file has:
   - Clear navigation to previous/next files
   - Progress indicators (e.g., "Part 1 of 3")
   - Consistent header/footer structure
3. **Avoid Over-Fragmentation**: Don't split too frequently. Each file should contain:
   - At least 2-3 related sections
   - Estimated read time of 10-20 minutes
   - A complete, self-contained topic unit
4. **Preserve All Content**: When splitting, ensure NO content is lost:
   - All sections must be distributed across files
   - No paragraphs or list items are omitted
   - Tables, images, and callouts are included in appropriate files
   - Cross-references are updated to link to correct files

#### Recommended Splitting Strategy

**For Large Topics (3+ major sections):**
- Split into 3-4 logical parts based on content organization
- Example: Topic 01 could be split into:
  - Part 1: Introduction & Diagnosis (sections 1-2)
  - Part 2: Routine Management (section 3)
  - Part 3: Health Education & Pharmacology (sections 4-5)

**For Very Large Topics (8+ major sections):**
- Split into 4-6 logical parts
- Each part should contain 2-3 related sections
- Maintain clear progression through the content

#### Navigation Requirements for Split Files

Each split file must include:
- **Top Navigation**: Links to Home, Previous Topic, Next Topic, All Quizzes
- **Bottom Navigation**: Same as top navigation for easy access
- **Progress Indicator**: Show current position (e.g., "Part 2 of 3")
- **Breadcrumbs or Clear Titles**: Indicate where the user is in the larger topic

#### Index Page Updates

When splitting content:
1. Update the main index.html to show all split files as separate topic cards
2. Update read time estimates to reflect total time across all files
3. Ensure navigation flows logically through all files
4. Consider adding a "Table of Contents" or "Topic Overview" page if needed

#### Anti-Summarization Reminders for Split Files

Even when splitting content:
- **DO NOT** condense or summarize content to make it fit
- **DO NOT** remove "minor" sections to reduce file count
- **DO NOT** merge sections together arbitrarily
- **DO** maintain 100% content fidelity across all files
- **DO** ensure all content from the original is distributed across the split files

#### Example Split File Names

```
topics/
â”œâ”€â”€ topic-01-introduction-diagnosis.html
â”œâ”€â”€ topic-01-routine-management.html
â”œâ”€â”€ topic-01-lab-health-ed.html
â”œâ”€â”€ topic-02-common-complications.html
â”œâ”€â”€ topic-02-pre-eclampsia-eclampsia.html
â””â”€â”€ topic-02-medical-conditions.html
```

#### Quality Checks for Split Files

Before finalizing split files:
- [ ] All original sections are distributed across files
- [ ] Navigation links work between all files
- [ ] Progress indicators are accurate
- [ ] No content is duplicated or omitted
- [ ] File sizes are reasonable (under 500KB each)
- [ ] Read times are manageable (10-20 min each)
- [ ] Content flows logically from file to file

### âš ï¸ ANTI-SUMMARIZATION CHECKLIST

Before finalizing any HTML file, verify:

- [ ] **ALL paragraphs** from source are present (no skipped paragraphs)
- [ ] **ALL list items** are included (no omitted list items)
- [ ] **ALL headings** are preserved (no missing sections)
- [ ] **ALL tables** are complete (no truncated rows/columns)
- [ ] **ALL images** with captions are included
- [ ] **ALL callouts/notes** are preserved
- [ ] **NO content is condensed** or summarized
- [ ] **NO wording is changed** from the original
- [ ] **NO sentences are combined** or merged
- [ ] **NO content is reordered** (except for fixing obvious OCR errors)

### Content Transfer Instructions

When transferring content from source to HTML:

1. **Transfer EVERYTHING**: Do not selectively include content
2. **Keep original structure**: Maintain paragraphs, lists, sections as they appear
3. **Preserve exact wording**: Copy text verbatim without paraphrasing
4. **Include all details**: Do not remove "minor" details or examples
5. **Keep all enumerations**: Transfer all numbered/bulleted lists completely
6. **Preserve all callouts**: Include all notes, warnings, tips, definitions
7. **Maintain all tables**: Include complete tables with all rows and columns
8. **Keep all images**: Include all figures with their captions

### Common Summarization Pitfalls to Avoid

âŒ **DO NOT**: Combine multiple paragraphs into one
âŒ **DO NOT**: Remove "redundant" or similar content
âŒ **DO NOT**: Shorten long explanations
âŒ **DO NOT**: Omit examples or illustrations
âŒ **DO NOT**: Merge list items
âŒ **DO NOT**: Skip introductory or transitional text
âŒ **DO NOT**: Simplify technical language
âŒ **DO NOT**: Remove citations or references
âŒ **DO NOT**: Condense tables
âŒ **DO NOT**: Exclude "minor" sections

âœ… **DO**: Transfer content exactly as it appears
âœ… **DO**: Keep all original wording and phrasing
âœ… **DO**: Include all details, examples, and explanations
âœ… **DO**: Preserve all structural elements
âœ… **DO**: Maintain complete tables and lists
âœ… **DO**: Keep all callouts and notes

### Topic Page Template (v9.4 with Quiz)

```html
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Topic Title] | [Course Name]</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel="stylesheet">
    
    <!-- KaTeX for Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <!-- Reading Progress -->
    <div class="reading-progress-container">
        <div class="reading-progress-bar" id="reading-progress"></div>
    </div>

    <div class="page-wrapper">
        <div class="container">
            <article class="document-article">
                <!-- Navigation -->
                <nav class="document-nav" role="navigation">
                    <!-- ... navigation content ... -->
                </nav>

                <!-- Header -->
                <header class="document-header">
                    <!-- ... header content ... -->
                </header>

                <!-- Main Content -->
                <main id="main-content" class="content-wrapper">
                    <!-- Content sections here -->
                </main>

                <!-- Quiz Section -->
                <section class="quiz-section" id="topic-quiz" aria-labelledby="quiz-title">
                    <div class="quiz-header">
                        <div class="quiz-badge">
                            <span class="quiz-icon">ðŸ“</span>
                            <span>Knowledge Check</span>
                        </div>
                        <h2 id="quiz-title" class="quiz-title">Test Your Understanding</h2>
                        <p class="quiz-description">Complete this quiz to assess your comprehension.</p>
                    </div>
                    
                    <div class="quiz-container" 
                         data-quiz-src="../quizzes/topic-XX-quiz.json"
                         data-quiz-id="topic-XX-quiz">
                        <div class="quiz-loading">
                            <div class="quiz-spinner"></div>
                            <p>Loading quiz...</p>
                        </div>
                        <div class="quiz-content" hidden></div>
                        <div class="quiz-results" hidden></div>
                    </div>
                </section>

                <!-- Bottom Navigation -->
                <nav class="document-nav" role="navigation">
                    <!-- ... navigation content ... -->
                </nav>
            </article>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox-modal" hidden>
        <!-- ... lightbox content ... -->
    </div>

    <!-- Scripts -->
    <script src="../js/theme.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/interactions.js"></script>
    <script src="../js/quiz.js"></script>
</body>
</html>
```

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 9.8 | 2026-01-16 | Corrected image handling instructions (wrapper vs data attr) and emphasized Quiz registerQuiz wrapper requirement |
| 9.4.4 | 2025-12-25 | Fixed Ordering quiz drag-and-drop with live sorting for better reliability |
| 9.4.3 | 2025-12-25 | Updated quiz loading instructions and image handling |
| 9.4 | 2025-12-24 | Added Interactive Quiz System with 8 question types, JSON schema, quiz.js engine |
| 9.3 | 2025-12-16 | Added Mathematical Equations Support with KaTeX integration |
| 9.2 | 2025-12-XX | Added Nested List Support, Lightbox fix |
| 9.1 | 2025-12-XX | Enhanced Navigation with top/bottom nav, progress indicator |
| 9.0 | 2025-12-XX | Rich UI Edition with dark mode, glassmorphism, micro-interactions |

---

## Quick Reference: Quiz Question Types

| Type | Use Case | Grading |
|------|----------|---------|
| `multiple-choice` | Single correct answer | Binary (correct/incorrect) |
| `multiple-select` | Multiple correct answers | Partial credit available |
| `true-false` | Binary statements | Binary |
| `fill-blank` | Terminology, formulas | Per-blank grading |
| `matching` | Associations, pairs | Partial credit per pair |
| `ordering` | Sequences, processes | Partial credit per position |
| `short-answer` | Explanations | Keyword-based scoring |
| `image-based` | Visual identification | Binary (hotspot selection) |

---

## End of Document

================================================================================
FILE: quiz-hub-template.html
PATH: quiz-hub-template.html
================================================================================

<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Hub - [COURSE NAME]</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <div class="page-wrapper">
        <div class="container">
            <article class="document-article">
                
                <!-- Navigation -->
                <nav class="document-nav" role="navigation">
                    <div class="nav-links">
                        <a href="index.html" class="nav-button">
                            <span class="nav-icon">ðŸ </span>
                            <span class="nav-text">Home</span>
                        </a>
                    </div>
                </nav>

                <!-- Header -->
                <header class="document-header quiz-hub-header">
                    <div class="header-badge">
                        <span>ðŸ“</span>
                        <span>Quiz Center</span>
                    </div>
                    <h1 class="document-title">Quiz Hub</h1>
                    <p class="quiz-hub-subtitle">Test your knowledge across all topics</p>
                    
                    <!-- Overall Progress Summary -->
                    <div class="quiz-hub-stats" id="quiz-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="total-quizzes">0</span>
                            <span class="stat-label">Total Quizzes</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="completed-quizzes">0</span>
                            <span class="stat-label">Completed</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="average-score">--%</span>
                            <span class="stat-label">Average Score</span>
                        </div>
                    </div>
                </header>

                <!-- Main Content -->
                <main id="main-content" class="content-wrapper">
                    
                    <!-- Comprehensive Exam Banner -->
                    <div class="exam-banner">
                        <div class="exam-banner-content">
                            <div class="exam-banner-icon">ðŸŽ“</div>
                            <div class="exam-banner-text">
                                <h3>Comprehensive Final Exam</h3>
                                <p>Test your knowledge across all course topics</p>
                            </div>
                            <div class="exam-banner-meta">
                                <span>ðŸ“š All Topics</span>
                                <span>â“ [X] Questions</span>
                                <span>â±ï¸ [X] Minutes</span>
                            </div>
                        </div>
                        <a href="comprehensive-exam.html" class="exam-banner-btn">
                            Take Final Exam â†’
                        </a>
                    </div>
                    
                    <!-- Filter/Sort Options -->
                    <div class="quiz-hub-controls">
                        <div class="filter-group">
                            <label for="difficulty-filter">Difficulty:</label>
                            <select id="difficulty-filter" class="quiz-filter">
                                <option value="all">All Levels</option>
                                <option value="beginner">Beginner</option>
                                <option value="intermediate">Intermediate</option>
                                <option value="advanced">Advanced</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="status-filter">Status:</label>
                            <select id="status-filter" class="quiz-filter">
                                <option value="all">All</option>
                                <option value="not-started">Not Started</option>
                                <option value="in-progress">In Progress</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                    </div>

                    <!-- Quiz Cards Grid -->
                    <div class="quiz-hub-grid" id="quiz-grid">
                        
                        <!-- Quiz Card Template - Repeat for each quiz -->
                        <div class="quiz-card" data-difficulty="beginner" data-status="not-started">
                            <div class="quiz-card-header">
                                <span class="quiz-card-icon">ðŸ“š</span>
                                <span class="quiz-card-topic">Topic 1</span>
                            </div>
                            <h3 class="quiz-card-title">[Quiz Title]</h3>
                            <p class="quiz-card-description">[Quiz description or topic summary]</p>
                            <div class="quiz-card-meta">
                                <span class="difficulty-badge difficulty-beginner">Beginner</span>
                                <span class="quiz-meta-item">ðŸ“ 10 questions</span>
                                <span class="quiz-meta-item">â±ï¸ ~10 min</span>
                            </div>
                            <div class="quiz-card-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%;"></div>
                                </div>
                                <span class="progress-label">Not started</span>
                            </div>
                            <div class="quiz-card-actions">
                                <a href="topics/topic-01.html#topic-quiz" class="quiz-card-btn quiz-card-btn--primary">
                                    Start Quiz
                                </a>
                                <a href="topics/topic-01.html" class="quiz-card-btn quiz-card-btn--secondary">
                                    Review Topic
                                </a>
                            </div>
                        </div>

                        <!-- Example: Completed Quiz Card -->
                        <div class="quiz-card quiz-card--completed" data-difficulty="intermediate" data-status="completed">
                            <div class="quiz-card-header">
                                <span class="quiz-card-icon">ðŸ§¬</span>
                                <span class="quiz-card-topic">Topic 2</span>
                                <span class="quiz-card-badge">âœ“ Completed</span>
                            </div>
                            <h3 class="quiz-card-title">[Quiz Title]</h3>
                            <p class="quiz-card-description">[Quiz description]</p>
                            <div class="quiz-card-meta">
                                <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                                <span class="quiz-meta-item">ðŸ“ 15 questions</span>
                                <span class="quiz-meta-item">â±ï¸ ~15 min</span>
                            </div>
                            <div class="quiz-card-score">
                                <span class="score-value">85%</span>
                                <span class="score-label">Best Score</span>
                            </div>
                            <div class="quiz-card-actions">
                                <a href="topics/topic-02.html#topic-quiz" class="quiz-card-btn quiz-card-btn--primary">
                                    Retake Quiz
                                </a>
                                <a href="topics/topic-02.html" class="quiz-card-btn quiz-card-btn--secondary">
                                    Review Topic
                                </a>
                            </div>
                        </div>

                        <!-- Add more quiz cards as needed -->
                        
                    </div>
                </main>

            </article>
        </div>
    </div>

    <script src="js/theme.js"></script>
    <script src="js/quiz-hub.js"></script>
</body>
</html>


================================================================================
FILE: topic-template-v1.2.html
PATH: topic-template-v1.2.html
================================================================================

<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[TOPIC TITLE] - Study Guide</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap"
        rel="stylesheet">

    <!-- KaTeX for Math (optional - include if topic has equations) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <link rel="stylesheet" href="../styles/main.css">
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <!-- Floating Quiz Button (v1.2 NEW) -->
    <a href="#topic-quiz" class="floating-quiz-btn" aria-label="Jump to quiz">
        <span class="quiz-btn-icon">ðŸ“</span>
        <span class="quiz-btn-text">Take Quiz</span>
    </a>

    <!-- Reading Progress -->
    <div class="reading-progress-container">
        <div class="reading-progress-bar" id="reading-progress"></div>
    </div>

    <div class="page-wrapper">
        <div class="container">
            <article class="document-article">

                <!-- TOP NAVIGATION -->
                <nav class="document-nav" role="navigation" aria-label="Document Navigation">
                    <div class="nav-links">
                        <a href="[previous-file.html]" class="nav-button nav-button--previous">
                            <span class="nav-icon">â†</span>
                            <span class="nav-text">Previous</span>
                        </a>

                        <a href="../index.html" class="nav-button">
                            <span class="nav-icon">ðŸ </span>
                            <span class="nav-text">Home</span>
                        </a>

                        <a href="../quiz-hub.html" class="nav-button nav-button--quiz">
                            <span class="nav-icon">ðŸ“</span>
                            <span class="nav-text">All Quizzes</span>
                        </a>

                        <a href="[next-file.html]" class="nav-button nav-button--next">
                            <span class="nav-text">Next</span>
                            <span class="nav-icon">â†’</span>
                        </a>
                    </div>
                    <div class="document-progress">
                        <div class="progress-bar" aria-hidden="true">
                            <div class="progress-fill" style="width: [PERCENTAGE]%;"></div>
                        </div>
                        <span class="progress-text">Topic [CURRENT] of [TOTAL]</span>
                    </div>
                </nav>

                <!-- Document Header -->
                <header class="document-header">
                    <div class="header-badge">
                        <span>[TOPIC ICON]</span>
                        <span>Topic [NUMBER]</span>
                    </div>
                    <h1 class="document-title">[TOPIC TITLE]</h1>
                    <div class="title-meta">
                        <div class="meta-item">
                            <span>ðŸ“š</span>
                            <span>[TOPIC DESCRIPTION]</span>
                        </div>
                        <div class="meta-item">
                            <span>â±ï¸</span>
                            <span>[ESTIMATED READ TIME] min read</span>
                        </div>
                        <!-- Quiz indicator (v1.2 NEW) -->
                        <div class="meta-item meta-item--quiz">
                            <span>ðŸ“</span>
                            <a href="#topic-quiz">Quiz Available</a>
                        </div>
                    </div>
                </header>

                <!-- Main Content -->
                <main id="main-content" class="content-wrapper">

                    <!-- CONTENT SECTIONS GO HERE -->
                    <section class="content-section" id="section-1">
                        <div class="section-header">
                            <div class="section-number">01</div>
                            <h2 class="section-title">
                                <span class="title-icon">[ICON]</span>
                                [SECTION TITLE]
                            </h2>
                        </div>
                        <div class="content-card">
                            [CONTENT HERE]
                        </div>
                    </section>

                </main>

                <!-- QUIZ SECTION (v1.2 NEW) -->
                <section class="quiz-section" id="topic-quiz" aria-labelledby="quiz-title">
                    <div class="quiz-header">
                        <div class="quiz-badge">
                            <span class="quiz-icon">ðŸ“</span>
                            <span>Knowledge Check</span>
                        </div>
                        <h2 id="quiz-title" class="quiz-title">Test Your Understanding</h2>
                        <p class="quiz-description">Complete this quiz to assess your comprehension of [TOPIC TITLE].
                        </p>
                    </div>

                    <!-- Quiz Container - Uses JSONP for file:// compatibility -->
                    <!-- 
                        LOADING OPTIONS (quiz.js tries in order):
                        1. data-quiz-js  = JSONP script file (works with file://)
                        2. data-quiz-src = JSON file via fetch (requires web server)
                        3. Embedded <script type="application/json" id="quiz-data-[ID]">
                    -->
                    <!-- 
                        âš ï¸ PATH RESOLUTION WARNING:
                        Image paths in the quiz JS file MUST be relative to THIS HTML file.
                        Since this file is in "topics/", use: "../assets/images/image.jpg"
                    -->
                    <div class="quiz-container" data-quiz-id="[TOPIC-ID]-quiz"
                        data-quiz-js="../quizzes/[TOPIC-ID]-quiz.js">

                        <!-- Loading State -->
                        <div class="quiz-loading">
                            <div class="quiz-spinner"></div>
                            <p>Loading quiz...</p>
                        </div>

                        <!-- Quiz Content (injected by JS) -->
                        <div class="quiz-content" hidden></div>

                        <!-- Quiz Results (shown after completion) -->
                        <div class="quiz-results" hidden></div>
                    </div>
                </section>

                <!-- BOTTOM NAVIGATION -->
                <nav class="document-nav" role="navigation" aria-label="Document Navigation">
                    <div class="nav-links">
                        <a href="[previous-file.html]" class="nav-button nav-button--previous">
                            <span class="nav-icon">â†</span>
                            <span class="nav-text">Previous</span>
                        </a>

                        <a href="../index.html" class="nav-button">
                            <span class="nav-icon">ðŸ </span>
                            <span class="nav-text">Home</span>
                        </a>

                        <a href="../quiz-hub.html" class="nav-button nav-button--quiz">
                            <span class="nav-icon">ðŸ“</span>
                            <span class="nav-text">All Quizzes</span>
                        </a>

                        <a href="[next-file.html]" class="nav-button nav-button--next">
                            <span class="nav-text">Next</span>
                            <span class="nav-icon">â†’</span>
                        </a>
                    </div>
                </nav>

            </article>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox-modal" hidden aria-hidden="true" role="dialog">
        <div class="lightbox-backdrop"></div>
        <div class="lightbox-content">
            <button class="lightbox-close" aria-label="Close">&times;</button>
            <img class="lightbox-image" src="" alt="">
            <p class="lightbox-caption"></p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/theme.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/interactions.js"></script>
    <script src="../js/quiz.js"></script>
</body>

</html>

================================================================================
FILE: comprehensive-exam-template.html
PATH: comprehensive-exam-template.html
================================================================================

<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[EXAM TITLE] - [COURSE/UNIT NAME]</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles/main.css">

    <style>
        /* --- Exam Portal Specific Styles --- */
        .exam-body { background-color: var(--color-bg-secondary); }

        .exam-hero {
            background: var(--gradient-primary);
            color: white;
            padding: var(--space-12) var(--space-6) var(--space-16);
            text-align: center;
            position: relative;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%);
            margin-bottom: -4rem;
        }

        .exam-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: radial-gradient(circle at 20% 150%, rgba(255,255,255,0.1) 0%, transparent 50%),
                              radial-gradient(circle at 80% -50%, rgba(255,255,255,0.15) 0%, transparent 50%);
            z-index: 0;
        }

        .exam-hero-content { position: relative; z-index: 1; max-width: 800px; margin: 0 auto; }

        .exam-badge-lg {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            border-radius: var(--radius-full);
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: var(--space-6);
        }

        .exam-title-lg {
            font-family: var(--font-family-sans);
            font-size: 3rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: var(--space-4);
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .exam-subtitle-lg { font-size: 1.25rem; opacity: 0.9; font-weight: 400; }

        .exam-dashboard {
            max-width: 1000px;
            margin: 0 auto var(--space-12);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: var(--space-6);
            padding: 0 var(--space-6);
            position: relative;
            z-index: 2;
        }

        .dashboard-card {
            background: var(--color-surface);
            padding: var(--space-6);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            text-align: center;
            border: 1px solid var(--color-border);
            transition: transform 0.3s ease;
        }

        .dash-icon {
            width: 48px;
            height: 48px;
            background: var(--color-bg-tertiary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto var(--space-3);
            color: var(--color-primary);
        }

        .dash-value {
            display: block;
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-text-primary);
            line-height: 1;
            margin-bottom: var(--space-1);
        }

        .dash-label {
            font-size: 0.875rem;
            color: var(--color-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .syllabus-section { max-width: 900px; margin: 0 auto var(--space-12); padding: 0 var(--space-6); }

        .section-label {
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--color-text-tertiary);
            margin-bottom: var(--space-6);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-4);
        }
        
        .section-label::before, .section-label::after { content: ''; height: 1px; width: 40px; background: var(--color-border); }

        .topics-grid-visual { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-4); }

        .topic-pill {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            background: var(--color-surface);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
            font-weight: 500;
            color: var(--color-text-secondary);
        }

        .topic-pill-icon {
            width: 32px;
            height: 32px;
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .exam-arena { max-width: 800px; margin: 0 auto; padding: 0 var(--space-6) var(--space-12); }

        .instructions-card {
            background: #fffbeb;
            border: 1px solid #fcd34d;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-8);
        }
        
        [data-theme="dark"] .instructions-card {
            background: rgba(245, 158, 11, 0.1);
            border-color: rgba(245, 158, 11, 0.3);
        }

        .instructions-title {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 700;
            color: #92400e;
            margin-bottom: var(--space-4);
        }
        
        [data-theme="dark"] .instructions-title { color: #fbbf24; }

        .instruction-steps { list-style: none; padding: 0; display: grid; gap: var(--space-3); }

        .instruction-step { display: flex; gap: var(--space-3); align-items: flex-start; font-size: 0.95rem; color: var(--color-text-secondary); }

        .step-marker {
            min-width: 24px;
            height: 24px;
            background: rgba(245, 158, 11, 0.2);
            color: #d97706;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 2px;
        }

        .quiz-section {
            box-shadow: var(--shadow-2xl);
            border: 1px solid var(--color-border-focus);
            position: relative;
            overflow: hidden;
        }
        
        .quiz-section::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 6px;
            background: var(--gradient-primary);
        }
    </style>
</head>

<body class="exam-body">
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="theme-toggle-icon light-icon">â˜€ï¸</span>
        <span class="theme-toggle-icon dark-icon">ðŸŒ™</span>
    </button>

    <div class="page-wrapper">
        <div style="width: 100%;">
            
            <header class="exam-hero">
                <div class="exam-hero-content">
                    <div class="exam-badge-lg">
                        <span>ðŸŽ“</span>
                        <span>[EXAM CATEGORY]</span>
                    </div>
                    <h1 class="exam-title-lg">[EXAM TITLE]</h1>
                    <p class="exam-subtitle-lg">[COURSE/UNIT NAME]</p>
                </div>
            </header>

            <section class="exam-dashboard">
                <div class="dashboard-card">
                    <div class="dash-icon">ðŸ“š</div>
                    <span class="dash-value">[TOPIC COUNT]</span>
                    <span class="dash-label">Topics Covered</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">â“</div>
                    <span class="dash-value">[QUESTION COUNT]</span>
                    <span class="dash-label">Questions</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">â±ï¸</div>
                    <span class="dash-value">[TIME LIMIT]</span>
                    <span class="dash-label">Minutes</span>
                </div>
                <div class="dashboard-card">
                    <div class="dash-icon">ðŸŽ¯</div>
                    <span class="dash-value">[PASSING SCORE]%</span>
                    <span class="dash-label">Pass Mark</span>
                </div>
            </section>

            <main id="main-content" class="exam-arena">

                <div class="syllabus-section">
                    <div class="section-label">Assessment Syllabus</div>
                    <div class="topics-grid-visual">
                        <!-- Repeat this pill for each topic -->
                        <div class="topic-pill">
                            <span class="topic-pill-icon">[ICON]</span>
                            <span>[TOPIC NAME]</span>
                        </div>
                        <!-- End topic pill -->
                    </div>
                </div>

                <div class="instructions-card">
                    <div class="instructions-title">
                        <span>âš ï¸</span> Important Instructions
                    </div>
                    <ul class="instruction-steps">
                        <li class="instruction-step">
                            <span class="step-marker">1</span>
                            <span>[INSTRUCTION 1]</span>
                        </li>
                        <li class="instruction-step">
                            <span class="step-marker">2</span>
                            <span>[INSTRUCTION 2]</span>
                        </li>
                        <!-- Add more instructions as needed -->
                    </ul>
                </div>

                <section class="quiz-section" id="exam-quiz">
                    <div class="quiz-container" data-quiz-id="[EXAM-ID]"
                        data-quiz-js="quizzes/[EXAM-ID].js">
                        <div class="quiz-loading">
                            <div class="quiz-spinner"></div>
                            <p>Initializing exam environment...</p>
                        </div>
                        <div class="quiz-content" hidden></div>
                        <div class="quiz-results" hidden></div>
                    </div>
                </section>

                <nav style="margin-top: var(--space-8); display: flex; justify-content: center; gap: var(--space-4);">
                    <a href="quiz-hub.html" class="nav-button nav-button--secondary">
                        <span class="nav-icon">â†</span>
                        <span class="nav-text">Back to Quiz Hub</span>
                    </a>
                    <a href="index.html" class="nav-button nav-button--secondary">
                        <span class="nav-icon">ðŸ </span>
                        <span class="nav-text">Home</span>
                    </a>
                </nav>

            </main>
        </div>
    </div>

    <script src="js/theme.js"></script>
    <script src="js/quiz.js"></script>
</body>

</html>

================================================================================
END OF COMBINED OUTPUT
================================================================================
