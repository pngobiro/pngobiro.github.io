<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structured Programming - July 2019 | KNEC Past Papers</title>
    <link rel="stylesheet" href="styles.css">
    <script src="js/sidebar-navigation.js" defer></script>
    <!-- Add MathJax scripts if needed -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1>STRUCTURED PROGRAMMING</h1>
            <h2>July 2019</h2>
            <div class="exam-details">
                <p>Paper Code: N/A</p> <!-- Code not found in OCR -->
                <p>Duration: 3 hours</p>
                <p>Module: MODULE I</p>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <div class="sidebar">
            <div class="sidebar-header"><h3>Past Papers</h3></div>
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <h4>2022</h4>
                        <ul><li><a href="2022j.html">July 2022</a></li></ul>
                    </li>
                    <li>
                        <h4>2021</h4>
                        <ul>
                            <li><a href="2021n.html">November 2021</a></li>
                            <li><a href="2021j.html">July 2021</a></li>
                        </ul>
                    </li>
                    <li>
                        <h4>2019</h4>
                        <ul><li><a href="2019july.html">July 2019</a></li></ul>
                    </li>
                    <li>
                        <h4>2018</h4>
                        <ul><li><a href="2018j.html">July 2018</a></li></ul>
                    </li>
                    <li>
                        <h4>2017</h4>
                        <ul>
                            <li><a href="2017nov.html">November 2017</a></li>
                            <li><a href="2017july.html">July 2017</a></li>
                        </ul>
                    </li>
                    <li>
                        <h4>2016</h4>
                        <ul>
                            <li><a href="2016nov.html">November 2016</a></li>
                            <li><a href="2016july.html">July 2016</a></li>
                        </ul>
                    </li>
                    <li>
                        <h4>2015</h4>
                        <ul><li><a href="2015nov.html">November 2015</a></li></ul>
                    </li>
                    <li>
                        <h4>2014</h4>
                        <ul>
                            <li><a href="2014n.html">November 2014</a></li>
                            <li><a href="2014july.html">July 2014</a></li>
                        </ul>
                    </li>
                    <li>
                        <h4>2013</h4>
                        <ul><li><a href="2013nov.html">November 2013</a></li></ul>
                    </li>
                    <li>
                        <h4>2012</h4>
                        <ul><li><a href="2012july.html">July 2012</a></li></ul>
                    </li>
                    <li>
                        <h4>2011</h4>
                        <ul>
                            <li><a href="2011n.html">November 2011</a></li>
                            <li><a href="2011july.html">July 2011</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <main>
            <div class="paper-navigation top"><a href="2018j.html" class="btn">Previous Paper</a><a href="2021j.html" class="btn">Next Paper</a></div>

            <section class="paper-intro">
                <h3>INSTRUCTIONS TO CANDIDATES</h3>
                <p>This paper contains EIGHT questions.</p>
                <p>Answer any FIVE questions in the answer booklet provided.</p>
                <p>Candidates should answer the questions in English.</p>
                <p>This paper consists of 5 printed pages.</p>
                <p>Candidates should check the question paper to ascertain that all the pages are printed as indicated and that no questions are missing.</p>
            </section>

            <section class="paper-content">
                <div class="question">
                    <h3>Question 1 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) (i) Outline two advantages of using assembly language to create a program. (2 marks)</p>
                        <p>(ii) Distinguish between procedural and non-procedural programming languages. (4 marks)</p>
                        <p>(b) Explain two reasons that would make a programmer to opt for top-down design when developing a program. (4 marks)</p>
                        <p>(c) Assuming Pascal programming language, evaluate the expression:</p>
                        <pre><code>Y = sqr(a) + b * c mod 4 / d</code></pre>
                        <p>given that a=4, b=6, c=10 and d=3. (4 marks)</p>
                        <p>(d) A technical institute allocates hostels to students on first come first served basis. A student first registers for the term, pays fees and then applies for a hostel room. A room is allocated to students who meet this criterion.</p>
                        <p>Draw a flow chart to represent the logic in the narrative. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) (i) Advantages of Assembly Language:</strong></p>
                        <ul>
                            <li><strong>Speed/Efficiency:</strong> Can be highly optimized for specific hardware, leading to faster execution and smaller code size.</li>
                            <li><strong>Direct Hardware Control:</strong> Allows direct manipulation of processor registers, memory, and I/O ports, essential for system-level programming (e.g., drivers).</li>
                        </ul>
                        <em>(Similar to 2021j Q1a(ii))</em>

                        <p><strong>(a) (ii) Procedural vs. Non-Procedural Languages:</strong></p>
                        <ul>
                            <li><strong>Procedural Languages:</strong> Programmers specify the exact sequence of steps (procedures or functions) the computer must follow to achieve a result. Focus is on *how* to do something. Examples: C, Pascal, Fortran, COBOL.</li>
                            <li><strong>Non-Procedural (Declarative) Languages:</strong> Programmers specify *what* result is desired without detailing the exact sequence of steps to achieve it. The language implementation figures out the 'how'. Examples: SQL (for database queries), Prolog (logic programming), HTML (markup).</li>
                        </ul>

                        <p><strong>(b) Reasons for Top-Down Design:</strong></p>
                        <ul>
                            <li><strong>Problem Decomposition:</strong> Breaks down a complex problem into smaller, more manageable sub-problems (modules or functions). This simplifies understanding and development.</li>
                            <li><strong>Stepwise Refinement:</strong> Allows the programmer to focus on the high-level logic first and gradually refine the details of each sub-problem later.</li>
                            <li><strong>Modularity:</strong> Encourages the creation of independent modules, which improves code organization, reusability, and maintainability.</li>
                            <li><strong>Easier Testing/Debugging:</strong> Individual modules developed through top-down design can often be tested independently (unit testing).</li>
                        </ul>
                         <em>(Any two)</em>

                        <p><strong>(c) Pascal Expression Evaluation:</strong></p>
                        <p>Expression: <code>Y = sqr(a) + b * c mod 4 / d</code></p>
                        <p>Given: a=4, b=6, c=10, d=3</p>
                        <p>Order of Operations (Pascal):</p>
                        <ol>
                            <li>Function call: <code>sqr(a)</code> -> <code>sqr(4)</code> = 16</li>
                            <li>Multiplication/Division/Mod (Left to Right):
                                <ul>
                                    <li><code>b * c</code> -> <code>6 * 10</code> = 60</li>
                                    <li><code>60 mod 4</code> -> 0 (Remainder of 60 / 4)</li>
                                    <li><code>0 / d</code> -> <code>0 / 3</code> = 0.0 (Result is Real due to '/')</li>
                                </ul>
                            </li>
                            <li>Addition: <code>16 + 0.0</code> = 16.0</li>
                        </ol>
                        <p>Result: <strong>Y = 16.0</strong> (Note: The result is Real because of the division operator `/`. If integer division `div` was intended, the order and result might change depending on placement).</p>

                        <p><strong>(d) Flowchart (Hostel Allocation Logic):</strong></p>
                        <pre class="diagram-code">
+-------+
| START |
+-------+
    |
    V
+-------------------+
| Student Registers?|--NO--+
+-------------------+      |
    | YES                  |
    V                      |
+-------------------+      |
| Student Pays Fees?|--NO--+
+-------------------+      |
    | YES                  |
    V                      |
+-------------------+      |
| Student Applies   |--NO--+
| for Hostel?       |      |
+-------------------+      |
    | YES                  V
    V                  +-------------------+
+-------------------+  | Output "Cannot   |
| Allocate Room     |  | Allocate Room"  |
+-------------------+  +-------------------+
    |                      |
    +---------+------------+
              |
              V
           +-----+
           | END |
           +-----+
                        </pre>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 2 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) (i) Explain the term user-defined data type as used in programming. (2 marks)</p>
                        <p>(ii) A programmer created a program for a hospital to store patient details as a single entity consisting of; PatientNo, Patient_Name, Gender and Age.</p>
                        <p>(I) Identify the most appropriate data structure the programmer could have used. (1 mark)</p>
                        <p>(II) Using Pascal language declare a data structure that could be used to store this data. (4 marks)</p>
                        <p>(b) (i) Outline three operations that may be carried out on a stack data structure. (3 marks)</p>
                        <p>(ii) Distinguish between queue and linked list data structures. (4 marks)</p>
                        <p>(c) Table 1 shows the criteria used by Tusome Technical Institute to award grades to students. Use it to answer the question that follows:</p>
                        <table class="data-table">
                            <thead><tr><th>Points</th><th>Grade</th></tr></thead>
                            <tbody>
                                <tr><td>1</td><td>Distinction</td></tr>
                                <tr><td>2</td><td>Credit</td></tr>
                                <tr><td>3</td><td>Pass</td></tr> <!-- Assuming Pass for 3 -->
                                <tr><td>Other</td><td>Fail</td></tr> <!-- Assuming Fail for others -->
                            </tbody>
                        </table>
                        <p>Table 1</p>
                        <p>Write program in C language that would prompt a user to enter the points obtained by a student. The program then displays the corresponding grade. Use switch statement. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) (i) User-Defined Data Type:</strong></p>
                        <p>A user-defined data type (UDT) is a data type created by the programmer, rather than being built into the language. It allows the programmer to define custom data structures by combining existing primitive types (like integer, char, real) or other UDTs. Examples include records/structs, enumerated types, and classes (in OOP).</p>

                        <p><strong>(a) (ii) Patient Details Data Structure:</strong></p>
                        <p><strong>(I) Most Appropriate Data Structure:</strong> A <strong>Record</strong> (in Pascal) or <strong>Struct</strong> (in C).</p>
                        <p><strong>(II) Pascal Declaration:</strong></p>
                        <pre><code class="language-pascal">TYPE
  TPatientRecord = record
    PatientNo: Integer; // Or String if it includes non-numeric chars
    Patient_Name: string[50];
    Gender: Char; // Or a specific string type like string[1] or an enumerated type (Male, Female)
    Age: Integer;
  end;

VAR
  patientData: TPatientRecord;</code></pre>

                        <p><strong>(b) (i) Stack Operations:</strong></p>
                        <ul>
                            <li><strong>Push:</strong> Add an element to the top.</li>
                            <li><strong>Pop:</strong> Remove the element from the top.</li>
                            <li><strong>Peek/Top:</strong> View the top element without removing it.</li>
                        </ul>
                        <em>(Similar to 2021j Q6a(i))</em>

                        <p><strong>(b) (ii) Queue vs. Linked List:</strong></p>
                        <ul>
                            <li><strong>Queue:</strong> An abstract data type (ADT) that follows the First-In, First-Out (FIFO) principle. Elements are added (enqueued) at one end (rear) and removed (dequeued) from the other end (front). It defines a specific access pattern. Can be implemented using arrays or linked lists.</li>
                            <li><strong>Linked List:</strong> A concrete data structure consisting of nodes where each node contains data and a pointer (link) to the next node in the sequence (and optionally a pointer to the previous node in a doubly linked list). It allows efficient insertion and deletion anywhere in the list but typically requires sequential access to find an element. It doesn't inherently enforce FIFO or LIFO access.</li>
                        </ul>
                        <p><em>Key Distinction: Queue is an ADT defining behavior (FIFO), while Linked List is a data structure used for implementation (nodes connected by pointers).</em></p>

                        <p><strong>(c) C Program (Student Grades using Switch):</strong></p>
                        <pre><code class="language-c">#include &lt;stdio.h&gt;

int main() {
    int points;
    char grade[20]; // String to hold the grade description

    // Prompt user for points
    printf("Enter the points obtained by the student: ");
    if (scanf("%d", &points) != 1) {
        printf("Invalid input. Please enter an integer.\n");
        return 1; // Indicate error
    }

    // Use switch statement to determine the grade
    switch (points) {
        case 1:
            // strcpy(grade, "Distinction"); // Requires #include <string.h>
            sprintf(grade, "Distinction"); // Safer alternative if string.h not included
            break; // Exit switch after case is matched
        case 2:
            sprintf(grade, "Credit");
            break;
        case 3:
            sprintf(grade, "Pass");
            break;
        default: // Handles 'Other' cases
            sprintf(grade, "Fail");
            break;
    }

    // Display the corresponding grade
    printf("Points entered: %d\n", points);
    printf("Corresponding Grade: %s\n", grade);

    return 0;
}
</code></pre>
                        <p><em>Note: Using `sprintf` to copy the string into the `grade` array. `strcpy` is an alternative but requires including `string.h`.</em></p>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 3 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) (i) Explain two characteristics of an algorithm. (4 marks)</p>
                        <p>(ii) Write an algorithm that could be used to implement a quick sort. (4 marks)</p>
                        <p>(b) Write a program in C language that would prompt a user to enter an integer. The program then checks whether the integer entered is a prime number or not and displays an appropriate message. (6 marks)</p>
                        <p>(c) Write a program in Pascal language that prompts a user to enter a positive integer. The program then computes the sum of all integers from 0 to the integer. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) (i) Characteristics of an Algorithm:</strong></p>
                        <ul>
                            <li><strong>Finiteness:</strong> An algorithm must terminate after a finite number of steps for all valid inputs.</li>
                            <li><strong>Definiteness:</strong> Each step must be precisely and unambiguously defined. There should be no uncertainty about what to do next.</li>
                            <li><strong>Input:</strong> An algorithm takes zero or more well-defined inputs.</li>
                            <li><strong>Output:</strong> An algorithm produces one or more well-defined outputs that are the result of the computation.</li>
                            <li><strong>Effectiveness:</strong> Each step must be basic enough that it can, in principle, be carried out exactly and in a finite amount of time by a person using pencil and paper.</li>
                        </ul>
                         <em>(Any two)</em>

                        <p><strong>(a) (ii) Algorithm for Quicksort:</strong></p>
                        <p><em>(High-level recursive algorithm)</em></p>
                        <pre><code>PROCEDURE QuickSort(array, low_index, high_index)
  // Base case: If the segment has 0 or 1 elements, it's already sorted
  IF low_index < high_index THEN
    // 1. Partition the array:
    //    Choose a pivot element (e.g., the last element: array[high_index])
    //    Rearrange elements such that elements less than pivot are to its left,
    //    and elements greater than pivot are to its right.
    //    Get the final index of the pivot after partitioning.
    pivot_final_index = Partition(array, low_index, high_index)

    // 2. Recursively sort the sub-arrays:
    //    Sort the sub-array to the left of the pivot
    QuickSort(array, low_index, pivot_final_index - 1)
    //    Sort the sub-array to the right of the pivot
    QuickSort(array, pivot_final_index + 1, high_index)
  END IF
END PROCEDURE

// Helper Partition procedure (example using Lomuto partition scheme):
PROCEDURE Partition(array, low_index, high_index)
  SET pivot_value = array[high_index]
  SET i = low_index - 1 // Index of smaller element

  FOR j = low_index TO high_index - 1 DO
    IF array[j] <= pivot_value THEN
      INCREMENT i
      Swap(array[i], array[j])
    END IF
  END FOR

  // Swap the pivot element to its final position
  Swap(array[i + 1], array[high_index])
  RETURN i + 1 // Return the final index of the pivot
END PROCEDURE
</code></pre>

                        <p><strong>(b) C Program (Prime Number Check):</strong></p>
                        <pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;math.h&gt; // For sqrt() function
#include &lt;stdbool.h&gt; // For bool type (optional, can use int 0/1)

int main() {
    int number;
    int i;
    bool isPrime = true; // Assume prime initially

    // Prompt user for input
    printf("Enter a positive integer: ");
    if (scanf("%d", &number) != 1) {
        printf("Invalid input.\n");
        return 1;
    }

    // Handle edge cases: 0, 1 are not prime
    if (number <= 1) {
        isPrime = false;
    } else {
        // Check for factors from 2 up to the square root of the number
        // Optimization: only need to check up to sqrt(number)
        for (i = 2; i * i <= number; ++i) { // More efficient than i <= sqrt(number)
        // for (i = 2; i <= number / 2; ++i) { // Alternative check up to number/2
            if (number % i == 0) {
                isPrime = false; // Found a factor, not prime
                break; // No need to check further
            }
        }
    }

    // Display the result
    if (isPrime) {
        printf("%d is a prime number.\n", number);
    } else {
        printf("%d is not a prime number.\n", number);
    }

    return 0;
}
</code></pre>

                        <p><strong>(c) Pascal Program (Sum of Integers 0 to N):</strong></p>
                        <pre><code class="language-pascal">program SumIntegers;
var
  limit: Integer;
  i: Integer;
  sum: LongInt; // Use LongInt for sum to avoid potential overflow for large limits

begin
  // Prompt user for a positive integer limit
  Write('Enter a positive integer limit: ');
  Readln(limit);

  // Validate input
  if limit < 0 then
  begin
    Writeln('Invalid input. Limit must be non-negative.');
  end
  else
  begin
    sum := 0; // Initialize sum

    // Loop from 0 up to the limit and add to sum
    for i := 0 to limit do
    begin
      sum := sum + i;
    end;

    // Display the result
    Writeln('The sum of integers from 0 to ', limit, ' is: ', sum);

    // Alternative using formula (more efficient for large numbers):
    // sum := LongInt(limit) * (limit + 1) div 2;
    // Writeln('The sum (using formula) is: ', sum);

  end;

  Readln; // Keep console window open
end.
</code></pre>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 4 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) Outline two types of utility programs used in program translation. (2 marks)</p>
                        <p>(b) (i) A student created a program that could write data into a file. Describe three file organization techniques he could have used. (6 marks)</p>
                        <p>(ii) The following is C language program. Study and use it to answer the question that follows.</p>
                        <pre><code class="language-c">#include &lt;stdio.h&gt;

int main() {
    int Myarray[4] = {10, 20, 30, 40}; // Corrected declaration syntax
    int j; // Corrected loop variable name (was 'i' in loop condition)

    // Corrected loop: initialize j, check condition, decrement j
    for (j = 3; j >= 0; j--) {
        printf("Element[%d] Value = %d\n", j, Myarray[j]); // Corrected array access syntax
    }
    return 0;
}</code></pre>
                        <p>Interpret the program line by line. (4 marks)</p>
                        <p>(c) (i) Describe the term comment as used in Pascal programming language. (2 marks)</p>
                        <p>(ii) Figure 1 shows the floor area of a rectangular room that has been fitted with a circular carpet. Use it to answer the question that follows.</p>
                         <figure class="question-figure">
                           <!-- Placeholder for Figure 1 - Requires manual creation/insertion -->
                           <img src="images/2019july_q4cii_fig1.png" alt="Rectangular room with circular carpet" style="border:1px solid #ccc; padding: 10px; margin: 10px 0;">
                           <figcaption>Figure 1 (Illustrative - Actual diagram needed from PDF)</figcaption>
                        </figure>
                        <p>Write a program in Pascal language to compute the area not covered by the carpet. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) Utility Programs in Program Translation:</strong></p>
                        <ul>
                            <li><strong>Linker (or Link Editor):</strong> Combines one or more object code files (produced by the compiler/assembler) with necessary library code to create a single executable program. It resolves external references between modules.</li>
                            <li><strong>Loader:</strong> A part of the operating system responsible for loading the executable program from disk into main memory so that it can be run by the CPU.</li>
                            <li><strong>Library Manager:</strong> Allows programmers to create and manage libraries of pre-compiled code (object files or functions) that can be linked into multiple programs.</li>
                            <li><strong>Debugger:</strong> Helps programmers find and fix errors (bugs) by allowing them to step through code execution, inspect variable values, and set breakpoints.</li>
                        </ul>
                        <em>(Any two)</em>

                        <p><strong>(b) (i) File Organization Techniques:</strong></p>
                        <ul>
                            <li><strong>Sequential Organisation:</strong> Records are stored one after another in a specific order (either chronological or based on a key field). Access usually requires reading from the beginning. Simple, good for batch processing.</li>
                            <li><strong>Direct (Random) Access Organisation:</strong> Records can be accessed directly using an address or a key-to-address mapping (hashing), allowing fast retrieval without reading preceding records. Good for interactive systems.</li>
                            <li><strong>Indexed Sequential Organisation (ISAM):</strong> Combines sequential storage (ordered by key) with an index, allowing both efficient sequential processing and relatively fast direct access via the index.</li>
                        </ul>
                        <em>(Any three - similar to 2021j Q5b)</em>

                        <p><strong>(b) (ii) C Program Interpretation:</strong></p>
                        <ol>
                            <li><code>#include &lt;stdio.h&gt;</code>: Includes the standard input/output library (for `printf`).</li>
                            <li><code>int main() {</code>: Defines the main function where execution begins.</li>
                            <li><code>int Myarray[4] = {10, 20, 30, 40};</code>: Declares an integer array named `Myarray` of size 4 and initializes it with values {10, 20, 30, 40}. Indices are 0, 1, 2, 3.</li>
                            <li><code>int j;</code>: Declares an integer variable `j` to be used as the loop counter.</li>
                            <li><code>for (j = 3; j >= 0; j--) {</code>: Starts a `for` loop.
                                <ul>
                                    <li>Initialization: `j` is set to 3.</li>
                                    <li>Condition: The loop continues as long as `j` is greater than or equal to 0.</li>
                                    <li>Update: `j` is decremented by 1 after each iteration.</li>
                                </ul>
                            </li>
                            <li><code>printf("Element[%d] Value = %d\n", j, Myarray[j]);</code>: Inside the loop, this statement prints the current index `j` and the value of the array element at that index (`Myarray[j]`), followed by a newline.</li>
                            <li><code>}</code>: End of the `for` loop block.</li>
                            <li><code>return 0;</code>: Indicates successful program termination.</li>
                            <li><code>}</code>: End of the `main` function block.</li>
                        </ol>
                        <p><strong>Output:</strong> The program iterates through the array backwards by index and prints each element:</p>
                        <pre><code>Element[3] Value = 40
Element[2] Value = 30
Element[1] Value = 20
Element[0] Value = 10</code></pre>

                        <p><strong>(c) (i) Comment (Pascal):</strong></p>
                        <p>A comment in Pascal is explanatory text within the source code that is ignored by the compiler. It is used by programmers to clarify parts of the code, explain logic, add notes, or temporarily disable code sections. Pascal comments are enclosed in curly braces `{ }` or parenthesis-asterisks `(* *)`.</p>

                        <p><strong>(c) (ii) Pascal Program (Area Not Covered by Carpet):</strong></p>
                        <p><em>Assumptions based on a typical interpretation of Figure 1:</em></p>
                        <ul>
                            <li>The room is rectangular with length `L` and width `W`.</li>
                            <li>The carpet is circular and fits perfectly within the rectangle (its diameter equals the smaller dimension of the rectangle, let's assume Width `W`). Radius `R = W / 2`.</li>
                            <li>Need dimensions `L` and `W` (or radius `R`). Let's assume constants or prompt the user.</li>
                        </ul>
                        <pre><code class="language-pascal">program CarpetAreaDifference;
uses
  Math; // For Pi constant (or define it manually)

const
  ROOM_LENGTH = 10.0; // Example value
  ROOM_WIDTH = 8.0;   // Example value
  // PI_APPROX = 3.14159; // Manual definition if Math unit not used

var
  roomArea: Real;
  carpetRadius: Real;
  carpetArea: Real;
  uncoveredArea: Real;

begin
  // Calculate room area
  roomArea := ROOM_LENGTH * ROOM_WIDTH;

  // Calculate carpet radius (assuming diameter = room width)
  carpetRadius := ROOM_WIDTH / 2.0;

  // Calculate carpet area (Area = Pi * R^2)
  carpetArea := Pi * Sqr(carpetRadius); // Using Pi from Math unit and Sqr function
  // Alternatively: carpetArea := PI_APPROX * carpetRadius * carpetRadius;

  // Calculate uncovered area
  uncoveredArea := roomArea - carpetArea;

  // Display results
  Writeln('Room Dimensions (LxW): ', ROOM_LENGTH:0:2, ' x ', ROOM_WIDTH:0:2);
  Writeln('Room Area: ', roomArea:0:2);
  Writeln('Carpet Radius: ', carpetRadius:0:2);
  Writeln('Carpet Area: ', carpetArea:0:2);
  Writeln('Area Not Covered by Carpet: ', uncoveredArea:0:2);

  Readln; // Keep console window open
end.
</code></pre>
                        <p><em>Note: This assumes the carpet's diameter is the room's width. If the diagram implies something else (e.g., radius is given, or diameter is length), the calculation for `carpetRadius` would change. The actual Figure 1 is needed for certainty.</em></p>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 5 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) (i) Explain the term module as used in programming. (2 marks)</p>
                        <p>(ii) State two differences between a function and a procedure as used in Pascal language. (4 marks)</p>
                        <p>(b) Write a pseudocode that could be used to sort items in a list using bubble sort technique. (4 marks)</p>
                        <p>(c) Outline the use of each of the following C language file functions.</p>
                        <p>(i) <code>putc()</code></p>
                        <p>(ii) <code>fprintf()</code> (4 marks)</p>
                        <p>(d) Write a program in C language that could be used to generate the following output.</p>
                        <pre><code>4
4 5
4 5 6</code></pre>
                        <p>(6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) (i) Module (Programming):</strong></p>
                        <p>A module is a distinct and self-contained unit of a program (such as a file, function, procedure, or class) that groups related code and data to perform a specific task or set of related tasks. Modules help in organizing large programs, promoting code reusability, improving maintainability, and enabling separate compilation or development by different team members.</p>

                        <p><strong>(a) (ii) Function vs. Procedure (Pascal):</strong></p>
                        <ul>
                            <li><strong>Return Value:</strong> The primary difference is that a <strong>function</strong> is designed to compute and return a single value of a specific data type through its name, while a <strong>procedure</strong> performs an action or set of actions but does not return a value through its name.</li>
                            <li><strong>Usage in Code:</strong> A <strong>function</strong> call is typically used as part of an expression (e.g., on the right side of an assignment `y := MyFunction(x);` or within a `Writeln`), where its return value is needed. A <strong>procedure</strong> call is a standalone statement that executes the procedure's actions (e.g., `ProcessData(record);`).</li>
                        </ul>
                        <em>(Note: Both can modify parameters passed by reference (`VAR` parameters)).</em>

                        <p><strong>(b) Pseudocode for Bubble Sort:</strong></p>
                        <pre><code>PROCEDURE BubbleSort(dataArray, arraySize)
  // Outer loop for passes. Reduces effective size each pass.
  FOR pass = 1 TO arraySize - 1 DO
    // Inner loop for comparisons and swaps
    // Compare adjacent elements up to the last unsorted position
    FOR index = 0 TO arraySize - pass - 1 DO
      // If elements are in the wrong order (for ascending sort)
      IF dataArray[index] > dataArray[index + 1] THEN
        // Swap the elements
        Swap(dataArray[index], dataArray[index + 1])
      END IF
    END FOR
  END FOR
END PROCEDURE

// Alternative with optimization (stops if no swaps occur in a pass)
PROCEDURE BubbleSortOptimized(dataArray, arraySize)
  SET n = arraySize
  SET swapped = TRUE
  WHILE swapped = TRUE DO
    SET swapped = FALSE
    FOR index = 0 TO n - 2 DO
      IF dataArray[index] > dataArray[index + 1] THEN
        Swap(dataArray[index], dataArray[index + 1])
        SET swapped = TRUE
      END IF
    END FOR
    // Optimization: Reduce the range for the next pass
    DECREMENT n
  END WHILE
END PROCEDURE
</code></pre>

                        <p><strong>(c) C Language File Functions:</strong></p>
                        <ul>
                            <li><strong>(i) <code>putc(int character, FILE *stream)</code>:</strong> Writes a single character (passed as an `int`) to the specified output file `stream`. It returns the character written on success or `EOF` if an error occurs.</li>
                            <li><strong>(ii) <code>fprintf(FILE *stream, const char *format, ...)</code>:</strong> Writes formatted output to the specified file `stream`. It works similarly to `printf` but directs the output to a file. It takes a format control string and a variable number of arguments, formats them according to the format string, and writes the result to the stream. It returns the number of characters successfully written, or a negative value if an error occurs.</li>
                        </ul>

                        <p><strong>(d) C Program (Number Triangle Output):</strong></p>
                        <pre><code class="language-c">#include &lt;stdio.h&gt;

int main() {
    int i, j;
    int startNumber = 4; // The starting number for the pattern

    // Outer loop controls the number of rows (3 rows needed)
    for (i = 0; i < 3; i++) {
        // Inner loop controls the numbers printed in each row
        for (j = 0; j <= i; j++) {
            // Print the current number (startNumber + offset j)
            printf("%d ", startNumber + j);
        }
        // Move to the next line after each row is printed
        printf("\n");
    }

    return 0;
}
</code></pre>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 6 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) Outline two reasons for using data structures in a program. (2 marks)</p>
                        <p>(b) (i) Describe two types documents that could be included in a new program. (4 marks)</p>
                        <p>(ii) Distinguish between writeln( ) and write( ) functions as used in Pascal. (4 marks)</p>
                        <p>(c) Given the data items: Peter, George, Tom, Beatrice, Wayne, Joan and Ray.</p>
                        <p>(i) Construct a binary tree; (3 marks)</p>
                        <p>(ii) State the level of the data item Ray in the binary tree in (i). (1 mark)</p>
                        <p>(d) A program prompts a user to enter the code '1234' in order to log in to a system. If the entered code is correct a message “Welcome” is displayed otherwise a message “The code is incorrect” is displayed. The program allows up to a maximum of three entries.</p>
                        <p>Write a program in Pascal language that could be used to implement this logic. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) Reasons for Using Data Structures:</strong></p>
                        <ul>
                            <li><strong>Efficient Data Organization:</strong> Store and organize related data in a logical and structured manner (e.g., storing all details of a student together in a record).</li>
                            <li><strong>Efficient Data Access & Manipulation:</strong> Different data structures provide varying levels of efficiency for operations like searching, insertion, deletion, and sorting, allowing programmers to choose the best structure for the task's performance requirements.</li>
                            <li><strong>Abstraction:</strong> Hide the underlying implementation details of how data is stored, allowing programmers to work with data at a higher conceptual level.</li>
                            <li><strong>Code Reusability:</strong> Standard data structures (like lists, stacks, queues) can be reused across different parts of a program or in different programs.</li>
                        </ul>
                        <em>(Any two)</em>

                        <p><strong>(b) (i) Types of Documents Included with a New Program:</strong></p>
                        <ul>
                            <li><strong>User Documentation:</strong> Guides the end-user on how to install, configure, and use the software. Includes user manuals, tutorials, FAQs, help files.</li>
                            <li><strong>Technical/System Documentation:</strong> Describes the program's architecture, design, algorithms, data structures, APIs, and internal workings for developers who need to maintain or modify the software. Includes design documents, code comments, API references.</li>
                            <li><strong>Requirements Specification:</strong> Details what the program is supposed to do, its features, constraints, and acceptance criteria.</li>
                            <li><strong>Test Plan/Report:</strong> Outlines how the software was tested and the results of those tests.</li>
                        </ul>
                        <em>(Any two distinct types)</em>

                        <p><strong>(b) (ii) `writeln()` vs. `write()` (Pascal):</strong></p>
                        <ul>
                            <li><strong><code>write(arguments...)</code>:</strong> Outputs the specified arguments (variables, literals) to the standard output device (console) but leaves the cursor positioned immediately *after* the last character printed on the same line.</li>
                            <li><strong><code>writeln(arguments...)</code>:</strong> Outputs the specified arguments (if any) to the standard output device, and *then* outputs a newline character, moving the cursor to the beginning of the *next* line. If called without arguments (`writeln;`), it just outputs a newline.</li>
                        </ul>

                        <p><strong>(c) Binary Tree Construction and Level:</strong></p>
                        <p>Data items: Peter, George, Tom, Beatrice, Wayne, Joan, Ray</p>
                        <p><strong>(i) Binary Tree (assuming standard BST rules, alphabetical order):</strong></p>
                        <pre class="diagram-code">
        Peter
       /     \
    George    Tom
   /   \     /   \
Beatrice Joan Ray  Wayne
                        </pre>
                        <p><em>Insertion Steps: Peter(root), George(L), Tom(R), Beatrice(L-L), Wayne(R-R), Joan(L-R), Ray(R-L)</em></p>

                        <p><strong>(ii) Level of 'Ray':</strong></p>
                        <p>Assuming the root (Peter) is at level 0:</p>
                        <ul>
                            <li>Level 0: Peter</li>
                            <li>Level 1: George, Tom</li>
                            <li>Level 2: Beatrice, Joan, Ray, Wayne</li>
                        </ul>
                        <p>The level of 'Ray' is <strong>2</strong>.</p>
                        <p><em>(If the root is considered level 1, then Ray is at level 3). Conventionally, root is level 0.</em></p>

                        <p><strong>(d) Pascal Program (Login Attempt Limit):</strong></p>
                        <pre><code class="language-pascal">program LoginSystem;

const
  CORRECT_CODE = '1234';
  MAX_ATTEMPTS = 3;

var
  enteredCode: string;
  attempts: Integer;
  loggedIn: Boolean;

begin
  attempts := 0;
  loggedIn := False;

  Writeln('--- System Login ---');

  repeat
    attempts := attempts + 1; // Increment attempt counter
    Write('Attempt ', attempts, ' of ', MAX_ATTEMPTS, '. Enter code: ');
    Readln(enteredCode);

    if enteredCode = CORRECT_CODE then
    begin
      loggedIn := True;
      Writeln('Welcome');
    end
    else
    begin
      Writeln('The code is incorrect');
      if attempts = MAX_ATTEMPTS then
        Writeln('Maximum login attempts reached.');
    end;

  // Continue loop while not logged in AND attempts are less than max
  until loggedIn or (attempts >= MAX_ATTEMPTS);

  Readln; // Keep console window open
end.
</code></pre>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 7 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) Explain the use of each of the following reserved words in structured programming.</p>
                        <p>(i) break;</p>
                        <p>(ii) continue. (4 marks)</p>
                        <p>(b) Distinguish between realloc and free functions as used in C programming language. (4 marks)</p>
                        <p>(c) (i) Outline two advantages of merge sort algorithm. (2 marks)</p>
                        <p>(ii) Figure 2 shows a list of data items in a data structure. Use it to answer the question that follows.</p>
                        <figure class="question-figure">
                           <!-- Placeholder for Figure 2 - Requires manual creation/insertion -->
                           <pre><code>| 34 | 15 | 27 | 19 | 13 | 4 | 7 |</code></pre>
                           <pre><code>     ^                   ^</code></pre>
                           <pre><code>    Rear                Front</code></pre>
                           <figcaption>Figure 2 (Interpreted from OCR)</figcaption>
                        </figure>
                        <p>Describe the data structure depicted in the figure. (4 marks)</p>
                        <p>(d) Write a program in C language that declares an array of 5 integers. The program then prompts a user to enter values into the array. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) Use of Reserved Words:</strong></p>
                        <ul>
                            <li><strong>(i) <code>break;</code>:</strong> Used to immediately exit the innermost loop (<code>for</code>, <code>while</code>, <code>do...while</code>) or <code>switch</code> statement. Control transfers to the statement following the terminated loop/switch.</li>
                            <li><strong>(ii) <code>continue;</code>:</strong> Used inside loops. It skips the remaining statements in the current iteration of the loop body and proceeds directly to the next iteration's condition check or update expression.</li>
                        </ul>
                        <em>(Similar to 2021j Q2d(i))</em>

                        <p><strong>(b) `realloc()` vs. `free()` (C Memory Management):</strong></p>
                        <ul>
                            <li><strong><code>realloc(void *ptr, size_t size)</code>:</strong> Attempts to resize a previously allocated block of memory (pointed to by `ptr`, allocated using `malloc`, `calloc`, or `realloc`) to a new `size`. It might move the memory block to a new location if necessary. It returns a pointer to the (potentially moved) resized block, or `NULL` if the request fails (in which case the original block remains allocated).</li>
                            <li><strong><code>free(void *ptr)</code>:</strong> Deallocates a block of memory previously allocated by `malloc`, `calloc`, or `realloc` (pointed to by `ptr`). This returns the memory to the heap, making it available for future allocations. Accessing memory after it has been freed leads to undefined behavior.</li>
                        </ul>

                        <p><strong>(c) (i) Advantages of Merge Sort:</strong></p>
                        <ul>
                            <li><strong>Stable Time Complexity:</strong> Guaranteed O(n log n) time complexity in all cases (worst, average, best), making it reliable for performance-sensitive applications.</li>
                            <li><strong>Stable Sort:</strong> Preserves the relative order of equal elements, which can be important in some applications.</li>
                            <li><strong>Good for External Sorting:</strong> Efficient for sorting data that doesn't fit entirely into memory (external sorting) because it works well with data that can be read sequentially (like from tapes or files).</li>
                        </ul>
                         <em>(Any two)</em>

                        <p><strong>(c) (ii) Data Structure Description (Figure 2):</strong></p>
                        <p>The figure depicts a <strong>Queue</strong> implemented using an array, likely as a <strong>circular queue</strong>.</p>
                        <p>Key indicators:</p>
                        <ul>
                            <li>Presence of `Front` and `Rear` pointers/indices.</li>
                            <li>Data elements (34, 15, 27, 19, 13, 4, 7) stored contiguously, suggesting an array.</li>
                            <li>`Front` points to the element at the beginning of the queue (7).</li>
                            <li>`Rear` points to the element at the end of the queue (34).</li>
                            <li>The arrangement implies elements are added at the `Rear` and removed from the `Front` (FIFO). The gap between `Rear` (index 0) and `Front` (index 6) suggests it might be a circular implementation where the indices wrap around.</li>
                        </ul>

                        <p><strong>(d) C Program (Declare and Read into Array):</strong></p>
                        <pre><code class="language-c">#include &lt;stdio.h&gt;

#define ARRAY_SIZE 5

int main() {
    int numbers[ARRAY_SIZE]; // Declare an array of 5 integers
    int i;

    printf("Enter %d integer values:\n", ARRAY_SIZE);

    // Loop to prompt user and read values into the array
    for (i = 0; i < ARRAY_SIZE; ++i) {
        printf("Enter value for element %d: ", i);
        // Basic input validation
        if (scanf("%d", &numbers[i]) != 1) {
            printf("Invalid input. Please enter an integer.\n");
            // Clear buffer and retry or exit
            while(getchar() != '\n'); // Clear buffer
            i--; // Retry current index
            continue;
        }
    }

    // Optional: Print the entered values to confirm
    printf("\nYou entered the following values:\n");
    for (i = 0; i < ARRAY_SIZE; ++i) {
        printf("numbers[%d] = %d\n", i, numbers[i]);
    }

    return 0;
}
</code></pre>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <h3>Question 8 (20 marks)</h3>
                    <div class="question-content">
                        <p>(a) (i) State two ways other than comments through which a programmer could make a program more understandable. (2 marks)</p>
                        <p>(ii) A student created a program using C language; identify an escape sequence he could use to format the output as a table. (2 marks)</p>
                        <p>(b) Outline the meaning of each of the following escape sequences as used in C programming language.</p>
                        <p>(i) <code>\a</code></p>
                        <p>(ii) <code>\b</code></p>
                        <p>(iii) <code>\\</code></p>
                        <p>(iv) <code>\0</code> (4 marks)</p>
                        <p>(c) (i) Outline two types of errors that one could encounter when working with a stack. (2 marks)</p>
                        <p>(ii) Describe two error trapping functions used in C programming language. (4 marks)</p>
                        <p>(d) Table 2 shows the criteria used by a county government to allocate bursaries to students. Use it to answer the question that follows.</p>
                         <table class="data-table">
                            <thead><tr><th>Status</th><th>Amount Allocated</th></tr></thead>
                            <tbody>
                                <tr><td>Affirmative Action</td><td>13,000</td></tr>
                                <tr><td>Other</td><td>0</td></tr>
                            </tbody>
                        </table>
                        <p>Table 2</p>
                        <p>Write a program in Pascal language that would prompt a user to enter the status of a student. The program then outputs the amount allocated to the student. Use nested if statement. (6 marks)</p>
                    </div>
                    <div class="answer-section">
                        <h4>Answer</h4>
                        <div class="answer-content">
                        <p><strong>(a) (i) Making Programs Understandable (Other than Comments):</strong></p>
                        <ul>
                            <li><strong>Meaningful Variable/Function Names:</strong> Using descriptive identifiers that clearly indicate the purpose of variables, functions, constants, etc.</li>
                            <li><strong>Consistent Indentation and Formatting:</strong> Applying a clear and consistent visual structure to the code using indentation, spacing, and alignment to highlight blocks and control flow.</li>
                            <li><strong>Modularity:</strong> Breaking the program into smaller, well-defined functions or modules, each responsible for a specific task.</li>
                            <li><strong>Avoiding "Magic Numbers":</strong> Using named constants instead of unexplained literal values within the code.</li>
                        </ul>
                        <em>(Any two - similar to 2021n Q3b(i))</em>

                        <p><strong>(a) (ii) Escape Sequence for Table Formatting (C):</strong></p>
                        <p>The most common escape sequence used to help format output as a table is <strong><code>\t</code> (Horizontal Tab)</strong>. By strategically placing tabs between output items, columns can often be aligned (assuming appropriate tab stops are set or default tab stops work reasonably well).</p>

                        <p><strong>(b) Meaning of C Escape Sequences:</strong></p>
                        <ul>
                            <li><strong>(i) <code>\a</code>:</strong> Alert (Bell) - Produces an audible or visible alert (like a beep), if supported by the terminal.</li>
                            <li><strong>(ii) <code>\b</code>:</strong> Backspace - Moves the cursor one position back on the current line.</li>
                            <li><strong>(iii) <code>\\</code>:</strong> Backslash - Represents a literal backslash character <code>\</code>.</li>
                            <li><strong>(iv) <code>\0</code>:</strong> Null Character - Represents the character with ASCII value 0. It is primarily used as the terminator for C-style strings.</li>
                        </ul>

                        <p><strong>(c) (i) Errors Encountered with a Stack:</strong></p>
                        <ul>
                            <li><strong>Stack Overflow:</strong> Attempting to `Push` an element onto a stack that is already full (reached its maximum capacity, especially in array-based implementations).</li>
                            <li><strong>Stack Underflow:</strong> Attempting to `Pop` or `Peek` an element from a stack that is currently empty.</li>
                        </ul>

                        <p><strong>(c) (ii) Error Trapping Functions (C):</strong></p>
                        <p>While C doesn't have built-in "trapping" in the sense of exceptions like C++ or Java, common ways to detect and handle errors include:</p>
                        <ul>
                            <li><strong>Checking Return Values:</strong> Many standard library functions (especially file I/O like `fopen`, `fscanf`, `fread`, and memory allocation like `malloc`, `realloc`) return specific values (like `NULL` or `EOF`) to indicate an error occurred. The programmer must explicitly check these return values.
                                <pre><code class="language-c">FILE *fp = fopen("data.txt", "r");
if (fp == NULL) {
    perror("Error opening file"); // perror prints system error message
    // Handle error...
}</code></pre>
                            </li>
                            <li><strong>Using `errno` and `perror`/`strerror`:</strong> When some system calls or library functions fail, they set a global integer variable `errno` (defined in `<errno.h>`) to a specific error code. The `perror(const char *s)` function prints the string `s` followed by a colon, a space, and a system-defined error message corresponding to the current value of `errno`. The `strerror(int errnum)` function returns a pointer to the error message string corresponding to `errnum`.
                                <pre><code class="language-c">#include &lt;errno.h&gt;
// ... after a function call that might set errno ...
if (/* condition indicating error, e.g., return value is NULL */) {
    perror("Operation failed"); // Prints "Operation failed: [System error message]"
    // OR: printf("Error code %d: %s\n", errno, strerror(errno));
    // Handle error...
}</code></pre>
                            </li>
                            <li><strong>Using `assert()`:</strong> The `assert(expression)` macro (from `<assert.h>`) checks if an expression is true. If it's false, it prints an error message to `stderr` (including the file name, line number, and the expression) and terminates the program via `abort()`. Useful for debugging internal logic errors during development.</li>
                        </ul>
                        <em>(Description of any two methods)</em>

                        <p><strong>(d) Pascal Program (Bursary Allocation - Nested If):</strong></p>
                        <pre><code class="language-pascal">program BursaryAllocation;
uses
  SysUtils; // For CompareText or AnsiUpperCase

var
  status: string;
  amountAllocated: Integer; // Assuming whole shillings

begin
  Write('Enter student status (Affirmative Action / Other): ');
  Readln(status);

  // Use nested IF statement (though simple IF-ELSE is sufficient here)
  // Convert to a consistent case for comparison
  if CompareText(status, 'Affirmative Action') = 0 then // Case-insensitive compare
  // Alternatively: if AnsiUpperCase(status) = 'AFFIRMATIVE ACTION' then
  begin
    amountAllocated := 13000;
  end
  else
  begin
    // Nested if to check if it's 'Other' or something else
    if CompareText(status, 'Other') = 0 then
    // Alternatively: if AnsiUpperCase(status) = 'OTHER' then
    begin
       amountAllocated := 0;
    end
    else
    begin
       // Handle invalid status input if necessary
       Writeln('Invalid status entered.');
       amountAllocated := -1; // Indicate error or invalid status
    end;
  end;

  // Output the result
  Writeln('--------------------------');
  Writeln('Student Status: ', status);
  if amountAllocated >= 0 then
    Writeln('Amount Allocated: ', amountAllocated)
  else
    Writeln('Amount Allocated: N/A (Invalid Status)');
  Writeln('--------------------------');

  Readln; // Keep console window open
end.
</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <div class="paper-navigation bottom"><a href="2018j.html" class="btn">Previous Paper</a><a href="2021j.html" class="btn">Next Paper</a></div>
        </main>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Subject Past Papers Collection | Kenya National Examinations Council</p>
        </div>
    </footer>
</body>
</html>